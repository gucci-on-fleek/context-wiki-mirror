<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="style.css" rel="stylesheet">
  <link href="favicon.ico" rel="icon" sizes="32x32">
  <title>
   Aleph Guide&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Aleph_Guide" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Aleph Guide
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=1817&diff=33625">2022-07-02</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p>(with apologies to Maimonides)
</p>
    <p>by Prof. <a class="new" href="index.php?title=User:Ishamid&action=edit&redlink=1" title="User:Ishamid (page does not exist)">Idris Samawi Hamid</a>
</p>
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Aleph_in_ConTeXt:_A_Guide_to_the_Perplexed">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Aleph in ConTeXt: A Guide to the Perplexed
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-2">
         <a href="#Introduction">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           Introduction
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-3">
         <a href="#Installing">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           Installing
          </span>
         </a>
         <ul>
          <li class="toclevel-3 tocsection-4">
           <a href="#omarb.tex">
            <span class="tocnumber">
             1.2.1
            </span>
            <span class="toctext">
             omarb.tex
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-5">
           <a href="#m-arabic-enc.tex">
            <span class="tocnumber">
             1.2.2
            </span>
            <span class="toctext">
             m-arabic-enc.tex
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2 tocsection-6">
         <a href="#Going_beyond">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           Going beyond
          </span>
         </a>
         <ul>
          <li class="toclevel-3 tocsection-7">
           <a href="#Example:_If_you_want_to_get_the_final_Persian_kaaf_instead_of_the_default_Arabic_one">
            <span class="tocnumber">
             1.3.1
            </span>
            <span class="toctext">
             Example: If you want to get the final Persian kaaf instead of the default Arabic one
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-8">
           <a href="#Want_new_fonts_.28Arabic_or_Latin.29.3F_Here_are_the_instructions">
            <span class="tocnumber">
             1.3.2
            </span>
            <span class="toctext">
             Want new fonts (Arabic or Latin)? Here are the instructions
            </span>
           </a>
           <ul>
            <li class="toclevel-4 tocsection-9">
             <a href="#How_to_cook_omarab.ovf">
              <span class="tocnumber">
               1.3.2.1
              </span>
              <span class="toctext">
               How to cook omarab.ovf
              </span>
             </a>
            </li>
            <li class="toclevel-4 tocsection-10">
             <a href="#How_to_distill_omarab.ovp_from_omarab.ovf:">
              <span class="tocnumber">
               1.3.2.2
              </span>
              <span class="toctext">
               How to distill omarab.ovp from omarab.ovf:
              </span>
             </a>
            </li>
            <li class="toclevel-4 tocsection-11">
             <a href="#How_to_cook_omarabb.ovf">
              <span class="tocnumber">
               1.3.2.3
              </span>
              <span class="toctext">
               How to cook omarabb.ovf
              </span>
             </a>
            </li>
            <li class="toclevel-4 tocsection-12">
             <a href="#How_to_distill_omarabb.ovp_from_omarabb.ovf">
              <span class="tocnumber">
               1.3.2.4
              </span>
              <span class="toctext">
               How to distill omarabb.ovp from omarabb.ovf
              </span>
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li class="toclevel-2 tocsection-13">
         <a href="#Miscellaneous">
          <span class="tocnumber">
           1.4
          </span>
          <span class="toctext">
           Miscellaneous
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-14">
         <a href="#To_the_future">
          <span class="tocnumber">
           1.5
          </span>
          <span class="toctext">
           To the future
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Introduction">
      Introduction
     </span>
    </h2>
    <p><a href="Aleph.html" title="Aleph">Aleph</a> is a typesetting engine derived from Omega and eTeX. Reasons for Aleph:
</p>
    <ol>
     <li>
      ConTeXt depends on the eTeX extensions, and even LaTeX now defaults to pdfeTeX.
     </li>
     <li>
      Omega provides a nice foundation for multilingual typesetting with large (&gt;256) character sets, including large virtual fonts, but a stable, dependable version has not been a priority with its developers.
      <ol>
       <li>
        In particular, the RL-LR code works excellently for the most part (minor bugs, easy to work around).
       </li>
       <li>
        Omega 1.15 was the last relatively stable bugfix version, as far as usability is concerned.
       </li>
      </ol>
     </li>
     <li>
      Some users need a dependable LR-RL TeX engine
      <i>
       now
      </i>
      .
     </li>
    </ol>
    <p>Aleph weds Omega 1.15 and eTeX 201, removes some extraneous stuff, and fixes a few bugs. I use it for production purposes. It uses dvipdfmx for pdf production, and can take advantage of most of ConTeXt's capabilities. Giuseppe Bilotta has done virtually all of the development work.
</p>
    <p>In addition to large character sets, Aleph inherits the filter sequence mechanism for script processing (extension ocp, compile from text-editable otp). So you can script whatever input encoding you like to whatever output font encoding you like. It is mechanism powerful enough to do contextual analysis of Arabic script for example, but not powerful enough for things like vertical glyph positioning for cursive scripts and the like.
</p>
    <p><i>Aleph</i>, inheriting from <i>Omega</i>, provides many ready-to-go filters, using a Times Roman like font for Latin, Greek, and Cyrillic scripts.
The ConTeXt module for this setup is called <i>Gamma</i> (<a class="extiw" href="http://source.contextgarden.net/m-gamma.tex" title="source:m-gamma.tex">m-gamma.tex</a>); this is a port of the <i>Lambda</i> (i.e., LaTeX) style files to ConTeXt. The font typescript is called type-omg.
</p>
    <h2>
     <span class="mw-headline" id="Installing">
      Installing
     </span>
    </h2>
    <p>This install is based on the stand-alone <a class="external text" href="http://www.pragma-ade.nl/context/install/mswincontext.zip" rel="nofollow">ConTeXt for Win32 package</a>.
</p>
    <p>Users of MiKTeX and other OS's will need to adjust the following instructions to their own setups.
</p>
    <ul>
     <li>
      Make sure you have a very recent version of ConTeXt that supports the engine path mechanism. This mechanism allows
      <tt>
       texexec
      </tt>
      to manage two, e.g.,
      <tt>
       cont-en.fmt
      </tt>
      files at once, one in
      <code>texmf/web2c/aleph</code>
      and one in
      <code>texmf/web2c/pdfetex</code>
     </li>
    </ul>
    <p>How recent, you ask? Just be safe and get the latest&nbsp;:-)
</p>
    <ul>
     <li>
      Some configuration points:
      <ul>
       <li>
        Make sure you have the following line in
        <tt>
         texexec.ini
        </tt>
        set to "true":
        <pre class="tex">set  UseEnginePath      to  true</pre>
       </li>
       <li>
        In
        <tt>
         texmf-local\web2c\texmf.cnf
        </tt>
        ,
        <tt>
         texmf-local\web2c\context.cnf
        </tt>
        , and
        <tt>
         texmf\web2c\texmf.cnf
        </tt>
        comment out the following line
       </li>
      </ul>
     </li>
    </ul>
    <pre class="tex"> extra_mem_bot.context    <span class="brx">=</span> 2000000</pre>
    <p>otherwise Aleph will crash under some conditions, like overfull boxes and the like...<br>The <a class="mw-redirect" href="XeTeX_-_Old_Content.html" title="XeTeX">XeTeX</a> developer found the source to this bug, and a fix; hopefully <a class="new" href="index.php?title=User:Oblomov&action=edit&redlink=1" title="User:Oblomov (page does not exist)">Giuseppe</a> will get to it&nbsp;:-))
</p>
    <ul>
     <li>
      Get the omega support files
      <a class="external text" href="http://ftp.cvut.cz/tex-archive/obsolete/systems/win32/fptex/0.7/package/omega.zip" rel="nofollow">
       omega.zip
      </a>
      and
      <a class="external text" href="http://ftp.cvut.cz/tex-archive/obsolete/systems/win32/fptex/0.7/package/omegafonts.zip" rel="nofollow">
       omegafonts.zip
      </a>
      .
     </li>
     <li>
      Get rid of two directories from omega.zip (not really necessary but if you want to be efficient):
      <tt>
       texmf/eomega
      </tt>
      and
      <tt>
       texmf/omega/encodings
      </tt>
     </li>
     <li>
      Put support files in
      <tt>
       texmf-local
      </tt>
      .
     </li>
     <li>
      Replace the default uni2cuni.ocp and uni2cuni.otp with this one:
      <a class="internal" href="images/2/27/Uni2cuni.zip" title="Uni2cuni.zip">
       Media:Uni2cuni.zip
      </a>
      This contains two ocp's: uni2cuni.ocp and uni2cuni-math.ocp. uni2cuni-math is the equicalent of the old omega uni2cuni.
     </li>
    </ul>
    <p>This makes r-l numeral labels with separators easier to handle. Always use something like $&lt;numeral&gt;$ or ${\tf &lt;numeral&gt;}$ for mathematics and decimal points. $&lt;numeral&gt;$ uses the default math font; ${\tf &lt;numeral&gt;}$ uses the digits from the main text font.
</p>
    <ul>
     <li>
      Compile the Aleph format:
      <pre class="tex">mktexlsr<br>texexec --make en -tex<span class="brx">=</span>aleph</pre>
     </li>
     <li>
      Here is a test file. Note the preamble
     </li>
    </ul>
    <pre class="tex"> %tex<span class="brx">=</span>aleph output<span class="brx">=</span>dvipdfmx</pre>
    <p>at the beginning of every Aleph file.
</p>
    <h3>
     <span class="mw-headline" id="omarb.tex">
      omarb.tex
     </span>
    </h3>
    <pre class="tex"><span class="comment">% tex=aleph output=dvipdfmx</span>
<span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>gamma<span class="brx">]</span>
<span class="cs"><span class="documentcs">\input</span></span> type-omg.tex <span class="comment">% perhaps \usetypescriptfile[type-omg]&nbsp;?</span>

<span class="cs"><span class="stylecs">\setupbodyfont</span></span><span class="brx">[</span>omlgc,12pt<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>

<span class="cs">\startlatin</span>

This is a test

<span class="cs">\bf</span> This is a test

<span class="cs">\stoplatin</span>

<span class="cs">\startgreek</span>

A B G D a b g d

<span class="br">{</span><span class="cs">\bf</span> A B G D a b g d<span class="br">}</span>

<span class="cs">\stopgreek</span>

<span class="cs">\startarab</span>

`rby:

A b t th j H kh

<span class="br">{</span><span class="cs">\bf</span> \ A b t th j H kh<span class="br">}</span>

fArsy:

A b p t th j ch H kh

<span class="br">{</span><span class="cs">\bf</span> A b p t th j ch H kh<span class="br">}</span>

<span class="cs">\starturdu</span>

ArdU:

A b p t 't th j ch H kh

<span class="br">{</span><span class="cs">\bf</span> A b p t 't th j ch H kh<span class="br">}</span>

<span class="cs">\stopurdu</span>

<span class="cs"><span class="documentcs">\blank</span></span>

<span class="cs">\tfc</span>

`rby:

bsm ALLah Al-rrHmn Al-rrHym

fArsy:

bh nAm khdAwnd b-kh-sh-nde mhrbAn

<span class="cs">\starturdu</span>

<span class="cs">\tfc</span>

ArdU:

ALLah kE nAm sE jw rHmAn w rHym hE

<span class="cs">\stopurdu</span>

<span class="cs">\stoparab</span>

<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <ul>
     <li>
      For Arabic script you will probably want to use an
      <a href="Encodings_and_Regimes_-_Old_Content.html" title="Encodings and Regimes - Old Content">
       encoding
      </a>
      that supports direct Arabic-script editing. There are three: utf-8, iso-8859-6 (Apple/Unix), and cp1256 (Microsoft). We can define the following, using ConTeXt macros for managing filter sequences. Maybe I will add these to
      <a class="extiw" href="http://source.contextgarden.net/m-gamma-tex" title="source:m-gamma-tex">
       m-gamma
      </a>
      and ask
      <a class="new" href="index.php?title=User:Hagen&action=edit&redlink=1" title="User:Hagen (page does not exist)">
       Hans
      </a>
      to distribute. In the meantime, here are some definitions, samples of all three encodings, and an example of mixed lr-rl text:
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="m-arabic-enc.tex">
      m-arabic-enc.tex
     </span>
    </h3>
    <pre class="tex"><span class="comment">% tex=aleph output=dvipdfmx</span>
<span class="comment">%\usemodule[gamma]</span>
<span class="cs"><span class="stylecs">\usetypescriptfile</span></span><span class="brx">[</span>type-omg<span class="brx">]</span>
<span class="cs"><span class="stylecs">\usetypescript</span></span><span class="brx">[</span>OmegaArab<span class="brx">]</span>

<span class="cs">\hoffset</span><span class="brx">=</span>0pt

<span class="comment">%% Individual Filters</span>

<span class="comment">% Input filters (from what you type)</span>

<span class="cs">\definefiltersynonym</span> <span class="brx">[</span>UTF8<span class="brx">]</span>      <span class="brx">[</span>inutf8<span class="brx">]</span>
<span class="cs">\definefiltersynonym</span> <span class="brx">[</span>ISO8859-6<span class="brx">]</span> <span class="brx">[</span>in88596<span class="brx">]</span>
<span class="cs">\definefiltersynonym</span> <span class="brx">[</span>CP1256<span class="brx">]</span>    <span class="brx">[</span>incp1256<span class="brx">]</span>

<span class="comment">% Contextual filter</span>

<span class="cs">\definefiltersynonym</span> <span class="brx">[</span>UniCUni<span class="brx">]</span>            <span class="brx">[</span>uni2cuni<span class="brx">]</span>

<span class="comment">% Output filters (font mapping)</span>

<span class="cs">\definefiltersynonym</span> <span class="brx">[</span>CUniArab<span class="brx">]</span>           <span class="brx">[</span>cuni2oar<span class="brx">]</span>

<span class="comment">%% Filter Sequences</span>

<span class="cs">\definefiltersequence</span>
  <span class="brx">[</span>UTFArabic<span class="brx">]</span>
  <span class="brx">[</span>UTF8,UniCUni,CUniArab<span class="brx">]</span>

<span class="cs">\definefiltersequence</span>
  <span class="brx">[</span>ISOArabic<span class="brx">]</span>
  <span class="brx">[</span>ISO8859-6,UniCUni,CUniArab<span class="brx">]</span>

<span class="cs">\definefiltersequence</span>
  <span class="brx">[</span>WINArabic<span class="brx">]</span>
  <span class="brx">[</span>CP1256,UniCUni,CUniArab<span class="brx">]</span>

<span class="comment">% For inner paragraph control within an LR paragraph</span>

<span class="cs"><span class="stylecs">\definestartstop</span></span>
  <span class="brx">[</span>arabictextutf<span class="brx">]</span>
  <span class="brx">[</span>commands<span class="brx">=</span><span class="comment">%</span>
    <span class="br">{</span><span class="cs">\textdir</span> TRT<span class="comment">%</span>
    <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="comment">%</span>
    <span class="cs">\usefiltersequence</span><span class="brx">[</span>UTFArabic<span class="brx">]</span><span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="stylecs">\definestartstop</span></span>
  <span class="brx">[</span>arabictextiso<span class="brx">]</span>
  <span class="brx">[</span>commands<span class="brx">=</span><span class="comment">%</span>
    <span class="br">{</span><span class="cs">\textdir</span> TRT<span class="comment">%</span>
    <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="comment">%</span>
    <span class="cs">\usefiltersequence</span><span class="brx">[</span>ISOArabic<span class="brx">]</span><span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="stylecs">\definestartstop</span></span>
  <span class="brx">[</span>arabictextwin<span class="brx">]</span>
  <span class="brx">[</span>commands<span class="brx">=</span><span class="comment">%</span>
    <span class="br">{</span><span class="cs">\textdir</span> TRT<span class="comment">%</span>
    <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="comment">%</span>
    <span class="cs">\usefiltersequence</span><span class="brx">[</span>WINArabic<span class="brx">]</span><span class="br">}</span><span class="brx">]</span>

<span class="cs">\def</span><span class="cs">\ArabicTextUTF</span><span class="brx">#</span>1<span class="br">{</span><span class="cs">\startarabictextutf</span><span class="brx">#</span>1<span class="cs">\stoparabictextutf</span><span class="br">}</span>

<span class="cs">\def</span><span class="cs">\ArabicTextISO</span><span class="brx">#</span>1<span class="br">{</span><span class="cs">\startarabictextiso</span><span class="brx">#</span>1<span class="cs">\stoparabictextiso</span><span class="br">}</span>

<span class="cs">\def</span><span class="cs">\ArabicTextWIN</span><span class="brx">#</span>1<span class="br">{</span><span class="cs">\startarabictextwin</span><span class="brx">#</span>1<span class="cs">\stoparabictextwin</span><span class="br">}</span>

<span class="comment">% For global Arabic script</span>

<span class="cs">\def</span><span class="cs">\ArabicDirGlobal</span><span class="br">{</span><span class="comment">%</span>
<span class="cs">\pagedir</span> TRT<span class="cs">\bodydir</span> TRT<span class="cs">\textdir</span> TRT<span class="cs">\pardir</span> TRT <span class="comment">%</span>
<span class="cs">\hoffset</span><span class="brx">=</span>-8.88cm<span class="br">}</span> <span class="comment">% compensate for a bug in \bodydir TRT</span>

<span class="cs">\def</span><span class="cs">\ArabicUTF</span><span class="br">{</span><span class="cs">\ArabicDirGlobal</span><span class="cs">\usefiltersequence</span><span class="brx">[</span>UTFArabic<span class="brx">]</span>
                <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="br">}</span>

<span class="cs">\def</span><span class="cs">\ArabicISO</span><span class="br">{</span><span class="cs">\ArabicDirGlobal</span><span class="cs">\usefiltersequence</span><span class="brx">[</span>ISOArabic<span class="brx">]</span>
                <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="br">}</span>

<span class="cs">\def</span><span class="cs">\ArabicWIN</span><span class="br">{</span><span class="cs">\ArabicDirGlobal</span><span class="cs">\usefiltersequence</span><span class="brx">[</span>WINArabic<span class="brx">]</span>
                <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="br">}</span>

<span class="comment">% For separate Arabic-script paragraphs</span>

<span class="cs">\def</span><span class="cs">\ArabicDirPar</span><span class="br">{</span><span class="cs">\textdir</span> TRT<span class="cs">\pardir</span> TRT<span class="br">}</span>

<span class="cs"><span class="stylecs">\definestartstop</span></span>
  <span class="brx">[</span>arabutf<span class="brx">]</span>
  <span class="brx">[</span>commands<span class="brx">=</span><span class="comment">%</span>
    <span class="br">{</span><span class="cs">\usefiltersequence</span><span class="brx">[</span>UTFArabic<span class="brx">]</span>
     <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="comment">%</span>
     <span class="cs">\ArabicDirPar</span><span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="stylecs">\definestartstop</span></span>
  <span class="brx">[</span>arabiso<span class="brx">]</span>
  <span class="brx">[</span>commands<span class="brx">=</span><span class="comment">%</span>
    <span class="br">{</span><span class="cs">\usefiltersequence</span><span class="brx">[</span>ISOArabic<span class="brx">]</span>
     <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="comment">%</span>
     <span class="cs">\ArabicDirPar</span><span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="stylecs">\definestartstop</span></span>
  <span class="brx">[</span>arabwin<span class="brx">]</span>
  <span class="brx">[</span>commands<span class="brx">=</span><span class="comment">%</span>
    <span class="br">{</span><span class="cs">\usefiltersequence</span><span class="brx">[</span>WINArabic<span class="brx">]</span>
     <span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>omarb<span class="brx">]</span><span class="comment">%</span>
     <span class="cs">\ArabicDirPar</span><span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="documentcs">\showframe</span></span><span class="brx">[</span>text<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>

<span class="cs">\startarabutf</span>

اللَّهُمَّ صَلِّ عَلَى مُحَمَّدٍ وَ
آلِ مُحَمَّدٍ وَ ارْزُقْنِي
الْيَقِينَ وَ حُسْنَ الظَّنِّ بِكَ
وَ أَثْبِتْ رَجَاءَكَ فِي قَلْبِي
وَ اقْطَعْ رَجَائِي عَمَّنْ سِوَاكَ
حَتَّى لَا أَرْجُوَ غَيْرَكَ وَ لَا
أَثِقَ إِلَّا بِك&rlm;

<span class="cs">\stoparabutf</span>

<span class="cs"><span class="documentcs">\blank</span></span>

<span class="cs">\startarabiso</span>

&Ccedil;&auml;&auml;&ntilde;&icirc;&ccedil;&iuml;&aring;&ntilde;&icirc; &Otilde;&icirc;&auml;&ntilde;&eth; &Ugrave;&icirc;&auml;&icirc;&eacute; &aring;&iuml;&Iacute;&icirc;&aring;&ntilde;&icirc;&Iuml;&iacute; &egrave;&icirc; &Acirc;&auml;&eth; &aring;&iuml;&Iacute;&icirc;&aring;&ntilde;&icirc;&Iuml;&iacute; &egrave;&icirc; &Ccedil;&Ntilde;&ograve;&Ograve;&iuml;&acirc;&ograve;&aelig;&eth;&ecirc;
&Ccedil;&auml;&ograve;&ecirc;&icirc;&acirc;&eth;&ecirc;&aelig;&icirc; &egrave;&icirc; &Iacute;&iuml;&Oacute;&ograve;&aelig;&icirc; &Ccedil;&auml;&Oslash;&ntilde;&icirc;&aelig;&ntilde;&eth; &Egrave;&eth;&atilde;&icirc; &egrave;&icirc; &Atilde;&icirc;&Euml;&ograve;&Egrave;&eth;&Ecirc;&ograve; &Ntilde;&icirc;&Igrave;&icirc;&Ccedil;&Aacute;&icirc;&atilde;&icirc; &aacute;&eth;&ecirc;
&acirc;&icirc;&auml;&ograve;&Egrave;&eth;&ecirc; &egrave;&icirc; &Ccedil;&acirc;&ograve;&times;&icirc;&Ugrave;&ograve; &Ntilde;&icirc;&Igrave;&icirc;&Ccedil;&AElig;&eth;&ecirc; &Ugrave;&icirc;&aring;&ntilde;&icirc;&aelig;&ograve; &Oacute;&eth;&egrave;&icirc;&Ccedil;&atilde;&icirc; &Iacute;&icirc;&Ecirc;&ntilde;&icirc;&eacute; &auml;&icirc;&Ccedil; &Atilde;&icirc;&Ntilde;&ograve;&Igrave;&iuml;&egrave;&icirc;
&Uacute;&icirc;&ecirc;&ograve;&Ntilde;&icirc;&atilde;&icirc; &egrave;&icirc; &auml;&icirc;&Ccedil; &Atilde;&icirc;&Euml;&eth;&acirc;&icirc; &Aring;&eth;&auml;&ntilde;&icirc;&Ccedil; &Egrave;&eth;&atilde;

<span class="cs">\stoparabiso</span>

<span class="cs"><span class="documentcs">\blank</span></span>

<span class="cs">\startarabwin</span>

&Ccedil;&aacute;&aacute;&oslash;&oacute;&aring;&otilde;&atilde;&oslash;&oacute; &Otilde;&oacute;&aacute;&oslash;&ouml; &Uacute;&oacute;&aacute;&oacute;&igrave; &atilde;&otilde;&Iacute;&oacute;&atilde;&oslash;&oacute;&Iuml;&ograve; &aelig;&oacute; &Acirc;&aacute;&ouml; &atilde;&otilde;&Iacute;&oacute;&atilde;&oslash;&oacute;&Iuml;&ograve; &aelig;&oacute; &Ccedil;&Ntilde;&uacute;&Ograve;&otilde;&THORN;&uacute;&auml;&ouml;&iacute;
&Ccedil;&aacute;&uacute;&iacute;&oacute;&THORN;&ouml;&iacute;&auml;&oacute; &aelig;&oacute; &Iacute;&otilde;&Oacute;&uacute;&auml;&oacute; &Ccedil;&aacute;&Ugrave;&oslash;&oacute;&auml;&oslash;&ouml; &Egrave;&ouml;&szlig;&oacute; &aelig;&oacute; &Atilde;&oacute;&Euml;&uacute;&Egrave;&ouml;&Ecirc;&uacute; &Ntilde;&oacute;&Igrave;&oacute;&Ccedil;&Aacute;&oacute;&szlig;&oacute; &Yacute;&ouml;&iacute;
&THORN;&oacute;&aacute;&uacute;&Egrave;&ouml;&iacute; &aelig;&oacute; &Ccedil;&THORN;&uacute;&Oslash;&oacute;&Uacute;&uacute; &Ntilde;&oacute;&Igrave;&oacute;&Ccedil;&AElig;&ouml;&iacute; &Uacute;&oacute;&atilde;&oslash;&oacute;&auml;&uacute; &Oacute;&ouml;&aelig;&oacute;&Ccedil;&szlig;&oacute; &Iacute;&oacute;&Ecirc;&oslash;&oacute;&igrave; &aacute;&oacute;&Ccedil; &Atilde;&oacute;&Ntilde;&uacute;&Igrave;&otilde;&aelig;&oacute;
&Ucirc;&oacute;&iacute;&uacute;&Ntilde;&oacute;&szlig;&oacute; &aelig;&oacute; &aacute;&oacute;&Ccedil; &Atilde;&oacute;&Euml;&ouml;&THORN;&oacute; &Aring;&ouml;&aacute;&oslash;&oacute;&Ccedil; &Egrave;&ouml;&szlig;&thorn;

<span class="cs">\stoparabwin</span>

<span class="cs"><span class="documentcs">\blank</span></span>

Here is some mixed <span class="br">{</span><span class="cs"><span class="documentcs">\em</span></span> Arabic-<span class="br">}</span> <span class="brx">(</span><span class="cs">\ArabicTextUTF</span><span class="br">{</span>عربي<span class="br">}</span><span class="brx">)</span> and
Latin-script. As you can see, Aleph does a very good job mixing
<span class="br">{</span><span class="cs"><span class="documentcs">\em</span></span> LR<span class="br">}</span> <span class="brx">(</span><span class="cs">\ArabicTextUTF</span><span class="br">{</span>يسار-يمين<span class="br">}</span><span class="brx">)</span> and <span class="br">{</span><span class="cs"><span class="documentcs">\em</span></span> RL<span class="br">}</span>
<span class="brx">(</span><span class="cs">\ArabicTextUTF</span><span class="br">{</span>يمين-يسار<span class="br">}</span><span class="brx">)</span> texts. <span class="cs">\ArabicTextUTF</span><span class="br">{</span>و
هنا جملة منقطعة في وسط قرينة
لاتينية<span class="br">}</span>. Aleph even does a great job breaking Arabic
phrases across lines.

<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <h2>
     <span class="mw-headline" id="Going_beyond">
      Going beyond
     </span>
    </h2>
    <ul>
     <li>
      <a href="File:Utilities-aleph.zip" title="File:Utilities-aleph.zip">
       File:Utilities-aleph.zip
      </a>
     </li>
    </ul>
    <p>The last example shows how to make and apply your own filter sequences beyond the basic Gamma module. To go further you need to learn some low-level business. You will also need some <a href="File:Utilities-aleph.zip" title="File:Utilities-aleph.zip">File:Utilities-aleph.zip</a>. I have put together a windows package that you can unzip to <tt>C:\ConTeXt</tt>. These utilities do work, but they are cobbled together from old fpTeX and MiKTeX versions.
</p>
    <h3>
     <span class="mw-headline" id="Example:_If_you_want_to_get_the_final_Persian_kaaf_instead_of_the_default_Arabic_one">
      Example: If you want to get the final Persian kaaf instead of the default Arabic one
     </span>
    </h3>
    <p>Check to see if your glyph is in the Arabic font. The Arabic font is made of 6 raw fonts: 3 regular and three bold:
</p>
    <pre> texmf-local/fonts/type1/public/omega
 omsea1, omsea1b, ... omsea3b
</pre>
    <p>Using a font viewer or editor you will find the Persian final kaaf in omsea2, named kafswashfin.
</p>
    <p>Now go to
<tt>texmf-local/omega/lambda/misc</tt>
and open
<tt>omarab.cfg</tt>
you will find a line
</p>
    <pre> 04AA N kafswashfin
</pre>
    <p>This means that the 044A is the virtual font position for kafswashfin. Open cuni2oar.otp and add the following at line 263:
</p>
    <pre> %@"E343 =&gt; @"04AA;
</pre>
    <p>Following this line you should see
</p>
    <pre> % remaining Arabic glyphs
 @"E000-@"E3FF =&gt; #(\1 - @"DF00);
</pre>
    <p>Basically, in <tt>uni2cuni.otp</tt> final-kaaf gets mapped to E343. In the font, we want it mapped to kafswashfin, so we did that. Now recompile the otp:
</p>
    <pre> otp2ocp cuni2oar
</pre>
    <p>Now you will get kafswashfin for the final kaaf.
</p>
    <h3>
     <span id="Want_new_fonts_(Arabic_or_Latin)?_Here_are_the_instructions">
     </span>
     <span class="mw-headline" id="Want_new_fonts_.28Arabic_or_Latin.29.3F_Here_are_the_instructions">
      Want new fonts (Arabic or Latin)? Here are the instructions
     </span>
    </h3>
    <ul>
     <li>
      Read the following two papers carefully again and again; they are your friends&nbsp;:-)
      <ul>
       <li>
        <a class="external text" href="http://omega.enstb.org/papers/tsukuba-methods97.pdf" rel="nofollow">
         tsukuba-methods
        </a>
       </li>
       <li>
        <a class="external text" href="http://omega.enstb.org/papers/ridt-omega98.pdf" rel="nofollow">
         ridt-omega
        </a>
       </li>
      </ul>
     </li>
     <li>
      Make a pfb file containing the glyphs you need, or use an existing font
     </li>
     <li>
      Make a cfg file a la
      <tt>
       texmf\omega\lambda\misc\omlgc.cfg
      </tt>
      . Make sure you list your glyph positions in hexadecimal notation.
     </li>
     <li>
      Get
      <tt>
       makeovp.pl
      </tt>
      from the utilities. I made some small changes,
      <tt>
       makeovp2.pl
      </tt>
      . Try them both and use what works for you. There is a SH file with a sample of its use using omlgc.
     </li>
     <li>
      Following are instructions for cooking omarab.ovf.
      <ul>
       <li>
        You want your own ovf, say, omlgcch.ovf.
       </li>
       <li>
        Generate an afm file for your private glyph pfb/pfa plus the afm files that are listed in the SH file (base files for omlgc found in
        <tt>
         \texmf\fonts\afm\public\omega
        </tt>
        )
       </li>
       <li>
        Using the instructions below and the SH file (
        <b>
         ignore
        </b>
        the kernings.afm file!) you can figure out how to make your own ovp and ovf.
       </li>
       <li>
        Before making the ovf file, examine the ovp file created, especially the first few lines, to see how the font-metric info from the afm's are concatenated. Very instructive.
       </li>
      </ul>
     </li>
     <li>
      Don't forget the rest of the accounting:
      <ul>
       <li>
        adding lines to a map file and pointing dvips/dvipdfm to it;
       </li>
       <li>
        create a typescript file;
       </li>
       <li>
        edit your otp's. If you get stuck be sure to read
        <a class="external text" href="http://omega.enstb.org/papers/tsukuba-arabic97.pdf" rel="nofollow">
         tsukuba-arabic
        </a>
       </li>
      </ul>
     </li>
    </ul>
    <h4>
     <span class="mw-headline" id="How_to_cook_omarab.ovf">
      How to cook omarab.ovf
     </span>
    </h4>
    <p>Ingredients: omarab.cfg, omseco.afm, omsea1.afm, omsea2.afm, omsea3.afm
</p>
    <pre> &gt; perl makeovp.pl omarab.cfg omseco.afm omsea1.afm omsea2.afm omsea3.afm omarab.ovp
 &gt; pltotf omseco.pl omseco.tfm
 &gt; pltotf omsea1.pl omsea1.tfm
 &gt; pltotf omsea2.pl omsea2.tfm
 &gt; pltotf omsea3.pl omsea3.tfm
 &gt; ovp2ovf omarab.ovp omarab.ovf omarab.ofm
</pre>
    <p>If the last line does not work, try
</p>
    <pre> &gt; ovp2ovf omarab.ovp omarab.ovf omarab.tfm
</pre>
    <p>rename omarab.tfm to omarab.ofm --&gt; ofm directory
</p>
    <h4>
     <span class="mw-headline" id="How_to_distill_omarab.ovp_from_omarab.ovf:">
      How to distill omarab.ovp from omarab.ovf:
     </span>
    </h4>
    <p>Use a different directory or a different name for the output ovp so that omarab.ovp created above is not overwritten.
</p>
    <p>get omarab.ofm & rename to omarab.tfm
</p>
    <pre> &gt; ovf2ovp omarab.ovf omarab.tfm omarab.ovp
</pre>
    <h4>
     <span class="mw-headline" id="How_to_cook_omarabb.ovf">
      How to cook omarabb.ovf
     </span>
    </h4>
    <p>Ingredients: omarab.cfg, omsecob.afm, omsea1b.afm, omsea2b.afm, omsea3b.afm
</p>
    <pre> &gt; perl makeovp.pl omarab.cfg omsecob.afm omsea1b.afm omsea2b.afm omsea3b.afm omarabb.ovp
 &gt; pltotf omsecob.pl omsecob.tfm
 &gt; pltotf omsea1b.pl omsea1b.tfm
 &gt; pltotf omsea2b.pl omsea2b.tfm
 &gt; pltotf omsea3b.pl omsea3b.tfm
 &gt; ovp2ovf omarabb.ovp omarabb.ovf omarabb.ofm
</pre>
    <p><br>
If the last line does not work, try
</p>
    <pre> &gt; ovp2ovf omarabb.ovp omarabb.ovf omarabb.tfm
</pre>
    <p>rename omarab.tfm to omarab.ofm --&gt; ofm directory
</p>
    <h4>
     <span class="mw-headline" id="How_to_distill_omarabb.ovp_from_omarabb.ovf">
      How to distill omarabb.ovp from omarabb.ovf
     </span>
    </h4>
    <p>Use a different directory or a different name for the output ovp so that omarabb.ovp created above is not overwritten
</p>
    <p>get omarab.ofm & rename to omarab.tfm
</p>
    <pre> &gt; ovf2ovp omarabb.ovf omarabb.tfm omarabb.ovp
</pre>
    <ul>
     <li>
      For more info, there is also the (mostly cryptic) Omega manual
      <a class="external text" href="http://omega.enstb.org/roadmap/doc-1.12.ps" rel="nofollow">
       in PS-Format
      </a>
      . Don't ask me why it's not in PDF.
      <tt>
       :-(
      </tt>
     </li>
    </ul>
    <p>See also <a class="external text" href="http://omega.enstb.org/papers/tsukuba-arabic97.pdf" rel="nofollow">tsukuba-arabic</a>
</p>
    <h2>
     <span class="mw-headline" id="Miscellaneous">
      Miscellaneous
     </span>
    </h2>
    <ul>
     <li>
      Some people have gotten large OpenType fonts to work in Aleph/Omega. Probably they used
      <a class="external text" href="http://fontforge.sourceforge.net" rel="nofollow">
       FontForge
      </a>
      to convert to CFF-enriched type1. FF can produce ofm files (large tfms) so that's a help too.
     </li>
     <li>
      Me, I'm working on an advanced Arabic-script typesetting system that really pushes Aleph to the max. At present I don't actually use
      <a class="extiw" href="http://source.contextgarden.net/m-gamma.tex" title="source:m-gamma.tex">
       m-gamma
      </a>
      , etc, but my own macros. I really hope to release something this year...
     </li>
     <li>
      See also
      <a class="external text" href="http://www.dtek.chalmers.se/~d97ost/omega-example.html" rel="nofollow">
       Omega example
      </a>
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="To_the_future">
      To the future
     </span>
    </h2>
    <ul>
     <li>
      The otp mechanism does not seem well suited to support, e.g., OpenType GPOS tables, important for really advanced Arabic (though GDEF and GSUB should work fine with the present mechanism for most purposes). We need a better model for horizontal and vertical glyph substitutions.
     </li>
     <li>
      The low-level filtersequence mechanism needs to abstract language processing from font mapping. Right now both are hardwired into a single sequence, so setting up more than one font for a single language is more of a pain than it should be.
     </li>
     <li>
      The otp language is a bit cryptic. Hans has suggested switching otp's to a new language (like lua or io) but I don't know how hard that will be...
     </li>
     <li>
      One very important feature which may work better at the primitive/engine level by extending the pdfeTeX engine: glyph substitution that depends on the paragraph. For example: In traditional Arabic typography, one way to compensate for "underfull" paragraphs is to substitute a "swash" version of a letter. Another way is by stretching the cursive tie between joining characters (which is already implemented in my own Arabic system). Combined with HZ we can get some pretty interesting high-level options, effects, etc. that the user can choose etc.
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-13
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Aleph_Guide">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
