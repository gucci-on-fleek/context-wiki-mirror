<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   ConTeXt and Lua programming/ConTeXt Development/SourceBrowser documentation&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/ConTeXt_and_Lua_programming/ConTeXt_Development/SourceBrowser_documentation" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    ConTeXt and Lua programming/ConTeXt Development/SourceBrowser documentation
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=5385&diff=41539">2025-01-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h3>
       Contents
      </h3>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Introduction">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Introduction
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Browsing_the_installed_files">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Browsing the installed files
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-3">
       <a href="#Searching_the_sources">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Searching the sources
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-4">
         <a href="#Optional_search_index:_Comments">
          <span class="tocnumber">
           3.1
          </span>
          <span class="toctext">
           Optional search index: Comments
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-5">
         <a href="#Optional_search_index:_Docs">
          <span class="tocnumber">
           3.2
          </span>
          <span class="toctext">
           Optional search index: Docs
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-6">
         <a href="#Optional_search_index:_MkII">
          <span class="tocnumber">
           3.3
          </span>
          <span class="toctext">
           Optional search index: MkII
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-7">
         <a href="#Optional_search_index:_Data">
          <span class="tocnumber">
           3.4
          </span>
          <span class="toctext">
           Optional search index: Data
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-8">
         <a href="#Whole_words_only">
          <span class="tocnumber">
           3.5
          </span>
          <span class="toctext">
           Whole words only
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-9">
         <a href="#Lua_string_pattern_matches">
          <span class="tocnumber">
           3.6
          </span>
          <span class="toctext">
           Lua string pattern matches
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-10">
       <a href="#Highlighting_of_search_terms">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Highlighting of search terms
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-11">
       <a href="#Linking_from_the_wiki">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         Linking from the wiki
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-12">
       <a href="#A_note_about_the_search_index">
        <span class="tocnumber">
         6
        </span>
        <span class="toctext">
         A note about the search index
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Introduction">
      Introduction
     </span>
    </h2>
    <p>The ConTeXt source browser at <a class="external text" href="http://source.contextgarden.net" rel="nofollow">http://source.contextgarden.net</a> has recently been replaced by a Lua implementation that uses Hans Hagen's SciTE lexers for syntax highlighting and a search index that is built up using a Lua script.
</p>
    <p><i>Note:</i> for some of the really large files (for example <code>char-def.lua</code>), syntax highlighting is disabled.
</p>
    <h2>
     <span class="mw-headline" id="Browsing_the_installed_files">
      Browsing the installed files
     </span>
    </h2>
    <p>You can use the source browser to walk through the directory tree of the ConTeXt installation that is on the server. This is the same ConTeXt installation that is used for <a class="external text" href="http://live.contextgarden.net" rel="nofollow">ConTeXt live</a>, the &lt;context&gt; examples, and the &lt;syntax&gt; extension on the wiki. 
</p>
    <p>This installation is not always completely in sync with the latest ConTeXt distribution, because setting up the installation on the server is quite elaborate (as various auxiliary databases need to be updated as well).
</p>
    <p>When viewing a file, on top of the highlighted source the file name is displayed. This is also a download link. It also shows the file size and a modification time (but that is the creation time of the ConTeXt distribution, so not particularly useful).
</p>
    <h2>
     <span class="mw-headline" id="Searching_the_sources">
      Searching the sources
     </span>
    </h2>
    <p>You can use the search field to search for a particular (part of a) word in the ConTeXt distribution.
</p>
    <p><i>Note:</i> At the moment, you cannot do AND/OR searches or search for multiple words at the same time.
</p>
    <p>There are four option checkboxes immediately below the search input, and two separate options, to control the search. Each of these are optional, with irrelevant values. The script only looks at the existence of the option, it never checks the actual values except for the value of the <code>search</code> parameter itself.
</p>
    <h3>
     <span class="mw-headline" id="Optional_search_index:_Comments">
      Optional search index: Comments
     </span>
    </h3>
    <p>Name: <b>comments</b>
Default: <b>OFF</b>
</p>
    <p>This includes the index of everything that is marked as 'comment' by the SciTE lexers. 
</p>
    <h3>
     <span class="mw-headline" id="Optional_search_index:_Docs">
      Optional search index: Docs
     </span>
    </h3>
    <p>Name: <b>docs</b>
Default: <b>OFF</b>
</p>
    <p>This includes the index of all files in the <code>doc/</code> subtree.
</p>
    <h3>
     <span class="mw-headline" id="Optional_search_index:_MkII">
      Optional search index: MkII
     </span>
    </h3>
    <p>Name: <b>mkii</b>
Default: <b>OFF</b>
</p>
    <p>This includes the index of MkII files.
</p>
    <h3>
     <span class="mw-headline" id="Optional_search_index:_Data">
      Optional search index: Data
     </span>
    </h3>
    <p>Name: <b>data</b>
Default: <b>OFF</b>
</p>
    <p>This includes the index of Data files (<code>data/</code> subtree, <code>interface/</code> subtree, <code>scripts/</code> subtree, sample files, test files, et cetera).
</p>
    <h3>
     <span class="mw-headline" id="Whole_words_only">
      Whole words only
     </span>
    </h3>
    <p>Name: <b>wholewords</b>
Default: <b>OFF</b>
</p>
    <p>Modifies the search pattern by anchoring it to the begin and end of the search index keys, as if it was enclosed in <code>^</code>...<code>$</code>
</p>
    <h3>
     <span class="mw-headline" id="Lua_string_pattern_matches">
      Lua string pattern matches
     </span>
    </h3>
    <p>Name: <b>pat</b>
Default: <b>OFF</b>
</p>
    <p>Treats the input as a lua string pattern instead of plain text.
</p>
    <p>Quick start: Lua patterns have roughly the same list of special characters as simple regular expressions, but they use the <code>%</code> character for escaping those. See the <a class="external text" href="https://www.lua.org/manual/5.3/manual.html#6.4.1" rel="nofollow">Patterns section</a> of the Lua manual for details.
</p>
    <h2>
     <span class="mw-headline" id="Highlighting_of_search_terms">
      Highlighting of search terms
     </span>
    </h2>
    <p>If you select a file that matches your search term, it will highlight the found matches with a yellow background. It also makes the page number of matching lines into a hyperlink to the next match in that file.
</p>
    <p>The highlighting is done separate from the search index, which means that it will sometimes find extra matches. For example, if you search for <code>def</code>, you would not see all the thousands of hits for <code>\def</code> in the file list on the left. But if you click on a particular file, the syntax highlighter will highlight all of the <code>def</code> substrings it finds on any matching line.
</p>
    <h2>
     <span class="mw-headline" id="Linking_from_the_wiki">
      Linking from the wiki
     </span>
    </h2>
    <p>From the wiki, you can use the {{src}} template to link directly to a file in the <code>tex/context/base/mkiv</code> folder. 
</p>
    <pre> {{src|context.mkiv}}
</pre>
    <p><a class="external text" href="https://source.contextgarden.net/tex/context/base/mkiv/context.mkiv" rel="nofollow">context.mkiv</a>
</p>
    <p><br>
If you want to do a search as well, or link to a line number:
</p>
    <pre> {{src|context.mkiv?search{{=}}lang-}}
 {{src|context.mkiv?search{{=}}lang-&pat{{=}}1}}
 {{src|context.mkiv#l107}}
</pre>
    <p><a class="external text" href="https://source.contextgarden.net/tex/context/base/mkiv/context.mkiv?search=lang-" rel="nofollow">context.mkiv?search=lang-</a>
</p>
    <p><a class="external text" href="https://source.contextgarden.net/tex/context/base/mkiv/context.mkiv?search=lang-&pat=1" rel="nofollow">context.mkiv?search=lang-&pat=1</a>
</p>
    <p><a class="external text" href="https://source.contextgarden.net/tex/context/base/mkiv/context.mkiv#l107" rel="nofollow">context.mkiv#l107</a>
</p>
    <p><i>Note that you have to write the equals sign as {{=}} inside wiki templates.</i>
</p>
    <h2>
     <span class="mw-headline" id="A_note_about_the_search_index">
      A note about the search index
     </span>
    </h2>
    <p>The search index is generated by a Lua script that parses the output of the SciTE Lexers. This process is not always perfect due to both small errors in the SciTE Lexers and in the lua script that parses its output. 
</p>
    <p>Some limitations of the search index are hardcoded, and unlikely to change:
</p>
    <ul>
     <li>
      Only ASCII is indexed: the index is not unicode-aware. Fixing this may be doable but would be a lot of work for very little gain (the only non-ASCII in the source is in the interface translation files).
     </li>
     <li>
      Only included are 'words' that contain at least one ASCII letter.
     </li>
     <li>
      Only words longer than three letters are indexed.
     </li>
     <li>
      Lua language keywords and matches that occur more than 1000 times (approx.) are not indexed.
     </li>
     <li>
      All of the files in the
      <code>patterns/</code>
      subtree and the top-level
      <code>fonts/</code>
      tree are skipped.
     </li>
    </ul>
    <p>If you find a problem that is not caused by one of the aforementioned limitations, please report it to <a href="../../User:Taco.html" title="User:Taco">User:taco</a> by sending an email to <a class="external text" href="mailto:gardeners@contextgarden.net" rel="nofollow">gardeners@contextgarden.net</a>.
</p>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-13
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/ConTeXt_and_Lua_programming/ConTeXt_Development/SourceBrowser_documentation">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
