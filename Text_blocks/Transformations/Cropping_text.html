<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Text blocks/Transformations/Cropping text&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Text_blocks/Transformations/Cropping_text" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Text blocks/Transformations/Cropping text
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=1116&diff=41456">2025-01-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Cropping_text">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Cropping text
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-2">
         <a href="#.5Cdoboundtext">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           \doboundtext
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-3">
         <a href="#.5Climitatetext">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           \limitatetext
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-4">
         <a href="#.5Climitatefirstline">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           \limitatefirstline
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-5">
         <a href="#A_direct_comparison">
          <span class="tocnumber">
           1.4
          </span>
          <span class="toctext">
           A direct comparison
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-6">
       <a href="#Fitting_text">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Fitting text
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-7">
       <a href="#See_also">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         See also
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Cropping_text">
      Cropping text
     </span>
    </h2>
    <p>There are some rare cases in which it is useful to truncate a line of text and discard some of it.
</p>
    <h3>
     <span id="\doboundtext">
     </span>
     <span class="mw-headline" id=".5Cdoboundtext">
      <tt>
       \doboundtext
      </tt>
     </span>
    </h3>
    <p>Sometimes there is not enough room to show the complete
(line of) text. In such a situation we can strip of some
<b>characters</b> by using
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\doboundtext</span></span> <span class="br">{</span>text<span class="br">}</span> <span class="br">{</span>width<span class="br">}</span> <span class="br">{</span>sentinel<span class="br">}</span>
</pre>
    <p>When the <tt>text</tt> is wider than the given <tt>width</tt>, it's split and the third
argument (<tt>sentinel</tt>) is appended. As much text as possible is printed.
</p>
    <p>An example
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\doboundtext</span></span><span class="br">{</span>My entire inheritance goes to my beloved cat Pussy!<span class="br">}</span><span class="br">{</span>60mm<span class="br">}</span><span class="br">{</span>...<span class="br">}</span>
</pre>
    <p>and it's result
</p>
    <ul class="demo">
     <li class="rendering">
      <img height="17" src="../../wikiteximage/afcd61995f012c15af7d970b02a56fa6.webp" width="355">
     </li>
    </ul>
    <h3>
     <span id="\limitatetext">
     </span>
     <span class="mw-headline" id=".5Climitatetext">
      <tt>
       \limitatetext
      </tt>
     </span>
    </h3>
    <p>A bit more beautiful alternative for the previous command is <tt><a href="../../Command/limitatetext.html" title="Command/limitatetext">\limitatetext</a></tt>.
This command takes care of <b>word</b> boundaries, so that only complete words will
appear in the final (cropped) text.
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\limitatetext</span></span> <span class="br">{</span>text<span class="br">}</span>  <span class="br">{</span>width<span class="br">}</span> <span class="br">{</span>sentinel<span class="br">}</span>
<span class="cs"><span class="systemcs">\limitatetext</span></span> <span class="br">{</span>text<span class="br">}</span> <span class="br">{</span>-width<span class="br">}</span> <span class="br">{</span>prelude<span class="br">}</span>
<span class="cs"><span class="systemcs">\limitatetext</span></span> <span class="br">{</span>text<span class="br">}</span> <span class="br">{</span>width1 , width2<span class="br">}</span> <span class="br">{</span>symbol<span class="br">}</span>
</pre>
    <p>When no <tt>width</tt> is given, the whole <tt>text</tt> becomes available.
A negative value crops the beginning and the text starts with
the <tt>prelude</tt>. Sentinel and prelude are both optional.
Just look at the example, to see what happens, if you call the macro with
two positive dimensions...
</p>
    <p>Example:
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\limitatetext</span></span> <span class="br">{</span>Pussy is the name of the cat!<span class="br">}</span><span class="br">{</span>38mm<span class="br">}</span><span class="br">{</span>...<span class="br">}</span><span class="cs">\par</span>
<span class="cs"><span class="systemcs">\limitatetext</span></span> <span class="br">{</span>Pussy is the name of the cat!<span class="br">}</span><span class="br">{</span>-38mm<span class="br">}</span><span class="br">{</span>...<span class="br">}</span><span class="cs">\par</span>
<span class="cs"><span class="systemcs">\limitatetext</span></span> <span class="br">{</span>Pussy is the name of the cat!<span class="br">}</span><span class="br">{</span>12mm, 12mm<span class="br">}</span><span class="br">{</span>...<span class="br">}</span>
</pre>
    <p>leads to
</p>
    <ul class="demo">
     <li class="rendering">
      <img height="57" src="../../wikiteximage/2a4fa2237978ce3c48fed38b66892bc3.webp" width="206">
     </li>
    </ul>
    <p><br>
Both commands have their range of application.
<tt><a href="../../Command/limitatetext.html" title="Command/limitatetext">\limitatetext</a></tt> is more robust (using grouping tokens like
<tt><a class="mw-redirect" href="../../Command/_mathundertextextensible.html" title="Command/underbar">\underbar</a></tt> is possible), while <tt><a class="new" href="../../index.php?title=Command/doboundtext&action=edit&redlink=1.html" title="Command/doboundtext (page does not exist)">\doboundtext</a></tt> works better
on text that cannot be hyphenated.
</p>
    <h3>
     <span id="\limitatefirstline">
     </span>
     <span class="mw-headline" id=".5Climitatefirstline">
      <tt>
       \limitatefirstline
      </tt>
     </span>
    </h3>
    <p>In ConTeXt versions newer than 07.09.2005 there is also a command
called <tt><a class="new" href="../../index.php?title=Command/limitatefirstline&action=edit&redlink=1.html" title="Command/limitatefirstline (page does not exist)">\limitatefirstline</a></tt>, which acts nearly like <tt><a class="new" href="../../index.php?title=Command/doboundtext&action=edit&redlink=1.html" title="Command/doboundtext (page does not exist)">\doboundtext</a></tt>,
but at a more robust level. This macro first tries to break the given text
at character level. It uses nearly the same breaking mechanism as <tt><a href="../../Command/limitatetext.html" title="Command/limitatetext">\limitatetext</a></tt>,
so it shares the problem with nonbreakable text.
But in contrast to <tt><a href="../../Command/limitatetext.html" title="Command/limitatetext">\limitatetext</a></tt> it has a second mechanism, that is only used,
if the prior one fails or if the result of breaking is wasting too much space.
This fail safe mechanism "simply" clips (no breaking at all) the text to the desired
measures. This is done without any consideration to character boundaries.
So you must live with the fact, that the last character can be cut off at any possible
place.
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\limitatefirstline</span></span> <span class="br">{</span>text<span class="br">}</span> <span class="br">{</span>width<span class="br">}</span> <span class="br">{</span>sentinel<span class="br">}</span>
</pre>
    <p>Example:
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\limitatefirstline</span></span> <span class="br">{</span><span class="cs"><span class="documentcs">\underbar</span></span><span class="br">{</span>Mr.~Drofnats was happiest when he was at work<span class="comment">%</span>
 typesetting beautiful documents.<span class="br">}</span><span class="br">{</span>109mm<span class="br">}</span><span class="br">{</span><span class="cs"><span class="documentcs">\unknown</span></span><span class="br">}</span>
</pre>
    <ul class="demo">
     <li class="rendering">
      <img height="22" src="../../wikiteximage/28e3f76597320b19c574832e957b7b0e.webp" width="570">
     </li>
    </ul>
    <p><br>
In this example breaking is successful (right after the word typesetting),
but the gap between the breaking point and the given width is too big.
So clipping is used here.
</p>
    <h3>
     <span class="mw-headline" id="A_direct_comparison">
      A direct comparison
     </span>
    </h3>
    <table border="0" cellpadding="5" cellspacing="0">
     <tbody>
      <tr>
       <td>
</td>
       <td>It's all in the garden.
</td>
       <td>0123456789
</td>
       <td>\underbar{In a bar, under the sea}
</td>
      </tr>
      <tr>
       <td><tt><b>\doboundtext</b></tt>
</td>
       <td><ul class="demo"><li class="rendering"><img height="17" src="../../wikiteximage/4a01e180b232d795f337682a6000cba6.webp" width="147"></li></ul>
</td>
       <td><ul class="demo"><li class="rendering"><img height="14" src="../../wikiteximage/12dc761aac3a6d3d4e616867934ce3c6.webp" width="85"></li></ul>
</td>
       <td align="center">not possible
</td>
      </tr>
      <tr>
       <td><tt><b>\limitatetext</b></tt>
</td>
       <td><ul class="demo"><li class="rendering"><img height="17" src="../../wikiteximage/a6cf722355799ff0205588f214379811.webp" width="147"></li></ul>
</td>
       <td><ul class="demo"><li class="rendering"><img height="14" src="../../wikiteximage/4e1bc221d72c4f444e587e925606e72e.webp" width="85"></li></ul>
</td>
       <td><ul class="demo"><li class="rendering"><img height="16" src="../../wikiteximage/c7616fc8e7a4a791550fe5c33ca0ac0c.webp" width="160"></li></ul>
</td>
      </tr>
      <tr>
       <td><tt><b>\limitatefirstline</b></tt>
</td>
       <td><ul class="demo"><li class="rendering"><img height="22" src="../../wikiteximage/7bbd1f22346cbcd9a62d9a1814a69c2a.webp" width="147"></li></ul>
</td>
       <td><ul class="demo"><li class="rendering"><img height="22" src="../../wikiteximage/685dfe8fd32544e3be3aa6a5079bd755.webp" width="85"></li></ul>
</td>
       <td><ul class="demo"><li class="rendering"><img height="22" src="../../wikiteximage/86c0443f4748b999fb2ba7d709a98d9e.webp" width="160"></li></ul>
</td>
      </tr>
     </tbody>
    </table>
    <h2>
     <span class="mw-headline" id="Fitting_text">
      Fitting text
     </span>
    </h2>
    <p>You can fit text into a box by:
</p>
    <pre class="tex"><span class="cs">\def</span><span class="cs">\HowStrange</span><span class="brx">#</span>1<span class="br">{</span><span class="brx">#</span>1<span class="cs">\ifx</span><span class="brx">#</span>1<span class="cs">\blankspace</span><span class="cs">\else</span><span class="cs">\allowbreak</span><span class="cs">\fi</span><span class="br">}</span>

<span class="cs"><span class="documentcs">\framed</span></span>
 <span class="brx">[</span>width<span class="brx">=</span>2cm,align<span class="brx">=</span><span class="br">{</span>normal,verytolerant,stretch<span class="br">}</span><span class="brx">]</span>
 <span class="br">{</span><span class="cs"><span class="systemcs">\handletokens</span></span> There are some rather long titles that needs to be typeset.<span class="cs">\with</span><span class="cs">\HowStrange</span><span class="br">}</span>
</pre>
    <ul class="demo">
     <li class="rendering">
      <img height="87" src="../../wikiteximage/34e1fb926a3cc2bb802ab76a44281b12.webp" width="120">
     </li>
    </ul>
    <p>There is also similar facility for verbatim text in <a href="../Collections_of_tips_and_tricks#Verbatim_with_line_breaks.html" title="Text blocks/Collections of tips and tricks">Verbatim with line breaks</a> and <a href="../Typography/Wrapping.html" title="Text blocks/Typography/Wrapping">Wrapping</a> section.
</p>
    <h2>
     <span class="mw-headline" id="See_also">
      See also
     </span>
    </h2>
    <ul>
     <li>
      If you meant to crop a page
      <i>
       to
      </i>
      some text, see
      <tt>
       <a href="../../Command/startTEXpage.html" title="Command/startTEXpage">
        \startTEXpage
       </a>
      </tt>
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-15
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Text_blocks/Transformations/Cropping_text">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
