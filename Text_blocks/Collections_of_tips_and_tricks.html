<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Text blocks/Collections of tips and tricks&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Text_blocks/Collections_of_tips_and_tricks" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Text blocks/Collections of tips and tricks
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=7407&diff=41454">2025-10-08</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h3>
       Contents
      </h3>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#End_of_line_marker_in_verbatim_texts">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         End of line marker in verbatim texts
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Verbatim_with_line_breaks">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Verbatim with line breaks
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-3">
         <a href="#In_ConTeXt">
          <span class="tocnumber">
           2.1
          </span>
          <span class="toctext">
           In ConTeXt
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-4">
         <a href="#Breaking_lines_on_the_right_border">
          <span class="tocnumber">
           2.2
          </span>
          <span class="toctext">
           Breaking lines on the right border
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-5">
         <a href="#See_also">
          <span class="tocnumber">
           2.3
          </span>
          <span class="toctext">
           See also
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="End_of_line_marker_in_verbatim_texts">
      End of line marker in verbatim texts
     </span>
    </h2>
    <p>from the wizard himself:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\startreusableMPgraphic</span></span><span class="br">{</span>return<span class="br">}</span>
    drawarrow
      <span class="brx">(</span>0,0<span class="brx">)</span>--
      <span class="brx">(</span>1EmWidth,0<span class="brx">)</span>--
      <span class="brx">(</span>1EmWidth,-.5ExHeight<span class="brx">)</span>--
      <span class="brx">(</span>.5EmWidth,-.5ExHeight<span class="brx">)</span>&nbsp;;
<span class="cs"><span class="stylecs">\stopreusableMPgraphic</span></span>

<span class="cs"><span class="stylecs">\definesymbol</span></span><span class="brx">[</span>return<span class="brx">]</span><span class="brx">[</span><span class="cs"><span class="stylecs">\reuseMPgraphic</span></span><span class="br">{</span>return<span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="stylecs">\setupcolors</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>

<span class="cs">\def</span><span class="cs">\vcrlf</span><span class="br">{</span><span class="cs"><span class="documentcs">\symbol</span></span><span class="brx">[</span>return<span class="brx">]</span><span class="cs"><span class="documentcs">\crlf</span></span><span class="cs"><span class="stylecs">\strut</span></span><span class="cs">\kern</span>1em<span class="cs"><span class="stylecs">\strut</span></span><span class="cs">\ignorespaces</span><span class="br">}</span>

<span class="cs"><span class="stylecs">\setuptyping</span></span><span class="brx">[</span>TEX<span class="brx">]</span><span class="brx">[</span>escape<span class="brx">=</span>yes<span class="brx">]</span>

<span class="cs"><span class="documentcs">\startTEX</span></span>
test test test /BTEX<span class="cs">\vcrlf</span>/ETEX test test
<span class="cs"><span class="documentcs">\stopTEX</span></span>

</pre>
      <p>looks like this:
</p>
     </li>
     <li class="rendering">
      <img height="57" src="../wikiteximage/ad5ee8d0033debef7bcd62a40c1ed91f.webp" width="155">
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Verbatim_with_line_breaks">
      Verbatim with line breaks
     </span>
    </h2>
    <h4>
     <span class="mw-headline" id="In_ConTeXt">
      In ConTeXt
     </span>
    </h4>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\enableregime</span></span><span class="brx">[</span>utf<span class="brx">]</span> <span class="comment">% needed in MkII</span>
<span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A5<span class="brx">]</span>


<span class="cs"><span class="documentcs">\framed</span></span>
   <span class="brx">[</span>width<span class="brx">=</span>8cm,
    align<span class="brx">=</span>flushleft,
    strut<span class="brx">=</span>no<span class="brx">]</span><span class="br">{</span><span class="comment">% no empty line at the beginning</span>
<span class="cs"><span class="documentcs">\starttyping</span></span><span class="brx">[</span>lines<span class="brx">=</span>hyphenated<span class="brx">]</span>
h&ouml;&ouml;ah:aloh/aa?lha llol!loh<span class="comment">%lloh#allhal\lohhll;ohohal~loll ohal&ouml;lo</span>
<span class="cs"><span class="documentcs">\stoptyping</span></span>
<span class="br">}</span>
</pre>
     </li>
     <li class="rendering">
      <img height="57" src="../wikiteximage/3430be140c86ce02905730e8d672942c.webp" width="475">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Breaking_lines_on_the_right_border">
      Breaking lines on the right border
     </span>
    </h3>
    <p>Inspired by the (bad line breaking) example above, Taco wrote the following macro, which breaks a line as soon as it doesn't fit to the box any more.
</p>
    <p>The second box may serve as an example of what to do when you become desperate about your German grammar and hyphenation rules.
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="comment">% BREAK is a special pretty handler that auto-wraps lines</span>
<span class="comment">% to fit the current hsize.</span>

<span class="cs">\gdef</span><span class="cs">\BREAKsetspecials</span><span class="comment">%</span>
  <span class="br">{</span><span class="cs"><span class="systemcs">\dorecurse</span></span><span class="br">{</span>256<span class="br">}</span><span class="br">{</span><span class="cs">\setpretty</span><span class="cs">\numexpr</span> <span class="cs"><span class="systemcs">\recurselevel</span></span>-1<span class="cs">\relax</span><span class="brx">=</span>10 <span class="br">}</span><span class="br">}</span>

<span class="cs">\gdef</span><span class="cs">\BREAKsethandlers</span><span class="comment">%</span>
  <span class="br">{</span><span class="cs">\installprettyhandler</span> 10 <span class="cs">\BREAKtypeone</span>  <span class="br">}</span>

<span class="cs">\newcount</span><span class="cs">\BREAKcharcounter</span>
<span class="cs">\newcount</span><span class="cs">\BREAKmaxcharcount</span>

<span class="cs">\def</span><span class="cs">\BREAKtypeone</span><span class="brx">#</span>1<span class="comment">%</span>
  <span class="br">{</span><span class="cs">\advance</span><span class="cs">\BREAKcharcounter</span> 1
   <span class="cs">\ifnum</span><span class="cs">\BREAKcharcounter</span> &gt; <span class="cs">\BREAKmaxcharcount</span>
      <span class="cs">\hfil</span><span class="cs">\break</span>
      <span class="cs">\BREAKcharcounter</span><span class="brx">=</span>1
   <span class="cs">\fi</span>
   <span class="cs">\getpretty</span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="br">}</span>

<span class="cs">\def</span><span class="cs">\BREAKsetcounters</span><span class="comment">%</span>
  <span class="br">{</span><span class="cs">\setbox</span><span class="cs">\scratchbox</span><span class="brx">=</span><span class="cs">\hbox</span><span class="br">{</span>0<span class="br">}</span><span class="comment">%</span>
   <span class="cs">\BREAKmaxcharcount</span><span class="brx">=</span><span class="cs">\hsize</span>
   <span class="cs">\divide</span><span class="cs">\BREAKmaxcharcount</span> <span class="cs">\wd</span><span class="cs">\scratchbox</span>
   <span class="cs">\def</span><span class="cs">\flushrestofverbatimline</span><span class="br">{</span><span class="cs">\BREAKcharcounter</span><span class="brx">=</span>0 <span class="br">}</span><span class="comment">%</span>
   <span class="cs">\BREAKcharcounter</span><span class="brx">=</span>0 <span class="br">}</span>

<span class="cs">\gdef</span><span class="cs">\setupprettyBREAKtype</span><span class="comment">%</span>
  <span class="br">{</span><span class="cs">\def</span><span class="cs">\prettyidentifier</span><span class="br">{</span>BREAK<span class="br">}</span><span class="comment">%</span>
   <span class="cs">\BREAKsetcounters</span>
   <span class="cs">\BREAKsethandlers</span>
   <span class="cs">\BREAKsetspecials</span><span class="br">}</span>

<span class="cs">\installprettytype</span> <span class="brx">[</span>BREAK<span class="brx">]</span> <span class="brx">[</span>BREAK<span class="brx">]</span>

<span class="cs"><span class="stylecs">\enableregime</span></span><span class="brx">[</span>utf<span class="brx">]</span> <span class="comment">% needed in MkII</span>
<span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A5<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>

<span class="cs"><span class="documentcs">\framed</span></span>
   <span class="brx">[</span>width<span class="brx">=</span>8cm,
    align<span class="brx">=</span>flushleft,
    strut<span class="brx">=</span>no<span class="brx">]</span><span class="br">{</span><span class="comment">%</span>
<span class="cs"><span class="stylecs">\setuptyping</span></span><span class="brx">[</span>option<span class="brx">=</span>BREAK<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttyping</span></span>
h&ouml;&ouml;ah:aloh/aa?lha llol!loh<span class="comment">%lloh#allhal\lohhll;ohohal~loll ohal&ouml;lo</span>
<span class="cs"><span class="documentcs">\stoptyping</span></span>
<span class="br">}</span>

<span class="cs"><span class="documentcs">\framed</span></span>
   <span class="brx">[</span>width<span class="brx">=</span>4cm,
    align<span class="brx">=</span>flushleft,
    strut<span class="brx">=</span>no<span class="brx">]</span><span class="br">{</span><span class="comment">%</span>
<span class="cs"><span class="stylecs">\setuptyping</span></span><span class="brx">[</span>option<span class="brx">=</span>BREAK<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttyping</span></span>
Hottentottenstottertrottelmutterbeutelrattenlattengitterkastenattent&auml;ter
<span class="cs"><span class="documentcs">\stoptyping</span></span>
<span class="br">}</span>

<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="13" src="../wikiteximage/8bef934b6baf98ce6882c0f03715782d.webp" width="55">
     </li>
    </ul>
    <p>(The word "Hottentottenstottertrottelmutterlattengitterkotterbeutelratenattentater" has an amusing story attached, which can be found in <a class="external text" href="http://www.editorscanberra.org/May03.htm" rel="nofollow">the May 2003 issue of the Canberra Society of Editors Newsletter</a>.
</p>
    <p>Another mechanism has been suggested on <a href="Typography/Wrapping.html" title="Text blocks/Typography/Wrapping">Wrapping</a>.
</p>
    <h3>
     <span class="mw-headline" id="See_also">
      See also
     </span>
    </h3>
    <ul>
     <li>
      <a href="Typography/Hyphenation.html" title="Text blocks/Typography/Hyphenation">
       Hyphenation
      </a>
     </li>
     <li>
      <tt>
       <a href="../Command/hyphenation.html" title="Command/hyphenation">
        \hyphenation
       </a>
      </tt>
      to define the hyphenation of a specific word
     </li>
     <li>
      <tt>
       <a href="../Command/startexceptions.html" title="Command/startexceptions">
        \startexceptions
       </a>
      </tt>
      to define language-specific hyphenations
     </li>
     <li>
      <tt>
       <a href="../Command/-.html" title="Command/-">
        \-
       </a>
      </tt>
      to define an ad-hoc breakpoint
     </li>
     <li>
      <tt>
       <a href="../Command/unhyphenated.html" title="Command/unhyphenated">
        \unhyphenated
       </a>
      </tt>
      to prevent hyphenation
     </li>
     <li>
      <span class="plainlinks">
       <a class="external text" href="http://www.tug.org/utilities/plain/cseq.html#doublehyphendemerits-rp" rel="nofollow">
        <tt>
         \doublehyphendemerits
        </tt>
       </a>
       <span class="plainlinks">
        to penalize hyphenation on consecutive lines
       </span>
      </span>
     </li>
     <li>
      <a href="../Command/setupalign#Nicer_justification_and_microtypography.html" title="Command/setupalign">
       <tt>
        \setupalign
       </tt>
       justification parameters
      </a>
      to tweak the auto-hyphenation algorithm
     </li>
     <li>
      <tt>
       <a href="../Command/definebreakpoints.html" title="Command/definebreakpoints">
        \definebreakpoints
       </a>
      </tt>
      to initialize a breakpoint set
     </li>
     <li>
      <tt>
       <a href="../Command/definebreakpoint.html" title="Command/definebreakpoint">
        \definebreakpoint
       </a>
      </tt>
      to add to a breakpoint set
     </li>
     <li>
      <tt>
       <a href="../Command/setbreakpoints.html" title="Command/setbreakpoints">
        \setbreakpoints
       </a>
      </tt>
      to activate a breakpoint set
     </li>
     <li>
      <tt>
       <a href="../Command/language.html" title="Command/language">
        \language
       </a>
      </tt>
      to activate a language's settings, including hyphenation
     </li>
     <li>
      <a href="Typography/Wrapping.html" title="Text blocks/Typography/Wrapping">
       Wrapping
      </a>
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-12
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Text_blocks/Collections_of_tips_and_tricks">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
