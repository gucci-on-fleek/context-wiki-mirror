<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="style.css" rel="stylesheet">
  <link href="favicon.ico" rel="icon" sizes="32x32">
  <title>
   pm39 interface analysis&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/pm39_interface_analysis" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    pm39 interface analysis
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=5391&diff=40413">2025-01-14</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Introduction">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Introduction
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Vocabulary_and_Other_Assumptions">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Vocabulary and Other Assumptions
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-3">
       <a href="#Attributes_Used_in_The_Root_Element_of_a_Stanza">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Attributes Used in The Root Element of a Stanza
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-4">
         <a href="#The_file_Attribute">
          <span class="tocnumber">
           3.1
          </span>
          <span class="toctext">
           The file Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-5">
         <a href="#The_level_Attribute">
          <span class="tocnumber">
           3.2
          </span>
          <span class="toctext">
           The level Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-6">
         <a href="#The_name_Attribute">
          <span class="tocnumber">
           3.3
          </span>
          <span class="toctext">
           The name Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-7">
         <a href="#The_category_Attribute">
          <span class="tocnumber">
           3.4
          </span>
          <span class="toctext">
           The category Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-8">
         <a href="#The_type_Attribute">
          <span class="tocnumber">
           3.5
          </span>
          <span class="toctext">
           The type Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-9">
         <a href="#The_variant_Attribute">
          <span class="tocnumber">
           3.6
          </span>
          <span class="toctext">
           The variant Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-10">
         <a href="#The_generated_Attribute">
          <span class="tocnumber">
           3.7
          </span>
          <span class="toctext">
           The generated Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-11">
         <a href="#The_begin_and_end_Attributes">
          <span class="tocnumber">
           3.8
          </span>
          <span class="toctext">
           The begin and end Attributes
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-12">
         <a href="#The_scope_Attribute">
          <span class="tocnumber">
           3.9
          </span>
          <span class="toctext">
           The scope Attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-13">
         <a href="#The_coreprimitive_Attribute">
          <span class="tocnumber">
           3.10
          </span>
          <span class="toctext">
           The coreprimitive Attribute
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-14">
       <a href="#Structures">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Structures
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-15">
         <a href="#Arguments">
          <span class="tocnumber">
           4.1
          </span>
          <span class="toctext">
           Arguments
          </span>
         </a>
         <ul>
          <li class="toclevel-3 tocsection-16">
           <a href="#cd:keywords">
            <span class="tocnumber">
             4.1.1
            </span>
            <span class="toctext">
             cd:keywords
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-17">
           <a href="#cd:assignments">
            <span class="tocnumber">
             4.1.2
            </span>
            <span class="toctext">
             cd:assignments
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2 tocsection-18">
         <a href="#Sequence">
          <span class="tocnumber">
           4.2
          </span>
          <span class="toctext">
           Sequence
          </span>
         </a>
         <ul>
          <li class="toclevel-3 tocsection-19">
           <a href="#cd:instance">
            <span class="tocnumber">
             4.2.1
            </span>
            <span class="toctext">
             cd:instance
            </span>
           </a>
          </li>
          <li class="toclevel-3">
           <a href="#instance_generators">
            <span class="tocnumber">
             4.2.2
            </span>
            <span class="toctext">
             instance generators
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-21">
           <a href="#cd:variable">
            <span class="tocnumber">
             4.2.3
            </span>
            <span class="toctext">
             cd:variable
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-22">
           <a href="#cd:string">
            <span class="tocnumber">
             4.2.4
            </span>
            <span class="toctext">
             cd:string
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2 tocsection-23">
         <a href="#Instances">
          <span class="tocnumber">
           4.3
          </span>
          <span class="toctext">
           Instances
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-24">
       <a href="#Kinds_of_Stanzas">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         Kinds of Stanzas
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-25">
         <a href="#Command_Stanzas">
          <span class="tocnumber">
           5.1
          </span>
          <span class="toctext">
           Command Stanzas
          </span>
         </a>
         <ul>
          <li class="toclevel-3 tocsection-26">
           <a href="#.5Cinhibitblank">
            <span class="tocnumber">
             5.1.1
            </span>
            <span class="toctext">
             \inhibitblank
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-27">
           <a href="#.5Cblank">
            <span class="tocnumber">
             5.1.2
            </span>
            <span class="toctext">
             \blank
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-28">
           <a href="#TD">
            <span class="tocnumber">
             5.1.3
            </span>
            <span class="toctext">
             TD
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2 tocsection-29">
         <a href="#Class_Stanzas">
          <span class="tocnumber">
           5.2
          </span>
          <span class="toctext">
           Class Stanzas
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-30">
         <a href="#Example_Stanzas">
          <span class="tocnumber">
           5.3
          </span>
          <span class="toctext">
           Example Stanzas
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-31">
         <a href="#Environments">
          <span class="tocnumber">
           5.4
          </span>
          <span class="toctext">
           Environments
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-32">
       <a href="#Results">
        <span class="tocnumber">
         6
        </span>
        <span class="toctext">
         Results
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-33">
       <a href="#Things_to_Ponder">
        <span class="tocnumber">
         7
        </span>
        <span class="toctext">
         Things to Ponder
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-34">
         <a href="#What_does_an_environment_imply_for_command_generation.3F">
          <span class="tocnumber">
           7.1
          </span>
          <span class="toctext">
           What does an environment imply for command generation?
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-35">
         <a href="#What_does_a_class_imply_for_command_generation.3F">
          <span class="tocnumber">
           7.2
          </span>
          <span class="toctext">
           What does a class imply for command generation?
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-36">
         <a href="#Expanding_the_Element_Vocabulary.3F">
          <span class="tocnumber">
           7.3
          </span>
          <span class="toctext">
           Expanding the Element Vocabulary?
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-37">
       <a href="#Apendicies">
        <span class="tocnumber">
         8
        </span>
        <span class="toctext">
         Apendicies
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-38">
         <a href="#Attributes_that_are_Likely_Misspellings_of_.22category.22">
          <span class="tocnumber">
           8.1
          </span>
          <span class="toctext">
           Attributes that are Likely Misspellings of "category"
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-39">
         <a href="#Attributes_that_are_Likely_Misspellings_of_.22default.22">
          <span class="tocnumber">
           8.2
          </span>
          <span class="toctext">
           Attributes that are Likely Misspellings of "default"
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-40">
         <a href="#Missing_.22file.22_attribute">
          <span class="tocnumber">
           8.3
          </span>
          <span class="toctext">
           Missing "file" attribute
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-41">
         <a href="#Missing_.22level.22_attribute">
          <span class="tocnumber">
           8.4
          </span>
          <span class="toctext">
           Missing "level" attribute
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Introduction">
      Introduction
     </span>
    </h2>
    <p>Note: this is very much a first and working draft!
</p>
    <p>This analysis of the ConTeXt interface is an effort to understand how different kinds of commands are expressed, to help support the effort of generated a DITA document set.
</p>
    <p>I used the interface file <code>context-en.xml</code>:
</p>
    <dl>
     <dt>
      file name
     </dt>
     <dd>
      context-en.xml
     </dd>
     <dt>
      date collected
     </dt>
     <dd>
      2020-06-27
     </dd>
     <dt>
      size
     </dt>
     <dd>
      1685184
     </dd>
     <dt>
      md5
     </dt>
     <dd>
      48edfd4fb6e71aee7a49023f0527a461
     </dd>
    </dl>
    <p>I used xmlstarlet: 
</p>
    <pre>   <a class="external free" href="http://xmlstar.sourceforge.net" rel="nofollow">http://xmlstar.sourceforge.net</a>
</pre>
    <p>...to gather and process most of data from <code>context-en.xml</code>; for the queries that required XPath 2.0+ features, I used Xmplify.app.
</p>
    <h2>
     <span class="mw-headline" id="Vocabulary_and_Other_Assumptions">
      Vocabulary and Other Assumptions
     </span>
    </h2>
    <p>The interface file is made up of a number of <code>cd:interface</code> elements that describe a hierarchy based on source files.
</p>
    <p>Inside this hierarchy of interface elements are a set of <code>cd:command</code> elements. I'm going to refer to these elements as <b>stanzas</b>. 
</p>
    <p>Some commands are instances of a more general idea of functionality. I'm going to refer to the parent elements of instances as <b>classes</b>.
</p>
    <p>Each stanza can refer to one of a number of different kinds of entities:
</p>
    <ul>
     <li>
      a command
     </li>
     <li>
      a paired command, which describes the start and stop commands for a section
     </li>
     <li>
      a class, with enumerated instances of that class that are available by default as part of the distribution
     </li>
    </ul>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> fourth option: an example (dummy) of a potential generated instance. these are the ones with variant=example*
</td>
      </tr>
     </tbody>
    </table>
    <p>Commands may or may not also be indicated as <b>environments</b>, which describe a set of generated commands.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> this is the same as a 'paired command'.
</td>
      </tr>
     </tbody>
    </table>
    <p>There are 4028 stanzas in the interface file, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command)' context-en.xml
</pre>
    <h2>
     <span class="mw-headline" id="Attributes_Used_in_The_Root_Element_of_a_Stanza">
      Attributes Used in The Root Element of a Stanza
     </span>
    </h2>
    <p>Root elements of a stanza can have one of several available attributes. The patterns of some of these attributes give hints to the function or purpose of the stanza.
</p>
    <p>From the following XPath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/@*/name())
</pre>
    <p>...we have a list of 11 attributes found attached to root elements of stanzas in the interface:
</p>
    <ul>
     <li>
      file
     </li>
     <li>
      level
     </li>
     <li>
      name
     </li>
     <li>
      category
     </li>
     <li>
      type
     </li>
     <li>
      variant
     </li>
     <li>
      generated
     </li>
     <li>
      begin
     </li>
     <li>
      end
     </li>
     <li>
      scope
     </li>
     <li>
      coreprimitive
     </li>
    </ul>
    <p>(Note that we also appear to have two misspellings of "category"; see <a href="#misspelled_category">#misspelled_category</a>)
</p>
    <h3>
     <span class="mw-headline" id="The_file_Attribute">
      The file Attribute
     </span>
    </h3>
    <p>The <code>file</code> attribute specifies the source file that defines the command. 
</p>
    <p>4027 stanzas have the <code>file</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@file])' context-en.xml
</pre>
    <p>One command does not have the <code>file</code> attribuite, as reported by: 
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v '//cd:interface/cd:interface/cd:command[not(@file)]/@name' context-en.xml
</pre>
    <p>... is: <code>doifelseframed</code>.
</p>
    <h3>
     <span class="mw-headline" id="The_level_Attribute">
      The level Attribute
     </span>
    </h3>
    <p>The value of the <code>level</code> attribute loosely specifies how the command is part of the typesetting system.
</p>
    <p>The <code>level</code> attribute has three possible values in the interface:
</p>
    <ul>
     <li>
      style
     </li>
     <li>
      document
     </li>
     <li>
      system
     </li>
    </ul>
    <p>Commands with a level of <code>style</code> or <code>document</code> are expected to be used by people using ConTeXt to prepare documents; commands with the level of <code>system</code> are internal commands with an expected audience of programmers and implementors who need to know about ConTeXt internals.
</p>
    <p>4025 stanzas have the <code>level</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@level])' context-en.xml
</pre>
    <p>The three commands that do not have the <code>level</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v '//cd:interface/cd:interface/cd:command[not(@level)]/@name' context-en.xml
</pre>
    <p>...are <code>setupoutput</code>, <code>postponingnotes</code>, and <code>script</code>.
</p>
    <h3>
     <span class="mw-headline" id="The_name_Attribute">
      The name Attribute
     </span>
    </h3>
    <p>The <code>name</code> attribute specifies the name associated with the stanza, and may refer to a command, a stem for a command pair or environment, or a class.
</p>
    <p>4028 stanzas have this attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@name])' context-en.xml
</pre>
    <p>There is no stanza in the interface without this attribute in its root element.
</p>
    <h3>
     <span class="mw-headline" id="The_category_Attribute">
      The category Attribute
     </span>
    </h3>
    <p>The <code>category</code> attribute specifies the category (or categories?) assigned to a given stanza.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/@category)
</pre>
    <p>...there are 79 discrete values for categories used in the interface:
</p>
    <ul>
     <li>
      mathematics
     </li>
     <li>
      alignment
     </li>
     <li>
      attribute
     </li>
     <li>
      background
     </li>
     <li>
      background colors
     </li>
     <li>
      background conditional
     </li>
     <li>
      rules
     </li>
     <li>
      rules colors
     </li>
     <li>
      graphics
     </li>
     <li>
      structure
     </li>
     <li>
      pdf
     </li>
     <li>
      conditional
     </li>
     <li>
      buffer conditional
     </li>
     <li>
      buffer
     </li>
     <li>
      buffer lua
     </li>
     <li>
      buffer verbatim
     </li>
     <li>
      fonts
     </li>
     <li>
      catcode
     </li>
     <li>
      characters
     </li>
     <li>
      characters fonts
     </li>
     <li>
      language
     </li>
     <li>
      colors
     </li>
     <li>
      colors conditional
     </li>
     <li>
      tables
     </li>
     <li>
      float tables
     </li>
     <li>
      counter
     </li>
     <li>
      counter language
     </li>
     <li>
      counter conditional
     </li>
     <li>
      system
     </li>
     <li>
      language alignment
     </li>
     <li>
      fonts colors
     </li>
     <li>
      xml
     </li>
     <li>
      pdf conditional
     </li>
     <li>
      pdf background rules
     </li>
     <li>
      pdf background
     </li>
     <li>
      structure conditional
     </li>
     <li>
      structure lua
     </li>
     <li>
      structure conditional xml
     </li>
     <li>
      rules metapost
     </li>
     <li>
      background layout
     </li>
     <li>
      background layout metapost
     </li>
     <li>
      structure fonts counter
     </li>
     <li>
      structure background
     </li>
     <li>
      structure counter
     </li>
     <li>
      fonts conditional
     </li>
     <li>
      background rules
     </li>
     <li>
      background rules mathematics
     </li>
     <li>
      graphics conditional
     </li>
     <li>
      graphics buffer
     </li>
     <li>
      graphics structure
     </li>
     <li>
      layout
     </li>
     <li>
      whitespace
     </li>
     <li>
      whitespace layout
     </li>
     <li>
      symbols
     </li>
     <li>
      fonts whitespace
     </li>
     <li>
      language conditional
     </li>
     <li>
      background metapost
     </li>
     <li>
      layout conditional
     </li>
     <li>
      tables buffer
     </li>
     <li>
      lua
     </li>
     <li>
      structure layout
     </li>
     <li>
      mathematics alignment
     </li>
     <li>
      mathematics tables
     </li>
     <li>
      graphics metapost
     </li>
     <li>
      graphics metapost fonts
     </li>
     <li>
      graphics metapost conditional
     </li>
     <li>
      structure notes
     </li>
     <li>
      structure notes conditional
     </li>
     <li>
      background fonts colors
     </li>
     <li>
      bibliography
     </li>
     <li>
      bibliography conditional
     </li>
     <li>
      references
     </li>
     <li>
      references conditional
     </li>
     <li>
      symbols conditional
     </li>
     <li>
      symbols graphics
     </li>
     <li>
      xml conditional
     </li>
     <li>
      xml language
     </li>
     <li>
      verbatim
     </li>
     <li>
      verbatim conditional
     </li>
    </ul>
    <p>....although if these are space-separated, there is overlap.
</p>
    <p>Note: this analysis does not include stanzas with misspelled category attributes.
</p>
    <p>Note for the DITA rendering of the interface: if these are space separated, they can be parsed out into separate <code>category</code> elements.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> I always thought these were full strings, but you could be right about space separation
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span class="mw-headline" id="The_type_Attribute">
      The type Attribute
     </span>
    </h3>
    <p>At the root level of a stanza, the <code>type</code> attribute can indicate the type of the stanza.
</p>
    <p>369 stanzas have the <code>type</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@type])' context-en.xml
</pre>
    <p>It does not appear that this is a required attribute.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/@type)
</pre>
    <p>At the root level of the stanza, the <code>type</code> element has one possible value:
</p>
    <ul>
     <li>
      environment
     </li>
    </ul>
    <p>This attribute is significant for indicating this stanza describes an environment.
</p>
    <h3>
     <span class="mw-headline" id="The_variant_Attribute">
      The variant Attribute
     </span>
    </h3>
    <p>The <code>variant</code> attribute specifies more information about the type of the stanza, and may be used to disambiguate stanzas.
</p>
    <p>3299 stanzas have the <code>variant</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@variant])' context-en.xml
</pre>
    <p>It does not appear that this is a required attribute.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/@variant)
</pre>
    <p>...31 discrete values are used in the interface for the <code>variant</code> attribute:
</p>
    <ul>
     <li>
      argument
     </li>
     <li>
      instance
     </li>
     <li>
      example
     </li>
     <li>
      page
     </li>
     <li>
      list
     </li>
     <li>
      direct
     </li>
     <li>
      interactionmenu
     </li>
     <li>
      button
     </li>
     <li>
      name
     </li>
     <li>
      1
     </li>
     <li>
      2
     </li>
     <li>
      3
     </li>
     <li>
      matrix
     </li>
     <li>
      example:title
     </li>
     <li>
      string
     </li>
     <li>
      preset
     </li>
     <li>
      command
     </li>
     <li>
      assignment
     </li>
     <li>
      item
     </li>
     <li>
      symbol
     </li>
     <li>
      none
     </li>
     <li>
      combination
     </li>
     <li>
      instance:assignment
     </li>
     <li>
      collector
     </li>
     <li>
      layer
     </li>
     <li>
      userdata
     </li>
     <li>
      alternative
     </li>
     <li>
      instance:ownnumber
     </li>
     <li>
      instance:argument
     </li>
     <li>
      angles
     </li>
     <li>
      example:angles
     </li>
    </ul>
    <p>A value of <code>instance</code> is important for interpreting the kind of stanza.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> AFAICT, the values are CDATA on the xml level. In general, they are there to allow for a unique stanza in cases where not all calling conventions can be expressed in a single stanza. The two exceptions are the CDATA values prefixed with <code>instance</code> and <code>example</code>. The <code>example</code> cases are when there is the <i>potential</i> for a command instance, but there are no predefined instances in the actual distribution. The <code>instance</code> indicates cases where there <i>are</i> predefined instances.
<p><br>
Processing note: I do not trust the <code>instance</code> prefix in my processing, I check for the existence of <code>&lt;cd:constant&gt;</code> children in the <code>&lt;cd:instances&gt;</code> child tag. However, I am not sure if this is needed. I have not run tests on the XML to verify that the prefix <code>instance</code> and child <code>&lt;cd:instances&gt;</code> always exist together, I just assumed that testing in actual instances was better than relying on a CDATA argument value 
</p>
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span class="mw-headline" id="The_generated_Attribute">
      The generated Attribute
     </span>
    </h3>
    <p>The <code>generated</code> attribute indicates if the stanza is describing a set of commands.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> not necessarily a set of commands, it could be a single command (or environment)
</td>
      </tr>
     </tbody>
    </table>
    <p>138 stanzas have the <code>generated</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@generated])' context-en.xml
</pre>
    <p>It does not appear that this is a required attribute.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/@generated)
</pre>
    <p>...the <code>generated</code> element has one possible value:
</p>
    <ul>
     <li>
      yes
     </li>
    </ul>
    <p>This attribute is significant for indicating this stanza describes a generated command.
</p>
    <h3>
     <span class="mw-headline" id="The_begin_and_end_Attributes">
      The begin and end Attributes
     </span>
    </h3>
    <p>The <code>begin</code> and <code>end</code> attributes indicate the strings that must be prepended to the command stem to create the command pair.
</p>
    <p>41 stanzas have both <code>begin</code> and <code>end</code> attributes, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@begin and @end])' context-en.xml
</pre>
    <p>(This is also the number of stanzas that have either of these attributes.)
</p>
    <p>It does not appear that these are required attributes.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> they have default values of <code>start</code> and <code>stop</code>, and are only relevant for stanzas with <code>type=environment</code>
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span class="mw-headline" id="The_scope_Attribute">
      The scope Attribute
     </span>
    </h3>
    <p>I am not sure what the <code>scope</code> attribute indicates.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> scoped commands are only defined 'meaningfully' inside specific environments. For example, <code>\item</code> only works properly inside of commands defined by <code>\defineitemgroup</code>.
</td>
      </tr>
     </tbody>
    </table>
    <p>10 stanzas have the <code>scope</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@scope])' context-en.xml
</pre>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/@scope)
</pre>
    <p>...the <code>scope</code> element has two possible values:
</p>
    <ul>
     <li>
      formula
     </li>
     <li>
      itemgroup
     </li>
    </ul>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> the possible value list may grow in the future? It could be that some of the row/cell commands in some of the table environments only meaningfully exist within their table environments. Also, there may appear new commands in the future that have a specific scope
</td>
      </tr>
     </tbody>
    </table>
    <p>It does not appear that this is a required attribute.
</p>
    <h3>
     <span class="mw-headline" id="The_coreprimitive_Attribute">
      The coreprimitive Attribute
     </span>
    </h3>
    <p>I am not sure what the <code>coreprimitive</code> attribute indicates.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> Neither am I. Perhaps this is a new idea?
</td>
      </tr>
     </tbody>
    </table>
    <p><br>
3 stanzas have the <code>coreprimitive</code> attribute, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command[@coreprimitive])' context-en.xml
</pre>
    <p><br>
As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/@coreprimitive)
</pre>
    <p>...the <code>coreprimitive</code> element has one possible value:
</p>
    <ul>
     <li>
      yes
     </li>
    </ul>
    <p>It does not appear that this is a required attribute.
</p>
    <h2>
     <span class="mw-headline" id="Structures">
      Structures
     </span>
    </h2>
    <p>This section is incomplete: I am focusing on element structures that will help parse the interface file into the DITA documentation set.
</p>
    <p>According to the Xpath expression:
</p>
    <pre>count(//cd:interface/cd:interface/cd:command/*/name(.))
</pre>
    <p>3560 of the stanzas contain more structure, with details about the command or class.
</p>
    <p>According to the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/*/name(.))
</pre>
    <p>...these stanzas with interior structure have at least one of the following child elements:
</p>
    <ul>
     <li>
      <code>cd:arguments</code>
     </li>
     <li>
      <code>cd:sequence</code>
     </li>
     <li>
      <code>cd:instances</code>
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Arguments">
      Arguments
     </span>
    </h3>
    <p>Stanzas may have an <code>cd:arguments</code> substructure, to describe command arguments.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>count(//cd:interface/cd:interface/cd:command/cd:arguments/@*/name(.))
</pre>
    <p>....no <code>cd:argument</code> elements have attributes.
</p>
    <p>3333 stanzas have an arguments substructure, as reported by:
</p>
    <pre>xml sel -N cd=http://www.pragma-ade.nl/commands -t -v 'count(//cd:interface/cd:interface/cd:command/cd:arguments)' context-en.xml
</pre>
    <p>As reported by the Xpath Expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/*/name(.))
</pre>
    <p>...argument structures support the following child elements:
</p>
    <dl>
     <dt>
      <code>cd:keywords</code>
     </dt>
     <dd>
      Setups of options - keywords separated by a comma.
     </dd>
     <dt>
      <code>cd:assignments</code>
     </dt>
     <dd>
      Setups of settings - key=value pairs, separated by a comma.
     </dd>
     <dt>
      <code>cd:csname</code>
     </dt>
     <dd>
      A ConTeXt command name.
     </dd>
     <dt>
      <code>cd:content</code>
     </dt>
     <dd>
      Mixed content?
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> I would define this as 'generic content'
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:delimiter</code>
     </dt>
     <dd>
      A piece of text (a command?) that is used to mark arguments.
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> Yes, a command. The name attribute gives the command name. These are literal required commands that are used as argument separators.
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:dimension</code>
     </dt>
     <dd>
      A quantity of linear measure.
     </dd>
     <dt>
      <code>cd:triplet</code>
     </dt>
     <dd>
      A description of a color.
     </dd>
     <dt>
      <code>cd:position</code>
     </dt>
     <dd>
      (unknown)
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> positions are an old subsystem for absolute placement that is not used a lot, since it has since been superseded by layers and overlays. you'll have to look at <code>pack-pos.mkiv</code> to get an idea for how it works.
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:index</code>
     </dt>
     <dd>
      (unknown)
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> this is a list index entries. They are mentioned separately because index entries have a sub-syntax of their own
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:text</code>
     </dt>
     <dd>
      (unknown)
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> Generic horizontal mode content. The sole occurrence of this is in <code>\setwidthof</code>.
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:apply</code>
     </dt>
     <dd>
      (unknown)
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> these are apply lists, which define jump tables. Syntactically, apply lists are like key=value lists, except they use <code>=&gt;</code> as separator instead of <code>=</code>. Have a look at the <a href="ConTeXt_and_Lua_programming/Tutorials/System_Macros/Action_Processing.html" title="ConTeXt and Lua programming/Tutorials/System Macros/Action Processing">Action_Processing</a> page for more details.
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:template</code>
     </dt>
     <dd>
      (unknown)
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> table column definition templates, like for <code>\starttable[
</code></td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:angles</code>
     </dt>
     <dd>
      (unknown)
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> <code>\type</code> and <code>\typ</code> also allow a call with double angle brackets, like this: <code>\type&lt;stuff&gt;&gt;</code>
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      <code>cd:string</code>
     </dt>
     <dd>
      (unknown)
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> an argument that is explicitly a bare string, for string comparisons
</td>
      </tr>
     </tbody>
    </table>
    <h4>
     <span class="mw-headline" id="cd:keywords">
      cd:keywords
     </span>
    </h4>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:keywords/@*/name())
</pre>
    <p>...<code>cd:keywords</code> elements accept the following attributes:
</p>
    <dl>
     <dt>
      delimiters
     </dt>
     <dd>
      The type of delimiters requested for the argument. Values found in the interface are
      <code>none</code>
      ,
      <code>braces</code>
      ({}), and
      <code>parenthesis</code>
      . Square brackets ([]) are the implied default?
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> yes, square brackets default
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      list
     </dt>
     <dd>
      &nbsp;?
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> <code>list=yes</code> means this is defines a comma-separated list. if missing, this defines a single keyword option
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      optional
     </dt>
     <dd>
      The argument is optional.
     </dd>
    </dl>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:keywords/*/name(.))
</pre>
    <p>...a <code>cd:keywords</code> element can contain one or more <code>cd:constant</code> elements and/or <code>cd:inherit</code> elements.
</p>
    <p>The <code>cd:constant</code> element defines a single keyword. 
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:keywords/cd:constant/@*/name())
</pre>
    <p>...can have four possible attributes:
</p>
    <dl>
     <dt>
      type
     </dt>
     <dd>
      The label or name of the option.
     </dd>
     <dt>
      default
     </dt>
     <dd>
      Whether ("yes") or not this constant is a default.
     </dd>
     <dt>
      method
     </dt>
     <dd>
      &nbsp;?
     </dd>
     <dt>
      prefix
     </dt>
     <dd>
      &nbsp;?
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> This one I am not quite sure about, but I interpret <code>method</code>, <code>prefix</code> and <code>type</code> like this:
<dl><dt>method=range</dt>
<dd>the argument is specified as <code>prefix</code>, followed by <code>:</code>, followed by <code>type</code></dd>
<dt>method=apply</dt>
<dd>the argument is specified as <code>prefix</code>, followed by <code>-&gt;</code>, followed by <code>type</code></dd>
<dt>method=factor</dt>
<dd>the argument is specified as <code>prefix</code>, followed by <code>*</code>, followed by <code>type</code></dd>
<dt>method=none</dt>
<dd>the argument is specified as <code>prefix</code>, followed by <code>type</code></dd></dl>
<p>The values of both <code>prefix</code> and <code>type</code> can be one of the predefined <code>cd:XXXXX</code> value types, or a literal string like <code>*</code> or <code>all</code>.
</p><p>A useful example is in <a href="Command/setupreferencestructureprefix.html" title="Command/setupreferencestructureprefix">Command/setupreferencestructureprefix</a>
</p>
</td>
      </tr>
     </tbody>
    </table>
    <p>The <code>cd:inherit</code> element acts as a pointer to the options of a donor command by command name. The <code>cd:inherit</code> element uses the <code>name</code> attribute to indicate the donor command.
</p>
    <h4>
     <span class="mw-headline" id="cd:assignments">
      cd:assignments
     </span>
    </h4>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:assignments/@*/name())
</pre>
    <p>...<code>cd:assignments</code> elements accept the following attributes:
</p>
    <dl>
     <dt>
      delimiters
     </dt>
     <dd>
      The type of delimiters requested for the argument. Values found in the interface are
      <code>none</code>
      ,
      <code>braces</code>
      ({}), and
      <code>parenthesis</code>
      . Square brackets ([]) are the implied default?
     </dd>
     <dt>
      list
     </dt>
     <dd>
      &nbsp;?
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> <code>list=yes</code> means this is defines a comma-separated list. if missing, this defines a single key-value option (which I think never actually happens)
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dt>
      optional
     </dt>
     <dd>
      The argument is optional.
     </dd>
    </dl>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:assignments/*/name(.))
</pre>
    <p>...a <code>cd:assignments</code> element can contain one or more <code>cd:parameter</code> elements and/or <code>cd:inherit</code> elements.
</p>
    <p>A <code>cd:inherit</code> element at this level acts as a pointer to the settings of a donor command by command name. The <code>cd:inherit</code> element uses the <code>name</code> attribute to indicate the donor command.
</p>
    <p>The <code>cd:parameter</code> element defines the structure of a key and associated values. 
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:assignments/cd:parameter/@*/name())
</pre>
    <p>...a <code>cd:parameter</code> element can accept two attributes:
</p>
    <dl>
     <dt>
      name
     </dt>
     <dd>
      The name of the key in the key=value pair.
     </dd>
     <dt>
      list
     </dt>
     <dd>
      &nbsp;?
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> <code>list=yes</code> means this is defines a comma-separated list. if missing, this defines a single parameter
</td>
      </tr>
     </tbody>
    </table>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:assignments/cd:parameter/*/name(.))
</pre>
    <p>...a <code>cd:parameter</code> element can contain one or more <code>cd:constant</code> elements and/or <code>cd:inherit</code> elements.
</p>
    <p><br>
The <code>cd:constant</code> element defines a single keyword. 
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:arguments/cd:assignments/cd:parameter/cd:constant/@*/name())
</pre>
    <p>...can have four possible attributes:
</p>
    <dl>
     <dt>
      type
     </dt>
     <dd>
      The label or name of the option.
     </dd>
     <dt>
      default
     </dt>
     <dd>
      Whether ("yes") or not this constant is a default.
     </dd>
     <dt>
      method
     </dt>
     <dd>
      &nbsp;?
     </dd>
     <dt>
      prefix
     </dt>
     <dd>
      &nbsp;?
     </dd>
    </dl>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> see above for method/prefix/type
</td>
      </tr>
     </tbody>
    </table>
    <p>(Note: there is one instance of a possible type on Line 38818: &lt;cd:constant defult="yes" type="stop"/&gt; )
</p>
    <p>A <code>cd:inherit</code> element at this level acts as a pointer to the options of a donor command by command name. The options of the donor command are used as values for the associated key. The <code>cd:inherit</code> element uses the <code>name</code> attribute to indicate the donor command.
</p>
    <h3>
     <span class="mw-headline" id="Sequence">
      Sequence
     </span>
    </h3>
    <p>Stanzas may have an <code>cd:sequence</code> substructure, to describe command arguments.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>count(//cd:interface/cd:interface/cd:command/cd:sequence/@*/name(.))
</pre>
    <p>....no cd:sequence elements have attributes.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>distinct-values(//cd:interface/cd:interface/cd:command/cd:sequence/*/name(.))
</pre>
    <p>...sequence elements can contain the following child elements:
</p>
    <ul>
     <li>
      cd:instance
     </li>
     <li>
      cd:variable
     </li>
     <li>
      cd:string
     </li>
    </ul>
    <h4>
     <span class="mw-headline" id="cd:instance">
      cd:instance
     </span>
    </h4>
    <p>As reported by the Xpath expression:
</p>
    <pre>count(//cd:interface/cd:interface/cd:command/cd:sequence/cd:instance)
</pre>
    <p>...91 sequence substructures have an instance child.
</p>
    <p>As reported by the Xpath expression:
</p>
    <pre>//cd:interface/cd:interface/cd:command[@variant="instance"]/cd:sequence/cd:instance
</pre>
    <p>....84 of these stanzas have the <code>variant</code> attribute set to <code>instance</code> in the command element.
</p>
    <p>Having a combination of an <code>cd:instance</code> element and <code>variant="instance"</code> attribute strongly correlates with the stanza describing a class.
</p>
    <p>The <code>cd:instance</code> element carries an attribute of <code>value</code>, which maps to the replaceable stem of the class.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> Based on email exchange with Wolfgang:
<h4><span class="mw-headline" id="instance_generators">instance generators</span></h4>
<p>instances are generated by a generator command. Currently, I find the generator command as follows:
</p>
<ul><li>take the value of the <code>name</code> attribute at the top level of the stanza</li>
<li>prepend <code>define</code></li>
<li>look for a replacement in the following table</li></ul>
<pre>  local corrections = {
    definefloats = 'definefloat',
    definebox = 'definehbox',
    definectxfunction = 'installctxfunction',
    definectxfunctiondefinition =  'startctxfunctiondefintion',
    definefence = 'definemathfence',
    definelabel = 'definelabelclass',
    definelanguage = 'installlanguage',
    definesynonym = 'definesynonyms',
    definesorts = 'definesorting', 
  }
</pre>
<ul><li>the result is the generator command for all the instances in the stanza</li></ul>
</td>
      </tr>
     </tbody>
    </table>
    <h4>
     <span class="mw-headline" id="cd:variable">
      cd:variable
     </span>
    </h4>
    <p>(I'm not sure what this is meant to indicate, but it seems to correlate with examples? -pm39)
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> my guess is that these are leftovers. But see also the discussion about <code>variant=example</code> on the wiki mailing list
</td>
      </tr>
     </tbody>
    </table>
    <h4>
     <span class="mw-headline" id="cd:string">
      cd:string
     </span>
    </h4>
    <p>The <code>cd:string</code> element indicates a piece of text that is a particle of the command name of an instance, and is appended to the stem to create the full command name of an instance.
</p>
    <p><code>cd:sequence</code> elements can have zero, one, or two <code>cd:string</code> elements. Up to one <code>cd:string</code> element can appear either before or after the <code>cd:instance</code> element.
</p>
    <p>The <code>cd:string</code> element carries an attribute of <code>value</code>, which maps to the affix text that should be added to command name for instances of the class. The string is added in prefix or postfix depending on where the <code>cd:string</code> element is ordered within the <code>cd:sequence</code> element.
</p>
    <h3>
     <span class="mw-headline" id="Instances">
      Instances
     </span>
    </h3>
    <p>The <code>cd:instances</code> element contains one or more <code>cd:constant</code> elements, each of which describes an instance of the class named by the stanza. The stem values of the instances are indicated by the <code>value</code> attribute.
</p>
    <h2>
     <span class="mw-headline" id="Kinds_of_Stanzas">
      Kinds of Stanzas
     </span>
    </h2>
    <p>The purpose of this analysis is to help support automatic translation of the ConTeXt interface files into a topic-based DITA documentation set. As a result, it appears the ConTeXt interface stanzas describe at least two, and possible three, different things., and an additional feature axis.
</p>
    <h3>
     <span class="mw-headline" id="Command_Stanzas">
      Command Stanzas
     </span>
    </h3>
    <p>Some stanzas describe <code></code>commands<code></code>. 
</p>
    <p>This can be straightforward, with a one to one relationship between the stanza and a command. 
</p>
    <p>As my sample cases for this kind of stanza, I have the <code>\inhibitblank</code> stanza and the <code>\blank</code> stanza.
</p>
    <p>Some command stanzas describe pairs of commands; using <code>begin</code> and <code>end</code> attributes to indicate prefixes, these stanzas explicitly describe commands which bracket content. The contents of <code>cd:argument</code>, if extant, only apply to the command with the <code>begin</code> prefix.
</p>
    <p>As my sample case for this kind of stanza, I have the <code>TD</code> stanza. 
</p>
    <h4>
     <span id="\inhibitblank">
     </span>
     <span class="mw-headline" id=".5Cinhibitblank">
      <code>\inhibitblank</code>
     </span>
    </h4>
    <p>The <code>\inhibitblank</code> stanza looks like this:
</p>
    <pre class="xml"><span class="br">&lt;</span><span class="name">cd:command category="whitespace" file="spac-ver.mkiv" level="system" name="inhibitblank"/</span><span class="br">&gt;</span>
</pre>
    <p>This stanza has no internal structure.
</p>
    <p>This stanza is not:
</p>
    <ul>
     <li>
      An environment.
     </li>
     <li>
      A variant.
     </li>
     <li>
      Generated.
     </li>
    </ul>
    <h4>
     <span id="\blank">
     </span>
     <span class="mw-headline" id=".5Cblank">
      <code>\blank</code>
     </span>
    </h4>
    <p>The <code>\blank</code> stanza looks like this:
</p>
    <pre class="xml"> <span class="br">&lt;</span><span class="name">cd:command category="whitespace" file="spac-ver.mkiv" level="document" name="blank"</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">cd:arguments</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:keywords list="yes" optional="yes"</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:constant type="preference"/</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:constant type="samepage"/</span><span class="br">&gt;</span>
     <span class="comment">&lt;!-- cd:constant elements removed for clarity --&gt;</span>

     <span class="br">&lt;</span><span class="name">cd:constant type="cd:dimension"/</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:constant type="cd:name"/</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/cd:keywords</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/cd:arguments</span><span class="br">&gt;</span>
  <span class="br">&lt;</span><span class="name">/cd:command</span><span class="br">&gt;</span>
</pre>
    <p>This stanza has internal structure: a argument of type <i>options</i>, with a list of available keywords.
</p>
    <p>This stanza is not:
</p>
    <ul>
     <li>
      An environment.
     </li>
     <li>
      A variant.
     </li>
     <li>
      Generated.
     </li>
    </ul>
    <h4>
     <span class="mw-headline" id="TD">
      <code>TD</code>
     </span>
    </h4>
    <p>The <code>TD</code> stanza looks like this:
</p>
    <pre class="xml"><span class="br">&lt;</span><span class="name">cd:command begin="b" category="tables" end="e" file="tabl-ntb.mkxl" level="document" name="TD" type="environment"</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">cd:arguments</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:assignments list="yes" optional="yes"</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:parameter name="nx"</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">cd:constant type="cd:number"/</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">/cd:parameter</span><span class="br">&gt;</span>
     <span class="comment">&lt;!-- cd:parameter elements removed for clarity --&gt;</span>

     <span class="br">&lt;</span><span class="name">cd:parameter name="action"</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">cd:constant type="cd:reference"/</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">/cd:parameter</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:inherit name="setupTABLE"/</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/cd:assignments</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/cd:arguments</span><span class="br">&gt;</span>
  <span class="br">&lt;</span><span class="name">/cd:command</span><span class="br">&gt;</span>
</pre>
    <p>This stanza has internal structure: a argument of type <i>settings</i>, with a list of available keys and values for each key.
</p>
    <p>This stanza is:
</p>
    <ul>
     <li>
      An environment.
     </li>
    </ul>
    <p>This stanza is not:
</p>
    <ul>
     <li>
      A variant.
     </li>
     <li>
      Generated.
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Class_Stanzas">
      Class Stanzas
     </span>
    </h3>
    <p>Some stanzas describe <code></code>classes<code></code>. 
</p>
    <p>These stanzas describe a series of <i>instances</i> of the class; a series of commands that share the class' setups and details.
</p>
    <p>Instances that are offered as part of the standard distribution are captured as a series of chile <code>cd:constant</code> elements, with the instance name expressed as the value associated with the <code>value</code> attribute of the <code>cd:constant</code> element.
</p>
    <p>Classes imply that the user may generate their own instances, creating specialized instances of the class with the appropriate <code>\define<i>stem</i></code> command. 
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> see above for special cases of generator commands that are not exactly <code>\define<i>stem</i></code>
</td>
      </tr>
     </tbody>
    </table>
    <p>As my sample case for this kind of stanza, I have the <code>\itemgroup</code> stanza.
</p>
    <p>There are two stanzas with the name <code>itemgroup</code>. 
</p>
    <p>The first stanza for <code>name="itemgroup"</code> looks like this:
</p>
    <pre class="xml">  <span class="br">&lt;</span><span class="name">cd:command category="structure" file="strc-itm.mkvi" generated="yes" level="document" name="itemgroup" type="environment" variant="instance"</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">cd:sequence</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:instance value="itemgroup"/</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/cd:sequence</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">cd:arguments</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:keywords list="yes" optional="yes"</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:inherit name="setupitemgroup"/</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/cd:keywords</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:assignments list="yes" optional="yes"</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:inherit name="setupitemgroup"/</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/cd:assignments</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/cd:arguments</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">cd:instances</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:constant value="itemize"/</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/cd:instances</span><span class="br">&gt;</span>
  <span class="br">&lt;</span><span class="name">/cd:command</span><span class="br">&gt;</span>
</pre>
    <p>This stanza has the attribute and value of <code>generated="yes"</code>. This implies that the commands are created automatically as part of the standard distribution.
</p>
    <p>This stanza also has the attribute and value of <code>variant="instance"</code>, and has a <code>cd:instances</code> element with more than zero child elements. This implies that this stanza describes a <i>class</i>. 
</p>
    <p>The second stanza for <code>name="itemgroup"</code> looks like this:
</p>
    <pre class="xml">  <span class="br">&lt;</span><span class="name">cd:command category="structure" file="strc-itm.mkvi" level="document" name="itemgroup" type="environment"</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">cd:arguments</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:keywords</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:constant type="cd:name"/</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/cd:keywords</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:keywords list="yes" optional="yes"</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:inherit name="setupitemgroup"/</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/cd:keywords</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">cd:assignments list="yes" optional="yes"</span><span class="br">&gt;</span>
     <span class="br">&lt;</span><span class="name">cd:inherit name="setupitemgroup"/</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/cd:assignments</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/cd:arguments</span><span class="br">&gt;</span>
  <span class="br">&lt;</span><span class="name">/cd:command</span><span class="br">&gt;</span>
</pre>
    <p>The second stanza describes a simple <code>itemgroup</code> command, with an environment.
</p>
    <h3>
     <span class="mw-headline" id="Example_Stanzas">
      Example Stanzas
     </span>
    </h3>
    <p>I'm not sure how the example stanzas work, yet. From the label, I expect them to be more towards documentation than implementation, but I don't know.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> Example stanzas are for instances that <i>could</i> be generated, but of which there are no examples in the ConTeXt distribution. <code>description</code> and <code>effect</code> are good examples of this type of stanza. While there are the associated commands <code>\definedescription</code> and <code>\defineeffect</code>, ConTeXt itself never bothers to the define any instances
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span class="mw-headline" id="Environments">
      Environments
     </span>
    </h3>
    <p>Stanzas can have an additional intrinsic of describing an <i>environment</i>, indicated by the <code>type</code> attribute having the value <code>environment</code>.
</p>
    <p>I believe this creates a family of related commands around the environment:
</p>
    <ul>
     <li>
      \start
      <i>
       stem
      </i>
     </li>
     <li>
      \stop
      <i>
       stem
      </i>
     </li>
     <li>
      \setup
      <i>
       stem
      </i>
     </li>
    </ul>
    <p>...and possibly others.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> the existence of \setup<i>stem</i> is not a given, but yes there could be others as well. Many of these commands are created by some code that is embedded in the <code>\defineXXX</code> generated by <code>\installcommandhandler</code>, but environments can also be created 'manually' by a pair of <code>\def</code> commands, like for example the <code>\startluacode</code> environment.
<p>The only guaranteed defined commands for any <i>environment</i> is the pair of start/stop commands 
</p>
</td>
      </tr>
     </tbody>
    </table>
    <p>An environment does not necessarily create the command:
</p>
    <ul>
     <li>
      \
      <i>
       stem
      </i>
     </li>
    </ul>
    <p>...but I'm not sure if it never does.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> Hans is quite meticulous in creating these standalones even in the manual generation cases if it makes sense to have that standalone command, but some them are missing for sure, e.g. <code>\buffer</code>
</td>
      </tr>
     </tbody>
    </table>
    <h2>
     <span class="mw-headline" id="Results">
      Results
     </span>
    </h2>
    <p>If we want to use the interface file to build a complete command set, the procedure is:
</p>
    <ol>
     <li>
      Does the stanza describe a class?
      <ul>
       <li>
        Is the
        <code>variant="instance"</code>
        attribute extant (with the value
        <code>instance</code>
        )?
       </li>
       <li>
        Does the stanza have a
        <code>cd:instances</code>
        element, with non-zero children?
       </li>
      </ul>
     </li>
     <li>
      Does the stanza describe a pair?
      <ul>
       <li>
        Is either or both of the
        <code>begin=</code>
        or
        <code>end=</code>
        attributes extant? (Hopefully both!)
       </li>
      </ul>
     </li>
    </ol>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> should be both or neither, I assume. But whether it is an environment is decided by type=environment
</td>
      </tr>
     </tbody>
    </table>
    <ol>
     <li>
      Does the stanza describe a command?
      <ul>
       <li>
        Does the stanza not describe a class?
       </li>
       <li>
        Does the stanza not describe a pair?
       </li>
       <li>
        Does the stanza not have a
        <code>variant</code>
        attribute?
       </li>
      </ul>
     </li>
    </ol>
    <p>Orthogonal to this, a stanza may describe an environment, if the <code>type="environment"</code> attribute is extant (with the value <code>environment</code>). This implied further automatically generated commands based ont he command stem, but interactions with commands, pairs, and classes is unclear.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> <code>begin</code> and <code>end</code> are nothing but overrides for the implied values <code>start</code> and <code>stop</code>
</td>
      </tr>
     </tbody>
    </table>
    <h2>
     <span class="mw-headline" id="Things_to_Ponder">
      Things to Ponder
     </span>
    </h2>
    <h3>
     <span id="What_does_an_environment_imply_for_command_generation?">
     </span>
     <span class="mw-headline" id="What_does_an_environment_imply_for_command_generation.3F">
      What does an environment imply for command generation?
     </span>
    </h3>
    <p>What commands are available as a result of an environment?
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> only the <code>\start</code> and <code>\stop</code> are guaranteed (but perhaps with different prefixes cf <code>begin</code> and <code>end</code> attributes.)
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span id="What_does_a_class_imply_for_command_generation?">
     </span>
     <span class="mw-headline" id="What_does_a_class_imply_for_command_generation.3F">
      What does a class imply for command generation?
     </span>
    </h3>
    <p>Does a class generate just the commands described by the children of the <code>cd:instances</code> element?
</p>
    <p>(Experience with <code>\bar</code> implies yes: the literal command <code>\bar</code> relates to mathematics, while the instances of the <code>\bar</code> class are a series of prefix + stem command names.)
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> yes, I firmly believe you are right
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span id="Expanding_the_Element_Vocabulary?">
     </span>
     <span class="mw-headline" id="Expanding_the_Element_Vocabulary.3F">
      Expanding the Element Vocabulary?
     </span>
    </h3>
    <p>Given that the stanzas are describing different things, it may be worth the effort to expand the element vocabulary for the stanzas.
</p>
    <p>Instead of just
</p>
    <ul>
     <li>
      <code>command</code>
     </li>
    </ul>
    <p>....elements, it may make sense to describe stanzas with the following elements:
</p>
    <ul>
     <li>
      <code>command</code>
     </li>
     <li>
      <code>class</code>
     </li>
    </ul>
    <p>...and possibly:
</p>
    <ul>
     <li>
      <code>example</code>
     </li>
    </ul>
    <p>A further disambiguation that might be useful is the addition of:
</p>
    <ul>
     <li>
      <code>pair</code>
     </li>
    </ul>
    <p>...elements, to explicitly mark elements that generate commands with prefixes and stems.
</p>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> I have missed something somewhere, because this remark is unclear to me.
</td>
      </tr>
     </tbody>
    </table>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b> This may or may not be what you're asking:
<p>Instead of having every stanza be represented by a &lt;cd:command&gt; element, instead do (taking your notes into consideration):
</p><p>&lt;cd:command&gt;
(Describes a command)
&lt;/cd:command&gt;
</p><p>&lt;cd:class&gt;
(describes a class)
&lt;/cd:class&gt;
</p><p>&lt;cd:environment&gt;
(describes an environment, with or without overrides)
&lt;/cd:environment&gt;
</p><p>...?
</p><p>This way, the thing being described by the stanza is explicit...
</p>
</td>
      </tr>
     </tbody>
    </table>
    <dl>
     <dd>
      <dl>
       <dd>
        <dl>
         <dd>
          <dl>
           <dd>
            Right, I see. I certainly would not mind, but it will depend on Wolfgang (who is the actual maintainer) and Hans (who is using the xml files for various distribution-related things
            <a href="User:Taco.html" title="User:Taco">
             Taco
            </a>
            (
            <a href="User_talk:Taco.html" title="User talk:Taco">
             talk
            </a>
            ) 16:15, 30 June 2020 (CEST)
           </dd>
          </dl>
         </dd>
        </dl>
       </dd>
      </dl>
     </dd>
    </dl>
    <h2>
     <span class="mw-headline" id="Apendicies">
      Apendicies
     </span>
    </h2>
    <h3>
     <span id='Attributes_that_are_Likely_Misspellings_of_"category"'>
     </span>
     <span class="mw-headline" id="Attributes_that_are_Likely_Misspellings_of_.22category.22">
      <span id="misspelled_category">
      </span>
      Attributes that are Likely Misspellings of "category"
     </span>
    </h3>
    <dl>
     <dt>
      catehory
     </dt>
     <dd>
      Line 861 - &lt;cd:command catehory="pdf" file="back-ini.mkiv" level="style" name="setupbackend"&gt;
     </dd>
     <dd>
      Line 3361 - &lt;cd:command catehory="pdf" file="scrn-but.mkvi" level="style" name="definebutton"&gt;
     </dd>
     <dd>
      Line 3374 - &lt;cd:command catehory="pdf" file="scrn-but.mkvi" level="style" name="setupbutton"&gt;
     </dd>
     <dd>
      Line 3409 - &lt;cd:command catehory="pdf" file="scrn-but.mkvi" generated="yes" level="document" name="button" variant="example"&gt;
     </dd>
     <dd>
      Line 3428 - &lt;cd:command catehory="pdf" file="scrn-but.mkvi" level="document" name="button"&gt;
     </dd>
     <dd>
      Line 3441 - &lt;cd:command catehory="pdf" file="scrn-but.mkvi" level="style" name="overlaybutton"&gt;
     </dd>
     <dd>
      Line 3448 - &lt;cd:command catehory="pdf" file="scrn-but.mkvi" level="style" name="overlaybutton" variant="direct"&gt;
     </dd>
     <dd>
      Line 3455 - &lt;cd:command catehory="pdf" file="scrn-but.mkvi" level="style" name="MPmenubuttons"&gt;
     </dd>
     <dd>
      Line 3462 - &lt;cd:command catehory="pdf" file="scrn-fld.mkvi" level="style" name="overlayrollbutton"&gt;
     </dd>
     <dd>
      Line 3472 - &lt;cd:command catehory="pdf" file="scrn-fld.mkvi" level="style" name="definepushbutton"&gt;
     </dd>
     <dd>
      Line 3482 - &lt;cd:command catehory="pdf" file="scrn-fld.mkvi" level="style" name="pushbutton"&gt;
     </dd>
     <dd>
      Line 3492 - &lt;cd:command catehory="pdf" file="scrn-fld.mkvi" level="style" name="definepushsymbol"&gt;
     </dd>
     <dd>
      Line 3504 - &lt;cd:command catehory="pdf" file="scrn-fld.mkvi" level="style" name="rollbutton" variant="interactionmenu"&gt;
     </dd>
     <dd>
      Line 3520 - &lt;cd:command catehory="pdf" file="scrn-fld.mkvi" level="style" name="rollbutton" variant="button"&gt;
     </dd>
     <dt>
      catgeory
     </dt>
     <dd>
      Line 19207 - &lt;cd:command catgeory="fonts whitespace" file="typo-pnc.mkic" level="style" name="defineperiodkerning"&gt;
     </dd>
     <dd>
      Line 19220 - &lt;cd:command catgeory="fonts whitespace" file="typo-pnc.mkic" level="style" name="setupperiodkerning"&gt;
     </dd>
     <dd>
      Line 19232 - &lt;cd:command catgeory="fonts whitespace" file="typo-pnc.mkic" level="style" name="setperiodkerning"&gt;
     </dd>
     <dd>
      Line 19240 - &lt;cd:command catgeory="fonts whitespace" file="typo-pnc.mkic" level="style" name="resetperiodkerning"/&gt;
     </dd>
    </dl>
    <h3>
     <span id='Attributes_that_are_Likely_Misspellings_of_"default"'>
     </span>
     <span class="mw-headline" id="Attributes_that_are_Likely_Misspellings_of_.22default.22">
      <span id="misspelled_default">
      </span>
      Attributes that are Likely Misspellings of "default"
     </span>
    </h3>
    <p>Line 38818: &lt;cd:constant defult="yes" type="stop"/&gt;
</p>
    <h3>
     <span id='Missing_"file"_attribute'>
     </span>
     <span class="mw-headline" id="Missing_.22file.22_attribute">
      Missing "file" attribute
     </span>
    </h3>
    <dl>
     <dd>
      Line 14799 - &lt;cd:command category="background rules" level="system" name="doifelseframed"&gt;
     </dd>
    </dl>
    <h3>
     <span id='Missing_"level"_attribute'>
     </span>
     <span class="mw-headline" id="Missing_.22level.22_attribute">
      Missing "level" attribute
     </span>
    </h3>
    <dl>
     <dd>
      Line 934  - &lt;cd:command file="back-ini.mkxl" name="setupoutput"&gt;
     </dd>
     <dd>
      Line 27165 - &lt;cd:command category="structure notes" file="strc-not.mkvi" name="postponingnotes" type="environment"/&gt;
     </dd>
     <dd>
      Line 37044 - &lt;cd:command category="language" file="scrp-ini.mkvi" name="script" type="environment"&gt;
     </dd>
    </dl>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-15
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/pm39_interface_analysis">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
