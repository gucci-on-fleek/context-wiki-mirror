<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="style.css" rel="stylesheet">
  <link href="favicon.ico" rel="icon" sizes="32x32">
  <title>
   Chemistry&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Chemistry" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Chemistry
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=836&diff=42545">2025-11-16</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p>ConTeXt always came with extensive chemistry support including drawing of chemical structures and the typesetting of reactions. In MkII this was called PPCHTeX, which works also with plain TeX and LaTeX.
</p>
    <ul class="filter-sections">
     <li class="Chemistry">
      <a href="http://www.pragma-ade.nl/general/manuals/ppchtex-mkiv.pdf" rel="nofollow">
       <img alt="ppchtex-mkiv.jpg" decoding="async" height="142" src="images/thumb/9/9b/ppchtex-mkiv.webp" width="100">
      </a>
      <div style="padding-left:.5em; text-align:left;">
       <a class="external text" href="http://www.pragma-ade.nl/general/manuals/ppchtex-mkiv.pdf" rel="nofollow">
        PPCHTeX - typesetting chemistry in ConTeXt LMTX (2025)
       </a>
      </div>
     </li>
     <li class="Chemistry">
      <a href="http://www.pragma-ade.nl/general/manuals/mp-ch-en.pdf" rel="nofollow">
       <img alt="mp-ch-en.jpg" decoding="async" height="142" src="images/thumb/6/66/mp-ch-en.webp" width="100">
      </a>
      <div style="padding-left:.5em; text-align:left;">
       <a class="external text" href="http://www.pragma-ade.nl/general/manuals/mp-ch-en.pdf" rel="nofollow">
        PPCHTeX - macros for typesetting chemical structures (2001)
       </a>
      </div>
     </li>
     <li class="Chemistry">
      <a href="http://www.pragma-ade.nl/general/manuals/eppchtex.pdf" rel="nofollow">
       <img alt="eppchtex.jpg" decoding="async" height="75" src="images/thumb/6/66/eppchtex.webp" width="100">
      </a>
      <div style="padding-left:.5em; text-align:left;">
       <a class="external text" href="http://www.pragma-ade.nl/general/manuals/eppchtex.pdf" rel="nofollow">
        PPCHTeX example - Chemical Formulas in ConTeXt (2001)
       </a>
      </div>
     </li>
     <li class="Chemistry">
      <a href="http://www.pragma-ade.nl/general/manuals/xchemml-s.pdf" rel="nofollow">
       <img alt="xchemml-s.jpg" decoding="async" height="75" src="images/thumb/d/d1/xchemml-s.webp" width="100">
      </a>
      <div style="padding-left:.5em; text-align:left;">
       <a class="external text" href="http://www.pragma-ade.nl/general/manuals/xchemml-s.pdf" rel="nofollow">
        ChemML &ndash; ConTeXt XML (2001)
       </a>
      </div>
     </li>
    </ul>
    <p>Some other links about chemistry in ConTeXt:
</p>
    <ul>
     <li>
      <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/mkiv-publications.pdf" title="manual:mkiv-publications.pdf">
       publications
      </a>
      manual &ndash; use the bibliography database for chemicals
     </li>
     <li>
      <a href="Graphics_and_media/Collections_of_tips_and_tricks/Chromatograms_with_MetaPost.html" title="Graphics and media/Collections of tips and tricks/Chromatograms with MetaPost">
       Chromatograms with MetaPost
      </a>
     </li>
     <li>
      <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/xchemml-p.pdf" title="manual:xchemml-p.pdf">
       ChemML
      </a>
      (
      <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/xchemml-s.pdf" title="manual:xchemml-s.pdf">
       screen
      </a>
      ),
      <a href="MathML.html" title="MathML">
       MathML
      </a>
      extension for chemistry.
     </li>
    </ul>
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Using_.5Cchemical">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Using \chemical
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Chemical_structures">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Chemical structures
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-3">
       <a href="#Simple_Formulae_in_Text_Mode">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Simple Formulae in Text Mode
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-4">
       <a href="#Old_Links">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Old Links
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Using_\chemical">
     </span>
     <span class="mw-headline" id="Using_.5Cchemical">
      Using
      <tt>
       <a class="new" href="index.php?title=Command/chemical&action=edit&redlink=1.html" title="Command/chemical (page does not exist)">
        \chemical
       </a>
      </tt>
     </span>
    </h2>
    <p>This is the built-in version of the previous <code>chemic</code> module.
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"> 
<span class="cs"><span class="documentcs">\chemical</span></span><span class="br">{</span>HSO_4^<span class="br">{</span>-<span class="br">}</span><span class="br">}</span>
</pre>
     </li>
     <li class="rendering">
      <img height="22" src="wikiteximage/c2f49c2de85eb85ac05ae1a11c64b100.webp" width="45">
     </li>
    </ul>
    <p>You can also typeset chemical <i>reactions</i>:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"> 
<span class="cs"><span class="documentcs">\startformula</span></span>
 <span class="cs"><span class="documentcs">\chemical</span></span><span class="br">{</span>2H_2,+,O_2,-&gt;,2H_2O<span class="br">}</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="39" src="wikiteximage/ee1d850e2b2b0baaec844ac9d460f93e.webp" width="152">
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Chemical_structures">
      Chemical structures
     </span>
    </h2>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"> 
<span class="cs"><span class="documentcs">\startchemical</span></span>
  <span class="brx">[</span>scale<span class="brx">=</span>medium,
   width<span class="brx">=</span>fit,
   top<span class="brx">=</span>3000,
   bottom<span class="brx">=</span>3000<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span>
  <span class="brx">[</span>SIX,SB2356,DB14,Z2346,SR3,RZ3,SR6,-RZ6,+RZ6<span class="brx">]</span>
  <span class="brx">[</span>C,N,C,C,H,H<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span>
  <span class="brx">[</span>PB:Z1,ONE,Z0,MOV8,Z0,SB24,DB7,Z27,PE<span class="brx">]</span>
  <span class="brx">[</span>C,C,CH_3,O<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span>
  <span class="brx">[</span>PB:Z5,ONE,Z0,MOV6,Z0,SB24,DB7,Z47,PE<span class="brx">]</span>
  <span class="brx">[</span>C,C,H_3C,O<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span>
  <span class="brx">[</span>SR24,RZ24<span class="brx">]</span>
  <span class="brx">[</span>CH_3,H_3C<span class="brx">]</span>
<span class="cs">\bottext</span><span class="br">{</span>Compound A<span class="br">}</span>
<span class="cs"><span class="documentcs">\stopchemical</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="227" src="wikiteximage/7eed1afd7a063ab56494d6b3c99ae163.webp" width="209">
     </li>
    </ul>
    <p><br>
(The &ldquo;good&rdquo; images are old; the broken ones are the result of the current code.)
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"> 
<span class="cs"><span class="documentcs">\startchemical</span></span>
  <span class="brx">[</span>scale<span class="brx">=</span>medium,
   width<span class="brx">=</span>fit,
   top<span class="brx">=</span>3000,
   bottom<span class="brx">=</span>3000<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span>
  <span class="brx">[</span>FIVE,FRONT,BB125,+SB3,-SB4,Z4<span class="brx">]</span>
  <span class="brx">[</span>O<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span>
  <span class="brx">[</span>FIVE,FRONT,+R1235,+RZ1235<span class="brx">]</span>
  <span class="brx">[</span>H,H,<span class="cs">\SR</span><span class="br">{</span>HOH_2C<span class="br">}</span>,OH<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span>
  <span class="brx">[</span>FIVE,FRONT,-R1235,-RZ1235<span class="brx">]</span>
  <span class="brx">[</span>H,OH,H,H<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stopchemical</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="227" src="wikiteximage/9e81a6cb32d7ca8756dd3b594875c101.webp" width="117">
     </li>
    </ul>
    <p><a class="image" href="File:Chemistry_example1.png"><img alt="Chemistry example1.png" decoding="async" height="166" src="images/6/61/Chemistry_example1.webp" width="166"></a>
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"> 
<span class="cs"><span class="stylecs">\setupchemical</span></span><span class="brx">[</span>width<span class="brx">=</span>fit<span class="brx">]</span>

<span class="cs"><span class="documentcs">\startchemical</span></span>
        <span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>SIX,B,C,MOV2,B,C,R234,RZ234,MOV5,MOV6,B,C,R561,RZ561<span class="brx">]</span>
        <span class="brx">[</span>R,R,R,R,R,R<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stopchemical</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="216" src="wikiteximage/6924d94f9d9b6467c03bb86d5c31a696.webp" width="167">
     </li>
    </ul>
    <p><a class="image" href="File:Chemistry_example2.png"><img alt="Chemistry example2.png" decoding="async" height="287" src="images/8/83/Chemistry_example2.webp" width="139"></a>
</p>
    <p>To draw this structure horizontally:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"> 
<span class="cs"><span class="stylecs">\setupchemical</span></span><span class="brx">[</span>width<span class="brx">=</span>fit<span class="brx">]</span>

<span class="cs">\def</span><span class="cs">\RotR</span><span class="br">{</span><span class="cs"><span class="documentcs">\rotate</span></span><span class="brx">[</span>rotation<span class="brx">=</span>270<span class="brx">]</span><span class="br">{</span><span class="cs">\ix</span> R<span class="br">}</span><span class="br">}</span>

<span class="cs"><span class="documentcs">\rotate</span></span><span class="brx">[</span>rotation<span class="brx">=</span>90<span class="brx">]</span><span class="br">{</span>
<span class="cs"><span class="documentcs">\startchemical</span></span>
        <span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>SIX,B,C,MOV2,B,C,R234,RZ234,MOV5,MOV6,B,C,R561,RZ561<span class="brx">]</span>
        <span class="brx">[</span><span class="cs">\RotR</span>,<span class="cs">\RotR</span>,<span class="cs">\RotR</span>,<span class="cs">\RotR</span>,<span class="cs">\RotR</span>,<span class="cs">\RotR</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\stopchemical</span></span>
<span class="br">}</span>
</pre>
     </li>
     <li class="rendering">
      <img height="13" src="wikiteximage/396a07c915d38b4f9be111aa0a9edf55.webp" width="55">
     </li>
    </ul>
    <p><a class="image" href="File:Chemistry_example3.png"><img alt="Chemistry example3.png" decoding="async" height="143" src="images/e/ea/Chemistry_example3.webp" width="287"></a>
</p>
    <p>An example of an amino acid: Histidine (Ace-His-Nme).
The rest of the amino acids are shown in <a class="external text" href="http://tt4sci.wordpress.com/2009/08/05/drawing-organic-molecules-in-latex-ii-amino-acids/" rel="nofollow">TT4Sci</a>
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"> 
<span class="cs"><span class="stylecs">\definechemical</span></span><span class="brx">[</span>radical<span class="brx">]</span>
<span class="br">{</span><span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>SAVE,ONE,SB768,Z068<span class="brx">]</span><span class="brx">[</span>C,H,H<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>MOV7,ONE,Z0<span class="brx">]</span><span class="brx">[</span>C<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>MOV7,FIVE,ROT4,SB12345,EB42,Z1235,SR125,RZ125,RESTORE<span class="brx">]</span><span class="brx">[</span>N,C,N,C,H,H,H<span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\startchemical</span></span>
<span class="brx">[</span>scale<span class="brx">=</span>big,size<span class="brx">=</span>big,left<span class="brx">=</span>2600,right<span class="brx">=</span>4200,bottom<span class="brx">=</span>2800,top<span class="brx">=</span>4500<span class="brx">]</span>
<span class="cs">\bottext</span><span class="br">{</span>Histidine<span class="br">}</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>SIX,SB23<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>PB:Z1,SAVE,radical,RESTORE,PE<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>PB:Z2,ONE,SB37,Z03,PE<span class="brx">]</span><span class="brx">[</span><span class="cs">\SL</span><span class="br">{</span>C^<span class="br">{</span><span class="cs">\alpha</span><span class="br">}</span><span class="br">}</span>,H^<span class="br">{</span><span class="cs">\alpha</span> 1<span class="br">}</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>PB:Z3,SIX,Z5,SB4,Z4,PE<span class="brx">]</span><span class="brx">[</span>N,H<span class="brx">]</span>
<span class="br">{</span><span class="cs"><span class="documentcs">\color</span></span><span class="br">{</span>blue<span class="br">}</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>PB:Z4,SIX,Z2,SB2,DB1,Z31,PE<span class="brx">]</span><span class="brx">[</span>C<span class="br">{</span><span class="cs">\text</span><span class="br">{</span><span class="cs">\tiny</span><span class="br">{</span>-1<span class="br">}</span><span class="br">}</span><span class="br">}</span>,<span class="cs">\SR</span><span class="br">{</span>H_3C<span class="br">}</span>,O<span class="br">{</span><span class="cs">\text</span><span class="br">{</span><span class="cs">\tiny</span><span class="br">{</span>-1<span class="br">}</span><span class="br">}</span><span class="br">}</span><span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>SIX,MOV1,SB23<span class="brx">]</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>PB:Z3,SIX,Z5,DB4,Z4,PE<span class="brx">]</span><span class="brx">[</span>C,O<span class="brx">]</span>
<span class="br">{</span><span class="cs"><span class="documentcs">\color</span></span><span class="br">{</span>red<span class="br">}</span>
<span class="cs"><span class="documentcs">\chemical</span></span><span class="brx">[</span>PB:Z2,SIX,Z4,SB34,Z53,PE<span class="brx">]</span><span class="brx">[</span>N<span class="br">{</span><span class="cs">\text</span><span class="br">{</span><span class="cs">\tiny</span><span class="br">{</span>+1<span class="br">}</span><span class="br">}</span><span class="br">}</span>,H<span class="br">{</span><span class="cs">\text</span><span class="br">{</span><span class="cs">\tiny</span><span class="br">{</span>+1<span class="br">}</span><span class="br">}</span><span class="br">}</span>,<span class="cs">\SL</span><span class="br">{</span>CH_3<span class="br">}</span><span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\stopchemical</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="13" src="wikiteximage/76e3ae6952f3a4c417db2803b0f272e7.webp" width="55">
     </li>
    </ul>
    <p><a class="image" href="File:Histidine.png"><img alt="Histidine.png" decoding="async" height="274" src="images/b/bf/Histidine.webp" width="259"></a>
</p>
    <h2>
     <span class="mw-headline" id="Simple_Formulae_in_Text_Mode">
      Simple Formulae in Text Mode
     </span>
    </h2>
    <p>An alternative to using the chemistry module or mathmode for typesetting simple formulae are the ConTeXt commands <tt><a href="Command/high.html" title="Command/high">\high</a></tt>, <tt><a href="Command/low.html" title="Command/low">\low</a></tt>, <tt><a href="Command/lohi.html" title="Command/lohi">\lohi</a></tt>, and <tt><a href="Command/himilo.html" title="Command/himilo">\himilo</a></tt>. This might be useful if you want to typset the formula with the same font as the surrounding text (in titles or slanted fonts, although that might not be desired in all situations).
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"> 
<span class="cs">\ss</span> H<span class="cs"><span class="documentcs">\low</span></span><span class="br">{</span>2<span class="br">}</span>O also consists of H<span class="cs"><span class="documentcs">\high</span></span><span class="br">{</span>+<span class="br">}</span> and OH<span class="cs"><span class="documentcs">\high</span></span><span class="br">{</span>--<span class="br">}</span>.<span class="cs"><span class="documentcs">\crlf</span></span>
There are two main carbon isotopes: <span class="cs"><span class="documentcs">\lohi</span></span><span class="br">{</span>6<span class="br">}</span><span class="br">{</span>12<span class="br">}</span>C and <span class="cs"><span class="documentcs">\lohi</span></span><span class="brx">[</span>left<span class="brx">]</span><span class="br">{</span>6<span class="br">}</span><span class="br">{</span>13<span class="br">}</span>C.
</pre>
     </li>
     <li class="rendering">
      <img height="42" src="wikiteximage/62edd6429fa81987e635bd26c4f491f1.webp" width="351">
     </li>
    </ul>
    <p>Taco&rsquo;s macros implement this approach <a class="external autonumber" href="http://archive.contextgarden.net/thread/20060702.084423.a201a280.en.html" rel="nofollow">[1]</a>:
</p>
    <p><b>This is broken code from 2006!</b>
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"> 
<span class="cs">\newbox</span><span class="cs">\chemlowbox</span>
<span class="cs">\def</span><span class="cs">\chemlow</span><span class="brx">#</span>1<span class="comment">%</span>
  <span class="br">{</span><span class="cs">\setbox</span><span class="cs">\chemlowbox</span><span class="cs">\hbox</span><span class="br">{</span><span class="br">{</span><span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>small<span class="brx">]</span><span class="brx">#</span>1<span class="br">}</span><span class="br">}</span><span class="br">}</span>

<span class="cs">\def</span><span class="cs">\chemhigh</span><span class="brx">#</span>1<span class="comment">%</span>
  <span class="br">{</span><span class="cs">\ifvoid</span><span class="cs">\chemlowbox</span> <span class="cs"><span class="documentcs">\high</span></span><span class="br">{</span><span class="br">{</span><span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>small<span class="brx">]</span><span class="brx">#</span>1<span class="br">}</span><span class="br">}</span><span class="comment">%</span>
   <span class="cs">\else</span> \/<span class="cs"><span class="documentcs">\lohi</span></span><span class="br">{</span><span class="cs">\box</span><span class="cs">\chemlowbox</span><span class="br">}</span><span class="br">{</span><span class="br">{</span><span class="cs"><span class="stylecs">\switchtobodyfont</span></span><span class="brx">[</span>small<span class="brx">]</span><span class="brx">#</span>1<span class="br">}</span><span class="br">}</span><span class="cs">\fi</span> <span class="br">}</span>

<span class="cs">\def</span><span class="cs">\finishchem</span><span class="comment">%</span>
   <span class="br">{</span><span class="cs">\ifvoid</span><span class="cs">\chemlowbox</span> <span class="cs">\else</span>
     <span class="cs">\iffluor</span> <span class="cs">\fluorfalse</span> <span class="cs">\kern</span>-.1em <span class="cs">\fi</span><span class="cs"><span class="documentcs">\low</span></span><span class="br">{</span><span class="cs">\box</span><span class="cs">\chemlowbox</span><span class="br">}</span><span class="cs">\fi</span><span class="br">}</span>

<span class="comment">% for "kerning" after F</span>
<span class="cs">\newif</span><span class="cs">\iffluor</span>

<span class="cs">\unexpanded</span><span class="cs">\def</span><span class="cs"><span class="documentcs">\molecule</span></span><span class="comment">%</span>
  <span class="br">{</span><span class="cs">\bgroup</span>
   <span class="cs">\catcode</span>`<span class="cs">\_</span><span class="brx">=</span><span class="cs">\active</span> <span class="cs">\uccode</span>`\~<span class="brx">=</span>`<span class="cs">\_</span> <span class="cs">\uppercase</span><span class="br">{</span><span class="cs">\let</span>~<span class="cs">\chemlow</span><span class="br">}</span><span class="comment">%</span>
   <span class="cs">\catcode</span>`\^<span class="brx">=</span><span class="cs">\active</span> <span class="cs">\uccode</span>`\~<span class="brx">=</span>`\^ <span class="cs">\uppercase</span><span class="br">{</span><span class="cs">\let</span>~<span class="cs">\chemhigh</span><span class="br">}</span><span class="comment">%</span>
   <span class="cs"><span class="systemcs">\dostepwiserecurse</span></span> <span class="br">{</span>65<span class="br">}</span><span class="br">{</span>90<span class="br">}</span><span class="br">{</span>1<span class="br">}</span>
      <span class="br">{</span><span class="cs">\catcode</span> <span class="cs"><span class="systemcs">\recurselevel</span></span> <span class="brx">=</span> <span class="cs">\active</span>
       <span class="cs">\uccode</span>`\~<span class="brx">=</span><span class="cs"><span class="systemcs">\recurselevel</span></span>
       <span class="cs">\uppercase</span><span class="br">{</span><span class="cs">\edef</span>~<span class="br">{</span><span class="cs">\noexpand</span><span class="cs">\finishchem</span>
                         <span class="cs">\rawcharacter</span><span class="br">{</span><span class="cs"><span class="systemcs">\recurselevel</span></span><span class="br">}</span><span class="br">}</span><span class="br">}</span><span class="br">}</span><span class="comment">%</span>
   <span class="cs">\uccode</span> `\~<span class="brx">=</span>`<span class="cs">\F</span> <span class="cs">\uppercase</span><span class="br">{</span><span class="cs">\def</span>~<span class="br">{</span><span class="cs">\finishchem</span> F<span class="cs">\fluortrue</span><span class="br">}</span><span class="br">}</span><span class="comment">%</span>
   <span class="cs">\catcode</span>`\-<span class="brx">=</span><span class="cs">\active</span> <span class="cs">\uccode</span>`\~<span class="brx">=</span>`\- <span class="cs">\uppercase</span><span class="br">{</span><span class="cs">\def</span>~<span class="br">{</span>--<span class="br">}</span><span class="br">}</span><span class="comment">%</span>
   <span class="cs">\loggingall</span>
   <span class="cs">\domolecule</span> <span class="br">}</span><span class="comment">%</span>

<span class="cs">\def</span><span class="cs">\domolecule</span><span class="brx">#</span>1<span class="comment">%</span>
  <span class="br">{</span><span class="cs">\expandafter</span><span class="cs">\scantokens</span><span class="cs">\expandafter</span>
        <span class="br">{</span><span class="cs">\detokenize</span><span class="br">{</span><span class="brx">#</span>1<span class="cs">\finishchem</span><span class="br">}</span><span class="br">}</span><span class="cs">\egroup</span><span class="br">}</span>

<span class="cs">\bs</span> Bold slanted molecules: <span class="cs"><span class="documentcs">\molecule</span></span><span class="br">{</span>HSO_4^-<span class="br">}</span> and <span class="cs"><span class="documentcs">\molecule</span></span><span class="br">{</span>SF_6<span class="br">}</span>
</pre>
     </li>
     <li class="rendering">
      <img height="13" src="wikiteximage/045603a61247f2d7aeeb907d533ee727.webp" width="55">
     </li>
    </ul>
    <p>The main difference with the built-in chemistry is that the <code>\molecule</code> from this example uses the same font as the one in surrounding text, while the official module always uses the (mostly roman) math font (which is probably the proper way if you&rsquo;re writing dozens of formulas).
</p>
    <p>Alternatively you can setup the <code>style</code> parameter used for chemical formulas manually:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupchemical</span></span><span class="brx">[</span>style<span class="brx">=</span><span class="cs">\bs</span><span class="brx">]</span>
</pre>
    <h2>
     <span class="mw-headline" id="Old_Links">
      Old Links
     </span>
    </h2>
    <ul>
     <li>
      <a class="external text" href="http://www.mit.edu/afs/athena/contrib/tex-contrib/Chem2/ppchtex/doc/fh-ch-en.htm" rel="nofollow">
       PPCHTeX FAQ
      </a>
      (1997)
     </li>
     <li>
      <a class="external text" href="http://www.tug.org/TUGboat/Articles/tb17-1/tb50hage.pdf" rel="nofollow">
       TUG Boat article on PPCHTeX
      </a>
      by Hans Hagen and A.F. Otten 1996
     </li>
     <li>
      <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/xchemml-s.pdf" title="manual:xchemml-s.pdf">
       ChemML (MathML extension for chemistry)
      </a>
      by Pragma
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-16
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Chemistry">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
