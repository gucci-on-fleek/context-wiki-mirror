<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Tables/Extreme tables with xtable&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Tables/Extreme_tables_with_xtable" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Tables/Extreme tables with xtable
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=4919&diff=39932">2025-01-12</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h3>
       Contents
      </h3>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Extreme_Tables">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Extreme Tables
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#List_of_commands">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         List of commands
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-3">
       <a href="#Simple_sample">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Simple sample
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-4">
       <a href="#XML">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         XML
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-5">
       <a href="#Ye_olde_syntax">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         Ye olde syntax
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Extreme_Tables">
      Extreme Tables
     </span>
    </h2>
    <p><a class="extiw" href="http://source.contextgarden.net/tabl-xtb.lua" title="source:tabl-xtb.lua">tabl-xtb.lua</a>
</p>
    <p>This is just an excerpt from the <a class="external text" href="http://www.pragma-ade.nl/general/manuals/xtables-mkiv.pdf" rel="nofollow">xtables manual</a>.
</p>
    <p>&ldquo;Extreme Tables&rdquo; (xtable) are a variant of the &ldquo;natural tables&rdquo; (<a href="Natural_tables_with_TABLE.html" title="Tables/Natural tables with TABLE">Natural tables with TABLE</a>). They are suited for tables that span several pages. The used two-pass mechanism isn&rsquo;t simple, but fast. It works only in ConTeXt MkIV, because it&rsquo;s Lua-based.
</p>
    <h2>
     <span class="mw-headline" id="List_of_commands">
      List of commands
     </span>
    </h2>
    <ul>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/definextable&action=edit&redlink=1.html" title="Command/definextable (page does not exist)">
        \definextable
       </a>
       [name][parent]]
      </tt>
     </li>
     <li>
      <tt>
       <a href="../Command/setupxtable.html" title="Command/setupxtable">
        \setupxtable
       </a>
       [settings]
      </tt>
      or
      <tt>
       <a href="../Command/setupxtable.html" title="Command/setupxtable">
        \setupxtable
       </a>
       [defined name][settings]
      </tt>
     </li>
     <li>
      <tt>
       <a href="../Command/startxtable.html" title="Command/startxtable">
        \startxtable
       </a>
      </tt>
      (with defined name or settings)
     </li>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/startxtablehead&action=edit&redlink=1.html" title="Command/startxtablehead (page does not exist)">
        \startxtablehead
       </a>
      </tt>
     </li>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/startxrowgroup&action=edit&redlink=1.html" title="Command/startxrowgroup (page does not exist)">
        \startxrowgroup
       </a>
      </tt>
     </li>
     <li>
      <tt>
       <a href="../Command/startxrow.html" title="Command/startxrow">
        \startxrow
       </a>
      </tt>
     </li>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/startxcellgroup&action=edit&redlink=1.html" title="Command/startxcellgroup (page does not exist)">
        \startxcellgroup
       </a>
      </tt>
     </li>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/startxcell&action=edit&redlink=1.html" title="Command/startxcell (page does not exist)">
        \startxcell
       </a>
      </tt>
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Simple_sample">
      Simple sample
     </span>
    </h2>
    <pre class="tex"><span class="cs"><span class="documentcs">\startxtable</span></span>
  <span class="cs"><span class="documentcs">\startxrow</span></span>
    <span class="cs"><span class="documentcs">\startxcell</span></span> one <span class="cs"><span class="documentcs">\stopxcell</span></span>
    <span class="cs"><span class="documentcs">\startxcell</span></span> two <span class="cs"><span class="documentcs">\stopxcell</span></span>
  <span class="cs"><span class="documentcs">\stopxrow</span></span>
  <span class="cs"><span class="documentcs">\startxrow</span></span>
    <span class="cs"><span class="documentcs">\startxcell</span></span> alpha <span class="cs"><span class="documentcs">\stopxcell</span></span>
    <span class="cs"><span class="documentcs">\startxcell</span></span> beta  <span class="cs"><span class="documentcs">\stopxcell</span></span>
  <span class="cs"><span class="documentcs">\stopxrow</span></span>
<span class="cs"><span class="documentcs">\stopxtable</span></span>
</pre>
    <p>Since xtables are a bunch of nested <tt><a href="../Command/framed.html" title="Command/framed">\framed</a></tt>s, you can style each unit with the known parameters.
</p>
    <p>xtables can be nested. Sub-tables inherit the properties of their enclosing cell.
</p>
    <h2>
     <span class="mw-headline" id="XML">
      XML
     </span>
    </h2>
    <p>The following example demonstrates that we can use this mechanism in xml too. The example was provided by Thomas Schmitz. First we show how a table looks like in xml:
</p>
    <pre class="xml"><span class="br">&lt;</span><span class="name">table</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">tablerow</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">tablecell</span><span class="br">&gt;</span>
        One
      <span class="br">&lt;</span><span class="name">/tablecell</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">tablecell</span><span class="br">&gt;</span>
        Two
      <span class="br">&lt;</span><span class="name">/tablecell</span><span class="br">&gt;</span>
  <span class="br">&lt;</span><span class="name">/tablerow</span><span class="br">&gt;</span>
  <span class="br">&lt;</span><span class="name">tablerow</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">tablecell</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">b</span><span class="br">&gt;</span>Three<span class="br">&lt;</span><span class="name">/b</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">/tablecell</span><span class="br">&gt;</span>
    <span class="br">&lt;</span><span class="name">tablecell</span><span class="br">&gt;</span>
      Four
    <span class="br">&lt;</span><span class="name">/tablecell</span><span class="br">&gt;</span>
  <span class="br">&lt;</span><span class="name">/tablerow</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">/table</span><span class="br">&gt;</span>
</pre>
    <p>We need to map these elements to setups:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\startxmlsetups</span></span> xml:testsetups
    <span class="cs"><span class="stylecs">\xmlsetsetup</span></span><span class="br">{</span>main<span class="br">}</span><span class="br">{</span>b|table|tablerow|tablecell<span class="br">}</span><span class="br">{</span>xml:*<span class="br">}</span>
<span class="cs"><span class="stylecs">\stopxmlsetups</span></span>
<span class="cs">\xmlregistersetup</span><span class="br">{</span>xml:testsetups<span class="br">}</span>
</pre>
    <p>The setups themselves are rather simple as we don&rsquo;t capture any attributes.
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\startxmlsetups</span></span> xml:b
  <span class="cs"><span class="documentcs">\bold</span></span><span class="br">{</span><span class="cs"><span class="stylecs">\xmlflush</span></span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="br">}</span>
<span class="cs"><span class="stylecs">\stopxmlsetups</span></span>
<span class="cs"><span class="stylecs">\startxmlsetups</span></span> xml:table
  <span class="cs"><span class="stylecs">\startembeddedxtable</span></span>
    <span class="cs"><span class="stylecs">\xmlflush</span></span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span>
  <span class="cs"><span class="stylecs">\stopembeddedxtable</span></span>
<span class="cs"><span class="stylecs">\stopxmlsetups</span></span>
<span class="cs"><span class="stylecs">\startxmlsetups</span></span> xml:tablerow
  <span class="cs"><span class="documentcs">\startxrow</span></span>
    <span class="cs"><span class="stylecs">\xmlflush</span></span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span>
  <span class="cs"><span class="documentcs">\stopxrow</span></span>
<span class="cs"><span class="stylecs">\stopxmlsetups</span></span>
<span class="cs"><span class="stylecs">\startxmlsetups</span></span> xml:tablecell
  <span class="cs"><span class="documentcs">\startxcell</span></span>
    <span class="cs"><span class="stylecs">\xmlflush</span></span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span>
  <span class="cs"><span class="documentcs">\stopxcell</span></span>
<span class="cs"><span class="stylecs">\stopxmlsetups</span></span>
</pre>
    <p>We now process the example. Of course it will also work for files.
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\xmlprocessbuffer</span></span><span class="br">{</span>main<span class="br">}</span><span class="br">{</span>test<span class="br">}</span><span class="br">{</span><span class="br">}</span>
</pre>
    <h2>
     <span class="mw-headline" id="Ye_olde_syntax">
      Ye olde syntax
     </span>
    </h2>
    <p>For the impatient a small additional module is provided that remaps the natural table commands onto extreme tables:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>ntb-to-xtb<span class="brx">]</span>
</pre>
    <p>After that:
</p>
    <pre class="tex"><span class="cs"><span class="documentcs">\bTABLE</span></span> <span class="cs"><span class="documentcs">\bTR</span></span>
    <span class="cs"><span class="documentcs">\bTD</span></span><span class="brx">[</span>background<span class="brx">=</span>color,backgroundcolor<span class="brx">=</span>red<span class="brx">]</span> one <span class="cs">\eTD</span>
    <span class="cs"><span class="documentcs">\bTD</span></span><span class="brx">[</span>width<span class="brx">=</span>2cm<span class="brx">]</span> two <span class="cs">\eTD</span>
  <span class="cs">\eTR</span>
  <span class="cs"><span class="documentcs">\bTR</span></span>
    <span class="cs"><span class="documentcs">\bTD</span></span><span class="brx">[</span>width<span class="brx">=</span>5cm<span class="brx">]</span> alpha <span class="cs">\eTD</span>
    <span class="cs"><span class="documentcs">\bTD</span></span><span class="brx">[</span>background<span class="brx">=</span>color,backgroundcolor<span class="brx">=</span>yellow<span class="brx">]</span> beta <span class="cs">\eTD</span>
<span class="cs">\eTR</span> <span class="cs">\eTABLE</span>
</pre>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-13
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Tables/Extreme_tables_with_xtable">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
