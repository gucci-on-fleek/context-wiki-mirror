<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Mathematics/Matrices&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Mathematics/Matrices" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Mathematics/Matrices
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=6906&diff=39770">2025-01-12</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h3>
       Contents
      </h3>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Defining_with_.5Cdefinemathmatrix">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Defining with \definemathmatrix
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Formatting_delimiters_with_left_and_right">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Formatting delimiters with left and  right
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-3">
       <a href="#Block_matrices_with_vertical_and.2For_horizontal_lines">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Block matrices with vertical and/or horizontal lines
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-4">
         <a href="#Formatting_lines">
          <span class="tocnumber">
           3.1
          </span>
          <span class="toctext">
           Formatting lines
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-5">
         <a href="#Other_formatting_example">
          <span class="tocnumber">
           3.2
          </span>
          <span class="toctext">
           Other formatting example
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-6">
       <a href="#Border_matrices_with_.5Cstartbordermatrix">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Border matrices with \startbordermatrix
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Defining_with_\definemathmatrix">
     </span>
     <span class="mw-headline" id="Defining_with_.5Cdefinemathmatrix">
      Defining with
      <tt>
       <a href="../Command/definemathmatrix.html" title="Command/definemathmatrix">
        \definemathmatrix
       </a>
      </tt>
     </span>
    </h2>
    <p>In order to type matrices in math formulas, there is the command <tt><a href="../Command/definemathmatrix.html" title="Command/definemathmatrix">\definemathmatrix</a></tt>. Once a certain type of matrix is defined, one can also add a simple command in order to type matrices in a Matlab or Scilab format.
</p>
    <p>Here are a few examples.
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuplayout</span></span><span class="brx">[</span>scale<span class="brx">=</span>0.8,width<span class="brx">=</span>13cm<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>pmatrix<span class="brx">]</span>        <span class="comment">% defining matrix with parentheses</span>
	<span class="brx">[</span>matrix:parentheses<span class="brx">]</span>
	<span class="brx">[</span>simplecommand<span class="brx">=</span>pmatrix<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>bmatrix<span class="brx">]</span>        <span class="comment">% defining matrix with brackets</span>
	<span class="brx">[</span>matrix:brackets<span class="brx">]</span>
	<span class="brx">[</span>simplecommand<span class="brx">=</span>bmatrix<span class="brx">]</span>
 
<span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>determinant<span class="brx">]</span>    <span class="comment">% defining determinant with bars</span>
	<span class="brx">[</span>matrix:bars<span class="brx">]</span>
	<span class="brx">[</span>simplecommand<span class="brx">=</span>thedeterminant<span class="brx">]</span>


Let $A$ be the matrix
<span class="cs"><span class="documentcs">\startformula</span></span>
A <span class="brx">=</span> <span class="cs">\startpmatrix</span>
       <span class="cs">\NC</span> 2 <span class="cs">\NC</span> 3 <span class="cs">\NR</span>
       <span class="cs">\NC</span> 1 <span class="cs">\NC</span> 2 <span class="cs">\NR</span>
     <span class="cs">\stoppmatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>

Show that
<span class="cs"><span class="documentcs">\startformula</span></span>
<span class="br">{</span><span class="cs">\rm</span> det<span class="br">}</span><span class="brx">(</span>A<span class="brx">)</span> <span class="brx">=</span> <span class="cs">\startdeterminant</span>
                 <span class="cs">\NC</span> 2 <span class="cs">\NC</span> 3 <span class="cs">\NR</span>
                 <span class="cs">\NC</span> 1 <span class="cs">\NC</span> 2 <span class="cs">\NR</span>
               <span class="cs">\stopdeterminant</span>   <span class="brx">=</span> 1
<span class="cs"><span class="documentcs">\stopformula</span></span>

Compute the matrix $AB$ where $B$ is the matrix
<span class="cs"><span class="documentcs">\startformula</span></span>
B <span class="brx">=</span> <span class="cs">\pmatrix</span><span class="br">{</span>2, -3&nbsp;; -1, 2<span class="br">}</span>.
<span class="cs"><span class="documentcs">\stopformula</span></span>

</pre>
     </li>
     <li class="rendering">
      <img height="270" src="../wikiteximage/1197d4b6630f83961b8cb28eb539c651.webp" width="348">
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Formatting_delimiters_with_left_and_right">
      Formatting delimiters with
      <tt>
       left
      </tt>
      and
      <tt>
       right
      </tt>
     </span>
    </h2>
    <p>It is possible to have different delimiters on the left and on the right. For instance:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>pvmatrix<span class="brx">]</span>
	<span class="brx">[</span>left<span class="brx">=</span><span class="br">{</span><span class="cs"><span class="documentcs">\left</span></span><span class="brx">(</span><span class="cs"><span class="stylecs">\thinspace</span></span><span class="br">}</span>,
	right<span class="brx">=</span><span class="br">{</span><span class="cs"><span class="stylecs">\thinspace</span></span><span class="cs"><span class="documentcs">\right</span></span>|<span class="br">}</span><span class="brx">]</span>
	
<span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>rpmatrix<span class="brx">]</span>
	<span class="brx">[</span>left<span class="brx">=</span><span class="br">{</span><span class="cs"><span class="documentcs">\left</span></span>.<span class="cs"><span class="stylecs">\thinspace</span></span><span class="br">}</span>,
	right<span class="brx">=</span><span class="br">{</span><span class="cs"><span class="stylecs">\thinspace</span></span><span class="cs"><span class="documentcs">\right</span></span><span class="brx">]</span><span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="documentcs">\startformula</span></span>
	<span class="cs">\startpvmatrix</span>
		<span class="cs">\NC</span> 11 <span class="cs">\NC</span> 12 <span class="cs">\NC</span> 13 <span class="cs">\NR</span>
		<span class="cs">\NC</span> 21 <span class="cs">\NC</span> 22 <span class="cs">\NC</span> 23 <span class="cs">\NR</span>
		<span class="cs">\NC</span> 31 <span class="cs">\NC</span> 32 <span class="cs">\NC</span> 33 <span class="cs">\NR</span>
	<span class="cs">\stoppvmatrix</span>
	<span class="cs">\startrpmatrix</span>
		<span class="cs">\NC</span>  0 <span class="cs">\NR</span>
		<span class="cs">\NC</span>  1 <span class="cs">\NR</span>
		<span class="cs">\NC</span>  2 <span class="cs">\NR</span>
	<span class="cs">\stoprpmatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>

</pre>
     </li>
     <li class="rendering">
      <img height="77" src="../wikiteximage/d7d5e537914c30400574df57a6ea3787.webp" width="130">
     </li>
    </ul>
    <h2>
     <span id="Block_matrices_with_vertical_and/or_horizontal_lines">
     </span>
     <span class="mw-headline" id="Block_matrices_with_vertical_and.2For_horizontal_lines">
      Block matrices with vertical and/or horizontal lines
     </span>
    </h2>
    <p>In ConTeXt LMTX beginning version 2020-11-27, it is possible to create &laquo;&nbsp;block&nbsp;&raquo; matrices where the blocks are separated by vertical or horizontal lines (respectively <tt><a class="new" href="../index.php?title=Command/VL&action=edit&redlink=1.html" title="Command/VL (page does not exist)">\VL</a></tt> and <tt><a class="new" href="../index.php?title=Command/HL&action=edit&redlink=1.html" title="Command/HL (page does not exist)">\HL</a></tt>). For instance the above example can be typeset more easily by the following&nbsp;:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>mymatrix<span class="brx">]</span>
	<span class="brx">[</span>left<span class="brx">=</span><span class="br">{</span><span class="cs"><span class="documentcs">\left</span></span><span class="cs">\lparent</span><span class="cs"><span class="stylecs">\thinspace</span></span><span class="br">}</span>, <span class="comment">% instead of the left parenthesis, one can use any other fence</span>
	right<span class="brx">=</span><span class="br">{</span><span class="cs"><span class="stylecs">\thinspace</span></span><span class="cs"><span class="documentcs">\right</span></span><span class="cs">\rparent</span><span class="br">}</span><span class="brx">]</span> <span class="comment">% instead of the right parenthesis, one can use any other fence</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
Here is $3 <span class="cs">\times</span> 3$ matrix with a column added to it
<span class="cs"><span class="documentcs">\startformula</span></span>
	<span class="cs">\startmymatrix</span>
		<span class="cs">\NC</span> 11 <span class="cs">\NC</span> 12 <span class="cs">\NC</span> 13 <span class="cs">\VL</span> 0 <span class="cs">\NR</span>
		<span class="cs">\NC</span> 21 <span class="cs">\NC</span> 22 <span class="cs">\NC</span> 23 <span class="cs">\VL</span> 1 <span class="cs">\NR</span>
		<span class="cs">\NC</span> 31 <span class="cs">\NC</span> 32 <span class="cs">\NC</span> 33 <span class="cs">\VL</span> 2 <span class="cs">\NR</span>
	<span class="cs">\stopmymatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
Here is a block matrix:
<span class="cs"><span class="documentcs">\startformula</span></span>
	<span class="cs">\startmymatrix</span>
		<span class="cs">\NC</span> A <span class="cs">\VL</span>  B <span class="cs">\NR</span>
		<span class="cs">\HL</span>
		<span class="cs">\NC</span> C <span class="cs">\VL</span>  D <span class="cs">\NR</span>
	<span class="cs">\stopmymatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="209" src="../wikiteximage/ae83ad44cd59b82f44e014ea038fb17b.webp" width="344">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Formatting_lines">
      Formatting lines
     </span>
    </h3>
    <p>The two commands <tt><a class="new" href="../index.php?title=Command/VL&action=edit&redlink=1.html" title="Command/VL (page does not exist)">\VL</a></tt> and <tt><a class="new" href="../index.php?title=Command/HL&action=edit&redlink=1.html" title="Command/HL (page does not exist)">\HL</a></tt> take an optional parameter which defines the thickness of the rule and its color. So <tt><a class="new" href="../index.php?title=Command/HL&action=edit&redlink=1.html" title="Command/HL (page does not exist)">\HL</a>[3,red]</tt> will produce a red horizontal rule three times thicker than the default matrix rule. The rule thickness for a specific matrix is defined with the <code>[rulethickness=]</code> parameter of <tt><a href="../Command/definemathmatrix.html" title="Command/definemathmatrix">\definemathmatrix</a></tt>.
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>mymatrix<span class="brx">]</span><span class="brx">[</span>matrix:parentheses<span class="brx">]</span><span class="brx">[</span>rulethickness<span class="brx">=</span>2pt<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\startformula</span></span>
	<span class="cs">\startmymatrix</span>
		<span class="cs">\NC</span> A <span class="cs">\VL</span><span class="brx">[</span>3,green<span class="brx">]</span>  B <span class="cs">\NR</span>
		<span class="cs">\HL</span><span class="brx">[</span>10,red<span class="brx">]</span>
		<span class="cs">\NC</span> C <span class="cs">\VL</span> D <span class="cs">\NR</span>
	<span class="cs">\stopmymatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="102" src="../wikiteximage/901e4d26a9c5175ba322674a44468bf8.webp" width="95">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Other_formatting_example">
      Other formatting example
     </span>
    </h3>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>mymatrix<span class="brx">]</span><span class="brx">[</span>matrix:parentheses<span class="brx">]</span>


Weird matrix
<span class="cs"><span class="documentcs">\startformula</span></span>
	<span class="cs">\startmymatrix</span>
		<span class="cs">\NC</span> A <span class="cs">\VL</span> B <span class="cs">\NR</span>
		<span class="cs">\HL</span><span class="brx">[</span>red<span class="brx">]</span>
		<span class="cs">\NC</span> C <span class="cs">\NC</span> D <span class="cs">\NR</span>
	<span class="cs">\stopmymatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
 </pre>
     </li>
     <li class="rendering">
      <img height="99" src="../wikiteximage/29cd5ff4427f3fb9287458032a21abe9.webp" width="99">
     </li>
    </ul>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\definemathmatrix</span></span><span class="brx">[</span>mymatrix<span class="brx">]</span><span class="brx">[</span>matrix:parentheses<span class="brx">]</span>
This allows things like

<span class="cs"><span class="documentcs">\startformula</span></span>
	<span class="cs">\startmymatrix</span>
		<span class="cs">\NC</span> A <span class="cs">\VL</span> B <span class="cs">\NR</span>
		<span class="cs">\HL</span>
		<span class="cs">\NC</span> <span class="cs">\NC</span> C <span class="cs">\NC</span> <span class="cs">\NR</span>
	<span class="cs">\stopmymatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>

<span class="cs"><span class="documentcs">\startformula</span></span>
	<span class="cs">\startmymatrix</span>
		<span class="cs">\NC</span> A_1    <span class="cs">\VL</span> B_1    <span class="cs">\NR</span>
		<span class="cs">\HL</span>
		<span class="cs">\NC</span> <span class="cs">\vdots</span> <span class="cs">\VL</span> <span class="cs">\vdots</span>  <span class="cs">\NR</span>
		<span class="cs">\NC</span> <span class="cs">\vdots</span> <span class="cs">\NC</span> <span class="cs">\vdots</span>  <span class="cs">\NR</span>  <span class="comment">% there is probably something from here</span>
		<span class="cs">\HL</span>
		<span class="cs">\NC</span> A_n    <span class="cs">\VL</span> B_n    <span class="cs">\NR</span>
	<span class="cs">\stopmymatrix</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
 </pre>
     </li>
     <li class="rendering">
      <img height="204" src="../wikiteximage/4e9adcd4591619b456ec0dcd024caf6b.webp" width="164">
     </li>
    </ul>
    <h2>
     <span id="Border_matrices_with_\startbordermatrix">
     </span>
     <span class="mw-headline" id="Border_matrices_with_.5Cstartbordermatrix">
      Border matrices with
      <tt>
       <a class="new" href="../index.php?title=Command/startbordermatrix&action=edit&redlink=1.html" title="Command/startbordermatrix (page does not exist)">
        \startbordermatrix
       </a>
      </tt>
     </span>
    </h2>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="documentcs">\startformula</span></span>
<span class="cs"><span class="documentcs">\startbordermatrix</span></span>
<span class="cs">\NC</span>       <span class="cs">\NC</span> <span class="br">{</span><span class="cs">\bi</span> col 1<span class="br">}</span> <span class="cs">\NC</span> <span class="br">{</span><span class="cs">\bi</span> col 2<span class="br">}</span> <span class="cs">\NC</span> <span class="br">{</span><span class="cs">\bi</span> col 3<span class="br">}</span><span class="cs">\NR</span>
<span class="cs">\NC</span> row 1 <span class="cs">\NC</span> a_<span class="br">{</span>11<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>12<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>13<span class="br">}</span>     <span class="cs">\NR</span>
<span class="cs">\NC</span> row 2 <span class="cs">\NC</span> a_<span class="br">{</span>21<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>22<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>23<span class="br">}</span>     <span class="cs">\NR</span>
<span class="cs">\NC</span> row 3 <span class="cs">\NC</span> a_<span class="br">{</span>31<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>32<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>33<span class="br">}</span>     <span class="cs">\NR</span>
<span class="cs"><span class="documentcs">\stopbordermatrix</span></span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
 </pre>
     </li>
     <li class="rendering">
      <img height="108" src="../wikiteximage/c58902e0650de0f2816570711750037e.webp" width="215">
     </li>
    </ul>
    <p>Use <tt><a class="new" href="../index.php?title=Command/startbordermatrix&action=edit&redlink=1.html" title="Command/startbordermatrix (page does not exist)">\startbordermatrix</a></tt> for a bracketed version:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="documentcs">\startformula</span></span>
<span class="cs"><span class="documentcs">\startbbordermatrix</span></span>
<span class="cs">\NC</span>       <span class="cs">\NC</span> <span class="br">{</span><span class="cs">\bi</span> col 1<span class="br">}</span> <span class="cs">\NC</span> <span class="br">{</span><span class="cs">\bi</span> col 2<span class="br">}</span> <span class="cs">\NC</span> <span class="br">{</span><span class="cs">\bi</span> col 3<span class="br">}</span><span class="cs">\NR</span>
<span class="cs">\NC</span> row 1 <span class="cs">\NC</span> a_<span class="br">{</span>11<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>12<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>13<span class="br">}</span>     <span class="cs">\NR</span>
<span class="cs">\NC</span> row 2 <span class="cs">\NC</span> a_<span class="br">{</span>21<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>22<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>23<span class="br">}</span>     <span class="cs">\NR</span>
<span class="cs">\NC</span> row 3 <span class="cs">\NC</span> a_<span class="br">{</span>31<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>32<span class="br">}</span>      <span class="cs">\NC</span> a_<span class="br">{</span>33<span class="br">}</span>     <span class="cs">\NR</span>
<span class="cs"><span class="documentcs">\stopbbordermatrix</span></span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
 </pre>
     </li>
     <li class="rendering">
      <img height="108" src="../wikiteximage/6c2725076fba1d9ff524ab992bc2bd43.webp" width="206">
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-12
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Mathematics/Matrices">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
