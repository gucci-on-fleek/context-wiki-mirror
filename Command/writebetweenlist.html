<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Command/writebetweenlist&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Command/writebetweenlist" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Command/writebetweenlist
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=6317&diff=36087">2024-12-17</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1">
       <a href="#.5Cwritebetweenlist">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         \writebetweenlist
        </span>
       </a>
       <ul>
        <li class="toclevel-2">
         <a href="#Summary">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           Summary
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Settings">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           Settings
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Description">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           Description
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Examples">
          <span class="tocnumber">
           1.4
          </span>
          <span class="toctext">
           Examples
          </span>
         </a>
         <ul>
          <li class="toclevel-3">
           <a href="#basic_usage">
            <span class="tocnumber">
             1.4.1
            </span>
            <span class="toctext">
             basic usage
            </span>
           </a>
          </li>
          <li class="toclevel-3">
           <a href="#the_location_and_order_options">
            <span class="tocnumber">
             1.4.2
            </span>
            <span class="toctext">
             the location and order options
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2">
         <a href="#Notes">
          <span class="tocnumber">
           1.5
          </span>
          <span class="toctext">
           Notes
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#See_also">
          <span class="tocnumber">
           1.6
          </span>
          <span class="toctext">
           See also
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Help_from_ConTeXt-Mailinglist.2FForum">
          <span class="tocnumber">
           1.7
          </span>
          <span class="toctext">
           Help from ConTeXt-Mailinglist/Forum
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Summary">
      Summary
     </span>
    </h2>
    <div class="cd:shortdesc">
     The command
     <tt>
      \writebetweenlist
     </tt>
     is used for putting some non-item in a list.
    </div>
    <h2>
     <span class="mw-headline" id="Settings">
      Settings
     </span>
    </h2>
    <div class="cd:command1">
     <table cellpadding="3" cellspacing="4" class="cmd">
      <tbody>
       <tr>
        <td class="cmd" colspan="2">\writebetweenlist<span class="arg1">[...]</span><span class="arg2"><i>[...=...,...]</i></span><span class="arg3">{...}</span></td>
       </tr>
       <tr class="arg1" valign="top">
        <td class="cmd">[...]</td>
        <td><a class="cmdvalue" href="../Commandvalue/list.html" title="Commandvalue/list">list</a> </td>
       </tr>
       <tr class="arg2" valign="top">
        <td class="cmd">...=...,...</td>
        <td><i>inherits from</i> <a class="cmdref" href="setuplist.html" title="Command/setuplist">\setuplist</a></td>
       </tr>
       <tr class="arg3" valign="top">
        <td class="cmd">{...}</td>
        <td><a class="cmdvalue" href="../Commandvalue/command.html" title="Commandvalue/command">command</a> </td>
       </tr>
      </tbody>
     </table>
     <br>
     <table cellpadding="3" cellspacing="4" width="100%">
     </table>
    </div>
    <h2>
     <span class="mw-headline" id="Description">
      Description
     </span>
    </h2>
    <div class="cd:description">
     Insert something in that is not a list element in the middle of a list, most often a separator such as
     <tt>
      <a href="hrule.html" title="Command/hrule">
       \hrule
      </a>
     </tt>
     or
     <tt>
      <a href="page.html" title="Command/page">
       \page
      </a>
     </tt>
     , or a header. It can&rsquo;t have a page number.
     <p>The default table of contents is a combined list (see <tt><a href="setupcombinedlist.html" title="Command/setupcombinedlist">\setupcombinedlist</a></tt>). To write to it you must choose the &ldquo;level list&ldquo; at which your entry should be inserted: <tt>\writebetweenlist[chapter][location=here]{\hrule}</tt>, <tt>\writebetweenlist[section][location=here]{\hrule}</tt>, etc.
</p>
    </div>
    <h2>
     <span class="mw-headline" id="Examples">
      Examples
     </span>
    </h2>
    <div class="cd:examples">
     <h3>
      <span class="mw-headline" id="basic_usage">
       basic usage
      </span>
     </h3>
     <div class="mw-collapsible">
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A7,landscape<span class="brx">]</span>
<span class="cs"><span class="stylecs">\definelist</span></span><span class="brx">[</span>Reprints<span class="brx">]</span><span class="brx">[</span>criterium<span class="brx">=</span>all<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\completelist</span></span><span class="brx">[</span>Reprints<span class="brx">]</span>
  <span class="cs"><span class="documentcs">\writetolist</span></span><span class="brx">[</span>Reprints<span class="brx">]</span><span class="br">{</span>1.<span class="br">}</span><span class="br">{</span>List entry A<span class="br">}</span>
  <span class="cs"><span class="documentcs">\writebetweenlist</span></span><span class="brx">[</span>Reprints<span class="brx">]</span><span class="brx">[</span>location<span class="brx">=</span>here<span class="brx">]</span><span class="br">{</span><span class="cs">\hrule</span><span class="br">}</span>
  <span class="cs"><span class="documentcs">\writetolist</span></span><span class="brx">[</span>Reprints<span class="brx">]</span><span class="br">{</span>2.<span class="br">}</span><span class="br">{</span>List entry B<span class="br">}</span>
  <span class="cs"><span class="documentcs">\writetolist</span></span><span class="brx">[</span>Reprints<span class="brx">]</span><span class="br">{</span>3.<span class="br">}</span><span class="br">{</span>List entry C<span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="438" src="../wikiteximage/efc9298b6996c4067802b0d4ba11a723.webp" width="620">
       </li>
      </ul>
     </div>
     <h3>
      <span class="mw-headline" id="the_location_and_order_options">
       the
       <code>location</code>
       and
       <code>order</code>
       options
      </span>
     </h3>
     <div class="mw-collapsible">
      <p>According to <a class="external free" href="http://archive.contextgarden.net/message/20101213.221208.577b0e51.en.html" rel="nofollow">http://archive.contextgarden.net/message/20101213.221208.577b0e51.en.html</a> <code>\writebetweenlist</code> has multiple usage and these are conflicting:
</p>
      <ul>
       <li>
        in order to get the right page info associated it needs to be anchored in the text stream
       </li>
       <li>
        in that case a node can interfere with spacing and can come unexpected
       </li>
       <li>
        sometimes direct flushing is needed, sometimes delayed
       </li>
      </ul>
      <p>The option <code>order</code> has been added to (1) the flushers and (2) the list placers (as of december 14, 2010).
</p>
      <p>Regular list entries are bound to a specific location in order to
get the right pagenumber etc. associated. When pushing something
inbetween, it ends up directly in the list. This is the
default because otherwise users will wonder why spacing might get
messed up (due to an unseen but present node). It is possible to
force a location by explicitly setting <code>location=here</code>.
</p>
      <p>Another way to force a certain order is to set the <code>order</code> option when placing a list.
</p>
      <p><code>order=command</code> pushes only commands into the right order, and <code>order=all</code> orders all
entries (which might be too much). In this case no specific <code>location</code> is needed for <code>\writebetweenlist</code>.
</p>
      <p>The following example shows this:
</p>
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="stylecs">\definepapersize</span></span><span class="brx">[</span>scroll<span class="brx">]</span><span class="brx">[</span>width<span class="brx">=</span>12cm, height<span class="brx">=</span>20cm<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>scroll<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definelist</span></span><span class="brx">[</span>testlist<span class="brx">]</span><span class="brx">[</span>criterium<span class="brx">=</span>all<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>

    <span class="cs"><span class="documentcs">\subject</span></span><span class="br">{</span>normal<span class="br">}</span>
    <span class="brx">(</span>Ordering all entries, whether created with <span class="cs"><span class="documentcs">\tex</span></span><span class="br">{</span>writetolist<span class="br">}</span> or <span class="cs"><span class="documentcs">\tex</span></span><span class="br">{</span>writebetweenlist<span class="br">}</span><span class="brx">)</span>
    <span class="cs"><span class="documentcs">\placelist</span></span><span class="brx">[</span>testlist<span class="brx">]</span>

    <span class="cs"><span class="documentcs">\subject</span></span><span class="br">{</span>command<span class="br">}</span>
    <span class="brx">(</span>Ordering the <span class="cs"><span class="documentcs">\tex</span></span><span class="br">{</span>writebetweenlist<span class="br">}</span> items, retaining the order of the entries<span class="brx">)</span>
    <span class="cs"><span class="documentcs">\placelist</span></span><span class="brx">[</span>testlist<span class="brx">]</span><span class="brx">[</span>order<span class="brx">=</span>command<span class="brx">]</span>

    <span class="cs"><span class="documentcs">\subject</span></span><span class="br">{</span>all<span class="br">}</span>
    <span class="brx">(</span>Placing all entries in order of appearance<span class="brx">)</span>
    <span class="cs"><span class="documentcs">\placelist</span></span><span class="brx">[</span>testlist<span class="brx">]</span><span class="brx">[</span>order<span class="brx">=</span>all<span class="brx">]</span>

    <span class="comment">% --- and now we put write the entries to the list ---</span>

    <span class="cs"><span class="documentcs">\writetolist</span></span>     <span class="brx">[</span>testlist<span class="brx">]</span>               <span class="br">{</span>1<span class="br">}</span>
        <span class="br">{</span>1/3 -- 1/6 -- <span class="brx">(</span>location<span class="brx">=</span>here<span class="brx">)</span><span class="br">}</span>

    <span class="cs"><span class="documentcs">\writebetweenlist</span></span><span class="brx">[</span>testlist<span class="brx">]</span><span class="br">{</span>
        <span class="cs"><span class="documentcs">\framed</span></span><span class="brx">[</span>width<span class="brx">=</span><span class="cs">\hsize</span>, frame<span class="brx">=</span>off,
                background<span class="brx">=</span>color, backgroundcolor<span class="brx">=</span>red,
                align<span class="brx">=</span>flushleft<span class="brx">]</span>
        <span class="br">{</span><span class="cs"><span class="documentcs">\blackrule</span></span><span class="brx">[</span>width<span class="brx">=</span>2.5em, height<span class="brx">=</span>0em<span class="brx">]</span>
         1/3 -- 2/6 -- <span class="brx">(</span>location<span class="brx">=</span>...<span class="brx">)</span><span class="br">}</span><span class="br">}</span>

    <span class="cs"><span class="documentcs">\writebetweenlist</span></span><span class="brx">[</span>testlist<span class="brx">]</span><span class="brx">[</span>location<span class="brx">=</span>here<span class="brx">]</span><span class="br">{</span>
        <span class="cs"><span class="documentcs">\framed</span></span><span class="brx">[</span>width<span class="brx">=</span><span class="cs">\hsize</span>, frame<span class="brx">=</span>off,
                background<span class="brx">=</span>color, backgroundcolor<span class="brx">=</span>cyan,
                align<span class="brx">=</span>flushleft<span class="brx">]</span>
        <span class="br">{</span><span class="cs"><span class="documentcs">\blackrule</span></span><span class="brx">[</span>width<span class="brx">=</span>2.5em, height<span class="brx">=</span>0em<span class="brx">]</span>
         2/3 -- 3/6 -- location<span class="brx">=</span>here<span class="br">}</span><span class="br">}</span>

    <span class="cs"><span class="documentcs">\writetolist</span></span>     <span class="brx">[</span>testlist<span class="brx">]</span>               <span class="br">{</span>2<span class="br">}</span>
        <span class="br">{</span>2/3 -- 4/6 -- <span class="brx">(</span>location<span class="brx">=</span>here<span class="brx">)</span><span class="br">}</span>

    <span class="cs"><span class="documentcs">\writetolist</span></span>     <span class="brx">[</span>testlist<span class="brx">]</span><span class="brx">[</span>location<span class="brx">=</span>none<span class="brx">]</span><span class="br">{</span>W<span class="br">}</span>
        <span class="br">{</span>3/3 -- 5/6 -- location<span class="brx">=</span>none<span class="br">}</span>

    <span class="cs"><span class="documentcs">\writebetweenlist</span></span><span class="brx">[</span>testlist<span class="brx">]</span><span class="br">{</span>
        <span class="cs"><span class="documentcs">\framed</span></span><span class="brx">[</span>width<span class="brx">=</span><span class="cs">\hsize</span>, frame<span class="brx">=</span>off,
                background<span class="brx">=</span>color, backgroundcolor<span class="brx">=</span>yellow,
                align<span class="brx">=</span>flushleft<span class="brx">]</span>
        <span class="br">{</span><span class="cs"><span class="documentcs">\blackrule</span></span><span class="brx">[</span>width<span class="brx">=</span>2.5em, height<span class="brx">=</span>0em<span class="brx">]</span>
         3/3 -- 6/6 -- <span class="brx">(</span>location<span class="brx">=</span>...<span class="brx">)</span><span class="br">}</span><span class="br">}</span>

<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="1181" src="../wikiteximage/977b9c1b6427fb2ba2a6b4710792c573.webp" width="709">
       </li>
      </ul>
      <p>Checking with LMTX in 2024-12:
</p>
      <ul>
       <li>
        <code>order=title</code>
        works only for section titles without injections.
       </li>
       <li>
        Use
        <code>order=all</code>
        or
        <code>order=command</code>
        for lists with injections or
        <code>location=here</code>
        for each injection to keep their order of appearance.
       </li>
      </ul>
     </div>
    </div>
    <h2>
     <span class="mw-headline" id="Notes">
      Notes
     </span>
    </h2>
    <div class="cd:notes">
    </div>
    <h2>
     <span class="mw-headline" id="See_also">
      See also
     </span>
    </h2>
    <div class="cd:seealso">
     <ul>
      <li>
       <a href="definelist.html" title="Command/definelist">
        <tt>
         \definelist
        </tt>
       </a>
      </li>
      <li>
       <a href="setuplist.html" title="Command/setuplist">
        <tt>
         \setuplist
        </tt>
       </a>
      </li>
      <li>
       <a class="extiw" href="http://source.contextgarden.net/strc-lst.mkvi" title="source:strc-lst.mkvi">
        strc-lst.mkvi
       </a>
      </li>
      <li>
       <a href="writetolist.html" title="Command/writetolist">
        <tt>
         \writetolist
        </tt>
       </a>
       to write a regular item to a list (with a section number)
      </li>
      <li>
       <a href="placelist.html" title="Command/placelist">
        <tt>
         \placelist
        </tt>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Help_from_ConTeXt-Mailinglist/Forum">
     </span>
     <span class="mw-headline" id="Help_from_ConTeXt-Mailinglist.2FForum">
      Help from ConTeXt-Mailinglist/Forum
     </span>
    </h2>
    <div>
     <p>All issues with:
</p>
     <ul>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=\writebetweenlist+sort:newest" rel="nofollow">
        \writebetweenlist on the mailing list (all results)
       </a>
      </li>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=subject:\writebetweenlist+sort:newest" rel="nofollow">
        \writebetweenlist on the mailing list (subject only)
       </a>
      </li>
      <li>
       <a class="external text" href="https://tex.stackexchange.com/search?q=%5Bcontext%5D+\writebetweenlist" rel="nofollow">
        \writebetweenlist on stack exchange
       </a>
      </li>
      <li>
       <a class="external text" href="http://source.contextgarden.net/?search=\writebetweenlist" rel="nofollow">
        \writebetweenlist in ConTeXt's source
       </a>
      </li>
     </ul>
    </div>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-12
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Command/writebetweenlist">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
