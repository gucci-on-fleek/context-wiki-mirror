<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Command/useblocks&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Command/useblocks" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Command/useblocks
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=6558&diff=33114">2021-11-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1">
       <a href="#.5Cuseblocks">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         \useblocks
        </span>
       </a>
       <ul>
        <li class="toclevel-2">
         <a href="#Summary">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           Summary
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Settings">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           Settings
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Description">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           Description
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Examples">
          <span class="tocnumber">
           1.4
          </span>
          <span class="toctext">
           Examples
          </span>
         </a>
         <ul>
          <li class="toclevel-3">
           <a href="#Example_1">
            <span class="tocnumber">
             1.4.1
            </span>
            <span class="toctext">
             Example 1
            </span>
           </a>
          </li>
          <li class="toclevel-3">
           <a href="#Test_if_a_block_is_empty_or_not">
            <span class="tocnumber">
             1.4.2
            </span>
            <span class="toctext">
             Test if a block is empty or not
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2">
         <a href="#Notes">
          <span class="tocnumber">
           1.5
          </span>
          <span class="toctext">
           Notes
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#See_also">
          <span class="tocnumber">
           1.6
          </span>
          <span class="toctext">
           See also
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Help_from_ConTeXt-Mailinglist.2FForum">
          <span class="tocnumber">
           1.7
          </span>
          <span class="toctext">
           Help from ConTeXt-Mailinglist/Forum
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Summary">
      Summary
     </span>
    </h2>
    <div class="cd:shortdesc">
     The command
     <tt>
      \useblocks
     </tt>
     is used to typeset blocks
    </div>
    <h2>
     <span class="mw-headline" id="Settings">
      Settings
     </span>
    </h2>
    <div class="cd:command1">
     <table cellpadding="3" cellspacing="4" class="cmd">
      <tbody>
       <tr>
        <td class="cmd" colspan="2">\useblocks<span class="arg1">[...,...]</span><span class="arg2"><i>[...,...]</i></span><span class="arg3"><i>[...=...,...]</i></span></td>
       </tr>
       <tr class="arg1" valign="top">
        <td class="cmd">[...,...]</td>
        <td><a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> </td>
       </tr>
       <tr class="arg2" valign="top">
        <td class="cmd">[...,...]</td>
        <td><a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> </td>
       </tr>
       <tr class="arg3" valign="top">
        <td class="cmd">criterium</td>
        <td><b>text</b> <a class="cmdvalue" href="../Commandvalue/section.html" title="Commandvalue/section">section</a> </td>
       </tr>
      </tbody>
     </table>
     <br>
     <table cellpadding="3" cellspacing="4" width="100%">
     </table>
    </div>
    <h2>
     <span class="mw-headline" id="Description">
      Description
     </span>
    </h2>
    <div class="cd:description">
     Typesets all the requested blocks defined in the document, in the order in which they were defined. An optional second argument can be used to print only blocks with certain tags.
    </div>
    <h2>
     <span class="mw-headline" id="Examples">
      Examples
     </span>
    </h2>
    <div class="cd:examples">
     <h3>
      <span class="mw-headline" id="Example_1">
       Example 1
      </span>
     </h3>
     <div class="mw-collapsible">
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A7<span class="brx">]</span>
<span class="cs"><span class="stylecs">\defineblock</span></span><span class="brx">[</span>myquestion<span class="brx">]</span>
<span class="cs"><span class="stylecs">\defineblock</span></span><span class="brx">[</span>myanswer<span class="brx">]</span>

<span class="comment">% We don't want to display blocks when we define them.</span>
<span class="cs"><span class="stylecs">\hideblocks</span></span><span class="brx">[</span>myquestion,myanswer<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs">\beginmyquestion</span><span class="brx">[</span>first<span class="brx">]</span>
First question, defined at the start
<span class="cs">\endmyquestion</span>

<span class="cs">\beginmyanswer</span><span class="brx">[</span>first<span class="brx">]</span>
First answer
<span class="cs">\endmyanswer</span>

<span class="cs"><span class="documentcs">\subsection</span></span><span class="br">{</span>My questions and answers, original interleaving<span class="br">}</span>
<span class="cs"><span class="documentcs">\useblocks</span></span><span class="brx">[</span>myquestion,myanswer<span class="brx">]</span>

<span class="cs"><span class="documentcs">\subsection</span></span><span class="br">{</span>Only the first answer<span class="br">}</span>
<span class="cs"><span class="documentcs">\useblocks</span></span><span class="brx">[</span>myanswer<span class="brx">]</span><span class="brx">[</span>first<span class="brx">]</span>

<span class="cs">\beginmyquestion</span>
Second block, defined at the end
<span class="cs">\endmyquestion</span>

<span class="cs">\beginmyanswer</span>
Second answer, also defined at the end
<span class="cs">\endmyanswer</span>

<span class="cs"><span class="documentcs">\subsection</span></span><span class="br">{</span>You can't select by tag only<span class="br">}</span>
<span class="cs"><span class="documentcs">\useblocks</span></span><span class="brx">[</span>first<span class="brx">]</span>   <span class="comment">% produces nothing</span>
<span class="cs"><span class="documentcs">\useblocks</span></span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span>first<span class="brx">]</span> <span class="comment">% produces nothing</span>

<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
        <p>This gives:
</p>
       </li>
       <li class="rendering">
        <img height="620" src="../wikiteximage/cf0699c5da0d2b460372e939c4caa6ec.webp" width="438">
       </li>
      </ul>
     </div>
     <h3>
      <span class="mw-headline" id="Test_if_a_block_is_empty_or_not">
       Test if a block is empty or not
      </span>
     </h3>
     <div class="mw-collapsible">
      <p>In some cases, one may want use the collected blocks, e. g., at the end of a chapter, preceded (of course) with a section header. However, some chapters may not have had blocks, so that an empty section would appear. In this case, <tt><a class="new" href="../index.php?title=Command/doifelseblocksempty&action=edit&redlink=1.html" title="Command/doifelseblocksempty (page does not exist)">\doifelseblocksempty</a></tt> it comes in handy to test if a block is empty or not (will work from some upload in Aug 2021 onwards):
</p>
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A7<span class="brx">]</span>
<span class="cs"><span class="stylecs">\defineblock</span></span><span class="brx">[</span>testa<span class="brx">]</span>
<span class="cs"><span class="stylecs">\defineblock</span></span><span class="brx">[</span>testb<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>

<span class="cs">\begintestb</span>
Test B was a great!
<span class="cs">\endtestb</span>

<span class="cs">\doifelseblocksempty</span> <span class="br">{</span>testa<span class="br">}</span><span class="br">{</span><span class="br">}</span><span class="br">{</span><span class="br">}</span> <span class="br">{</span><span class="cs"><span class="documentcs">\section</span></span><span class="br">{</span>Test A<span class="br">}</span><span class="br">}</span> <span class="br">{</span>Nothing to show here<span class="br">}</span> <span class="comment">% {name}{tag}{criterium}</span>
<span class="cs">\doifelseblocksempty</span> <span class="br">{</span>testb<span class="br">}</span><span class="br">{</span><span class="br">}</span><span class="br">{</span><span class="br">}</span> <span class="br">{</span><span class="cs"><span class="documentcs">\section</span></span><span class="br">{</span>Test B<span class="br">}</span><span class="br">}</span> <span class="br">{</span>Nothing to show here<span class="br">}</span> <span class="comment">% {name}{tag}{criterium}</span>

<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="620" src="../wikiteximage/a01dc9d33a90c828fc8c352fe07596f9.webp" width="438">
       </li>
      </ul>
     </div>
    </div>
    <h2>
     <span class="mw-headline" id="Notes">
      Notes
     </span>
    </h2>
    <div class="cd:notes">
    </div>
    <h2>
     <span class="mw-headline" id="See_also">
      See also
     </span>
    </h2>
    <div class="cd:seealso">
     <ul>
      <li>
       <a class="extiw" href="http://source.contextgarden.net/strc-blk.mkiv" title="source:strc-blk.mkiv">
        strc-blk.mkiv
       </a>
      </li>
      <li>
       <a href="defineblock.html" title="Command/defineblock">
        <tt>
         \defineblock
        </tt>
       </a>
       to define a new kind of block.
      </li>
      <li>
       <a href="setupblock.html" title="Command/setupblock">
        <tt>
         \setupblock
        </tt>
       </a>
       to set up block style.
      </li>
      <li>
       <a href="keepblocks.html" title="Command/keepblocks">
        <tt>
         \keepblocks
        </tt>
       </a>
       to start displaying blocks where they are defined.
      </li>
      <li>
       <a href="hideblocks.html" title="Command/hideblocks">
        <tt>
         \hideblocks
        </tt>
       </a>
       to stop displaying blocks where they are defined.
      </li>
      <li>
       <a href="selectblocks.html" title="Command/selectblocks">
        <tt>
         \selectblocks
        </tt>
       </a>
       to display only blocks mentioned in the current section.
      </li>
      <li>
       <a href="processblocks.html" title="Command/processblocks">
        <tt>
         \processblocks
        </tt>
       </a>
       to process blocks without printing them.
      </li>
      <li>
       <a href="forceblocks.html" title="Command/forceblocks">
        <tt>
         \forceblocks
        </tt>
       </a>
      </li>
      <li>
       <a href="nomoreblocks.html" title="Command/nomoreblocks">
        <tt>
         \nomoreblocks
        </tt>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Help_from_ConTeXt-Mailinglist/Forum">
     </span>
     <span class="mw-headline" id="Help_from_ConTeXt-Mailinglist.2FForum">
      Help from ConTeXt-Mailinglist/Forum
     </span>
    </h2>
    <div>
     <p>All issues with:
</p>
     <ul>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=\useblocks+sort:newest" rel="nofollow">
        \useblocks on the mailing list (all results)
       </a>
      </li>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=subject:\useblocks+sort:newest" rel="nofollow">
        \useblocks on the mailing list (subject only)
       </a>
      </li>
      <li>
       <a class="external text" href="https://tex.stackexchange.com/search?q=%5Bcontext%5D+\useblocks" rel="nofollow">
        \useblocks on stack exchange
       </a>
      </li>
      <li>
       <a class="external text" href="http://source.contextgarden.net/?search=\useblocks" rel="nofollow">
        \useblocks in ConTeXt's source
       </a>
      </li>
     </ul>
    </div>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-13
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Command/useblocks">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
