<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Command/iftrialtypesetting&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Command/iftrialtypesetting" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Command/iftrialtypesetting
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=6894&diff=34844">2024-05-08</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1">
       <a href="#.5Ciftrialtypesetting">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         \iftrialtypesetting
        </span>
       </a>
       <ul>
        <li class="toclevel-2">
         <a href="#Summary">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           Summary
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Settings">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           Settings
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Description">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           Description
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Examples">
          <span class="tocnumber">
           1.4
          </span>
          <span class="toctext">
           Examples
          </span>
         </a>
         <ul>
          <li class="toclevel-3">
           <a href="#Simple_example">
            <span class="tocnumber">
             1.4.1
            </span>
            <span class="toctext">
             Simple example
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2">
         <a href="#Notes">
          <span class="tocnumber">
           1.5
          </span>
          <span class="toctext">
           Notes
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#See_also">
          <span class="tocnumber">
           1.6
          </span>
          <span class="toctext">
           See also
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Help_from_ConTeXt-Mailinglist.2FForum">
          <span class="tocnumber">
           1.7
          </span>
          <span class="toctext">
           Help from ConTeXt-Mailinglist/Forum
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Summary">
      Summary
     </span>
    </h2>
    <div class="cd:shortdesc">
     The command
     <tt>
      \iftrialtypesetting
     </tt>
     is a test for non-final typesetting passes
    </div>
    <h2>
     <span class="mw-headline" id="Settings">
      Settings
     </span>
    </h2>
    <div class="cd:command1">
     <table cellpadding="3" cellspacing="4" class="cmd">
      <tbody>
       <tr>
        <td class="cmd" colspan="2">\iftrialtypesetting<span class="arg1"> ... </span><span class="arg2">\else</span><span class="arg3"> ... </span><span class="arg4">\fi</span></td>
       </tr>
       <tr class="arg1" valign="top">
        <td class="cmd"> ... </td>
        <td><a class="cmdvalue" href="../Commandvalue/true.html" title="Commandvalue/true">true</a> </td>
       </tr>
       <tr class="arg2" valign="top">
        <td class="cmd">\else</td>
        <td><a class="cmdvalue" href="../Commandvalue/delimiter.html" title="Commandvalue/delimiter">delimiter</a></td>
       </tr>
       <tr class="arg3" valign="top">
        <td class="cmd"> ... </td>
        <td><a class="cmdvalue" href="../Commandvalue/false.html" title="Commandvalue/false">false</a> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">\fi</td>
        <td><a class="cmdvalue" href="../Commandvalue/delimiter.html" title="Commandvalue/delimiter">delimiter</a></td>
       </tr>
      </tbody>
     </table>
     <br>
     <table cellpadding="3" cellspacing="4" width="100%">
     </table>
    </div>
    <h2>
     <span class="mw-headline" id="Description">
      Description
     </span>
    </h2>
    <div class="cd:description">
     ConTeXt sets the
     <tt>
      \iftrialtypesetting
     </tt>
     to true when it knows that the current typesetting event (box packaging) is not the final result that will be sent to the output file, but instead is some internal action that is only executed in support of another task like measuring typeset text widths.
     <p>Using <tt>\iftrialtypesetting</tt> as a test for non-final typesetting passes is especially useful inside TABLEs. If a  counter is incremented inside of a TABLE cell, it may be incremented multiple times accidentally while TABLE tries to figure out the required column widths.
</p>
     <p>There are other situations where a conditional of the form <tt>\iftrialtypesetting\else ... \fi</tt> is useful, but making sure counters are not incremented too often is a typical application.
</p>
    </div>
    <h2>
     <span class="mw-headline" id="Examples">
      Examples
     </span>
    </h2>
    <div class="cd:examples">
     <h3>
      <span class="mw-headline" id="Simple_example">
       Simple example
      </span>
     </h3>
     <div class="mw-collapsible">
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="systemcs">\definecounter</span></span><span class="brx">[</span>EventCount<span class="brx">]</span>

Before table: <span class="cs"><span class="systemcs">\rawcountervalue</span></span><span class="brx">[</span>EventCount<span class="brx">]</span>

<span class="cs"><span class="documentcs">\startTABLE</span></span><span class="brx">[</span>|p|<span class="brx">]</span>
<span class="cs">\NC</span> <span class="brx">(</span>table here<span class="brx">)</span><span class="cs"><span class="systemcs">\incrementcounter</span></span><span class="brx">[</span>EventCount<span class="brx">]</span><span class="cs">\NC</span><span class="cs">\NR</span>
<span class="cs"><span class="documentcs">\stopTABLE</span></span>

After table: <span class="cs"><span class="systemcs">\rawcountervalue</span></span><span class="brx">[</span>EventCount<span class="brx">]</span>

<span class="cs"><span class="documentcs">\blank</span></span>
Before table: <span class="cs"><span class="systemcs">\rawcountervalue</span></span><span class="brx">[</span>EventCount<span class="brx">]</span><span class="cs">\\</span>

<span class="cs"><span class="documentcs">\startTABLE</span></span><span class="brx">[</span>|p|<span class="brx">]</span>
<span class="cs">\NC</span> <span class="brx">(</span>table here<span class="brx">)</span><span class="cs"><span class="systemcs">\iftrialtypesetting</span></span><span class="cs">\else</span><span class="cs"><span class="systemcs">\incrementcounter</span></span><span class="brx">[</span>EventCount<span class="brx">]</span><span class="cs">\fi</span> <span class="cs">\NC</span><span class="cs">\NR</span>
<span class="cs"><span class="documentcs">\stopTABLE</span></span>

After table: <span class="cs"><span class="systemcs">\rawcountervalue</span></span><span class="brx">[</span>EventCount<span class="brx">]</span>
</pre>
       </li>
       <li class="rendering">
        <img height="144" src="../wikiteximage/c5e895012a6cbaf8bc9f5b6a858b15b6.webp" width="111">
       </li>
      </ul>
     </div>
    </div>
    <h2>
     <span class="mw-headline" id="Notes">
      Notes
     </span>
    </h2>
    <div class="cd:notes">
    </div>
    <h2>
     <span class="mw-headline" id="See_also">
      See also
     </span>
    </h2>
    <div class="cd:seealso">
     <ul>
      <li>
       <a class="extiw" href="http://source.contextgarden.net/syst-aux.mkiv" title="source:syst-aux.mkiv">
        syst-aux.mkiv
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Help_from_ConTeXt-Mailinglist/Forum">
     </span>
     <span class="mw-headline" id="Help_from_ConTeXt-Mailinglist.2FForum">
      Help from ConTeXt-Mailinglist/Forum
     </span>
    </h2>
    <div>
     <p>All issues with:
</p>
     <ul>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=\iftrialtypesetting+sort:newest" rel="nofollow">
        \iftrialtypesetting on the mailing list (all results)
       </a>
      </li>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=subject:\iftrialtypesetting+sort:newest" rel="nofollow">
        \iftrialtypesetting on the mailing list (subject only)
       </a>
      </li>
      <li>
       <a class="external text" href="https://tex.stackexchange.com/search?q=%5Bcontext%5D+\iftrialtypesetting" rel="nofollow">
        \iftrialtypesetting on stack exchange
       </a>
      </li>
      <li>
       <a class="external text" href="http://source.contextgarden.net/?search=\iftrialtypesetting" rel="nofollow">
        \iftrialtypesetting in ConTeXt's source
       </a>
      </li>
     </ul>
    </div>
    <!-- 
NewPP limit report
Cached time: 20260109212307
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.029 seconds
Real time usage: 0.148 seconds
Preprocessor visited node count: 27/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 527/2097152 bytes
Template argument size: 152/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2956/5000000 bytes
-->
    <!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.972      1 Template:Forum
100.00%    3.972      1 -total
-->
    <!-- Saved in parser cache with key wikidb16_33:pcache:idhash:6894-1!canonical and timestamp 20260109212306 and revision id 34844
 -->
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-10
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Command/iftrialtypesetting">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
