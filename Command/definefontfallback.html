<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Command/definefontfallback&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Command/definefontfallback" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Command/definefontfallback
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=6692&diff=33910">2023-04-22</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1">
       <a href="#.5Cdefinefontfallback">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         \definefontfallback
        </span>
       </a>
       <ul>
        <li class="toclevel-2">
         <a href="#Summary">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           Summary
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Settings">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           Settings
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Description">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           Description
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Examples">
          <span class="tocnumber">
           1.4
          </span>
          <span class="toctext">
           Examples
          </span>
         </a>
         <ul>
          <li class="toclevel-3">
           <a href="#Moustache_brackets">
            <span class="tocnumber">
             1.4.1
            </span>
            <span class="toctext">
             Moustache brackets
            </span>
           </a>
          </li>
          <li class="toclevel-3">
           <a href="#Emojis">
            <span class="tocnumber">
             1.4.2
            </span>
            <span class="toctext">
             Emojis
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2">
         <a href="#Notes">
          <span class="tocnumber">
           1.5
          </span>
          <span class="toctext">
           Notes
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#See_also">
          <span class="tocnumber">
           1.6
          </span>
          <span class="toctext">
           See also
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Help_from_ConTeXt-Mailinglist.2FForum">
          <span class="tocnumber">
           1.7
          </span>
          <span class="toctext">
           Help from ConTeXt-Mailinglist/Forum
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Summary">
      Summary
     </span>
    </h2>
    <div class="cd:shortdesc">
     <p>The command <tt>\definefontfallback</tt> is used to setup fonts for missing characters in the main font.
</p>
    </div>
    <h2>
     <span class="mw-headline" id="Settings">
      Settings
     </span>
    </h2>
    <div class="cd:command1">
     <table cellpadding="3" cellspacing="4" class="cmd">
      <tbody>
       <tr>
        <td class="cmd" colspan="2">\definefontfallback<span class="arg1">[...]</span><span class="arg2">[...]</span><span class="arg3">[...,...]</span><span class="arg4"><i>[...=...,...]</i></span></td>
       </tr>
       <tr class="arg1" valign="top">
        <td class="cmd">[...]</td>
        <td><a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> </td>
       </tr>
       <tr class="arg2" valign="top">
        <td class="cmd">[...]</td>
        <td><a class="cmdvalue" href="../Commandvalue/font.html" title="Commandvalue/font">font</a> <a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> </td>
       </tr>
       <tr class="arg3" valign="top">
        <td class="cmd">[...,...]</td>
        <td><a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> <a class="cmdvalue" href="../Commandvalue/number.html" title="Commandvalue/number">number</a> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">rscale</td>
        <td><a class="cmdvalue" href="../Commandvalue/number.html" title="Commandvalue/number">number</a> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">force</td>
        <td>yes <b>no</b> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">check</td>
        <td>yes <b>no</b> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">offset</td>
        <td><a class="cmdvalue" href="../Commandvalue/number.html" title="Commandvalue/number">number</a> <a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">target</td>
        <td><a class="cmdvalue" href="../Commandvalue/number.html" title="Commandvalue/number">number</a> <a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">features</td>
        <td><a class="cmdvalue" href="../Commandvalue/name.html" title="Commandvalue/name">name</a> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">factor</td>
        <td><a class="cmdvalue" href="../Commandvalue/number.html" title="Commandvalue/number">number</a> </td>
       </tr>
       <tr class="arg4" valign="top">
        <td class="cmd">method</td>
        <td>lowercase uppercase </td>
       </tr>
      </tbody>
     </table>
     <br>
     <table cellpadding="3" cellspacing="4" width="100%">
      <tbody>
       <tr>
        <th align="left" width="20%">
         Option
        </th>
        <th align="left" width="80%">
         Explanation
        </th>
       </tr>
       <tr>
        <td class="doc1" colspan="2">a typescript identifier to use with <tt><a href="definefontsynonym.html" title="Command/definefontsynonym">\definefontsynonym</a></tt></td>
       </tr>
       <tr>
        <td class="doc2" colspan="2">the font to be used for the fallbacks</td>
       </tr>
       <tr>
        <td class="doc3" colspan="2">unicode character ranges or unicode block name(s)</td>
       </tr>
       <tr>
        <td class="doc4" colspan="2">options</td>
       </tr>
       <tr>
        <td class="arg4" valign="top">rscale</td>
        <td>
<table width="100%"><tbody><tr><td class="doc4" colspan="2">relative scaling</td></tr>
</tbody></table></td>
       </tr>
       <tr>
        <td class="arg4" valign="top">force</td>
        <td>
<table width="100%"><tbody><tr><td class="doc4" colspan="2">use the replacement font, even if the main font contains the glyphs</td></tr>
</tbody></table></td>
       </tr>
       <tr>
        <td class="arg4" valign="top">check</td>
        <td>
<table width="100%"><tbody><tr><td class="doc4" colspan="2">check if the main font contains the glyphs (adds some lag)</td></tr>
</tbody></table></td>
       </tr>
       <tr>
        <td class="arg4" valign="top">features</td>
        <td>
<table width="100%"><tbody><tr><td class="doc4" colspan="2">activate font features</td></tr>
</tbody></table></td>
       </tr>
      </tbody>
     </table>
    </div>
    <h2>
     <span class="mw-headline" id="Description">
      Description
     </span>
    </h2>
    <div class="cd:description">
     This command allows to define fallback fonts for certain glyphs which are not found in the main font.  The command takes four arguments where the last one is optional.  The third argument (Unicode ranges) may be either a comma separated list of slots, or a a range with the syntax
     <tt>
      code|1=slot-slot
     </tt>
     or one of the mnemonic names from the following table.
     <p>See <a href="../Unicode_blocks_in_ConTeXt.html" title="Unicode blocks in ConTeXt">Unicode blocks in ConTeXt</a> and <a href="../List_of_Unicode_blocks.html" title="List of Unicode blocks">List of Unicode blocks</a>.
</p>
    </div>
    <h2>
     <span class="mw-headline" id="Examples">
      Examples
     </span>
    </h2>
    <div class="cd:examples">
     <h3>
      <span class="mw-headline" id="Moustache_brackets">
       Moustache brackets
      </span>
     </h3>
     <div class="mw-collapsible">
      <p>We load the moustache brackets from XITS Math because they are not available in Latin Modern Math, which is the default math font.  Of course, the technique also works for text fonts (but not in this page).
</p>
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="stylecs">\definefontfallback</span></span> <span class="brx">[</span>xits-fallback<span class="brx">]</span> <span class="brx">[</span>file:xits-math.otf<span class="brx">]</span> <span class="brx">[</span>023B0,023B1<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definefontsynonym</span></span>  <span class="brx">[</span>MathRoman<span class="brx">]</span>     <span class="brx">[</span>modern<span class="brx">]</span>             <span class="brx">[</span>fallbacks<span class="brx">=</span>xits-fallback<span class="brx">]</span>

Consider this increasing sequence of moustached primes:

<span class="cs"><span class="documentcs">\startformula</span></span>
  <span class="cs">\lmoustache</span> 11 <span class="cs">\rmoustache</span> &lt;

  <span class="cs">\lmoustache</span> 29 <span class="cs">\rmoustache</span> &lt;

  <span class="cs">\lmoustache</span> 31 <span class="cs">\rmoustache</span> &lt;

  <span class="cs">\lmoustache</span> 37 <span class="cs">\rmoustache</span> &lt;

  <span class="cs">\lmoustache</span> 41 <span class="cs">\rmoustache</span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="69" src="../wikiteximage/a42d08c8a43b119fda1065fda7cf56c2.webp" width="414">
       </li>
      </ul>
     </div>
     <h3>
      <span class="mw-headline" id="Emojis">
       Emojis
      </span>
     </h3>
     <div class="mw-collapsible">
      <p>Our main fonts doesn&rsquo;t contain emojis, so we want to take them from a specialized font.
And since emojis are spread over several Unicode blocks, we just say &ldquo;take every unknown glyph from that emoji font&rdquo; (which doesn&rsquo;t work for all symbols, of course).
</p>
      <pre class="tex"><span class="cs"><span class="stylecs">\definefontfallback</span></span><span class="brx">[</span>emojifallback<span class="brx">]</span>
<span class="brx">[</span>name:EmojiOneColor<span class="brx">]</span><span class="brx">[</span>0x00000-0xFFFFF<span class="brx">]</span><span class="brx">[</span>check<span class="brx">=</span>yes,force<span class="brx">=</span>no<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definefontsynonym</span></span> <span class="brx">[</span>Serif<span class="brx">]</span> <span class="brx">[</span>Pagella<span class="brx">]</span>  <span class="brx">[</span>features<span class="brx">=</span>default,fallbacks<span class="brx">=</span>emojifallback<span class="brx">]</span>
</pre>
     </div>
    </div>
    <h2>
     <span class="mw-headline" id="Notes">
      Notes
     </span>
    </h2>
    <div class="cd:notes">
    </div>
    <h2>
     <span class="mw-headline" id="See_also">
      See also
     </span>
    </h2>
    <div class="cd:seealso">
     <ul>
      <li>
       <a class="extiw" href="http://source.contextgarden.net/font-col.mkvi" title="source:font-col.mkvi">
        font-col.mkvi
       </a>
      </li>
      <li>
       <a class="extiw" href="http://source.contextgarden.net/font-col.lua" title="source:font-col.lua">
        font-col.lua
       </a>
      </li>
      <li>
       <a href="definefontfamily.html" title="Command/definefontfamily">
        <tt>
         \definefontfamily
        </tt>
       </a>
      </li>
      <li>
       <a href="definefallbackfamily.html" title="Command/definefallbackfamily">
        <tt>
         \definefallbackfamily
        </tt>
       </a>
      </li>
      <li>
       <a href="../Unicode_blocks_in_ConTeXt.html" title="Unicode blocks in ConTeXt">
        Unicode blocks in ConTeXt
       </a>
      </li>
      <li>
       <a href="../List_of_Unicode_blocks.html" title="List of Unicode blocks">
        List of Unicode blocks
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Help_from_ConTeXt-Mailinglist/Forum">
     </span>
     <span class="mw-headline" id="Help_from_ConTeXt-Mailinglist.2FForum">
      Help from ConTeXt-Mailinglist/Forum
     </span>
    </h2>
    <div>
     <p>All issues with:
</p>
     <ul>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=\definefontfallback+sort:newest" rel="nofollow">
        \definefontfallback on the mailing list (all results)
       </a>
      </li>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=subject:\definefontfallback+sort:newest" rel="nofollow">
        \definefontfallback on the mailing list (subject only)
       </a>
      </li>
      <li>
       <a class="external text" href="https://tex.stackexchange.com/search?q=%5Bcontext%5D+\definefontfallback" rel="nofollow">
        \definefontfallback on stack exchange
       </a>
      </li>
      <li>
       <a class="external text" href="http://source.contextgarden.net/?search=\definefontfallback" rel="nofollow">
        \definefontfallback in ConTeXt's source
       </a>
      </li>
     </ul>
    </div>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-15
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Command/definefontfallback">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
