<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Command/ startmathalignment&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Command/_startmathalignment" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Command/ startmathalignment
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=5621&diff=36076">2024-12-09</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1">
       <a href="#.5Cstartmathalignment_..._.5Cstopmathalignment">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         \start
         <i>
          mathalignment
         </i>
         ... \stop
         <i>
          mathalignment
         </i>
        </span>
       </a>
       <ul>
        <li class="toclevel-2">
         <a href="#Summary">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           Summary
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Instances">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           Instances
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Settings_instance">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           Settings
           <span>
            instance
           </span>
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Description">
          <span class="tocnumber">
           1.4
          </span>
          <span class="toctext">
           Description
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Examples">
          <span class="tocnumber">
           1.5
          </span>
          <span class="toctext">
           Examples
          </span>
         </a>
         <ul>
          <li class="toclevel-3">
           <a href="#Example_1">
            <span class="tocnumber">
             1.5.1
            </span>
            <span class="toctext">
             Example 1
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-2">
         <a href="#Notes">
          <span class="tocnumber">
           1.6
          </span>
          <span class="toctext">
           Notes
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#See_also">
          <span class="tocnumber">
           1.7
          </span>
          <span class="toctext">
           See also
          </span>
         </a>
        </li>
        <li class="toclevel-2">
         <a href="#Help_from_ConTeXt-Mailinglist.2FForum">
          <span class="tocnumber">
           1.8
          </span>
          <span class="toctext">
           Help from ConTeXt-Mailinglist/Forum
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Summary">
      Summary
     </span>
    </h2>
    <div class="cd:shortdesc">
     <p>The instances of  <tt>\start<i>mathalignment</i> ... \stop<i>mathalignment</i></tt> are used for math alignments.
</p>
    </div>
    <h2>
     <span class="mw-headline" id="Instances">
      Instances
     </span>
    </h2>
    <div class="cd:instances">
     <table cellpadding="3" cellspacing="4" width="100%">
      <tbody>
       <tr>
        <td valign="top" width="20%"><span class="cmd">\startalign ...  \stopalign</span></td>
        <td width="80%"></td>
       </tr>
       <tr>
        <td valign="top" width="20%"><span class="cmd">\startmathalignment ...  \stopmathalignment</span></td>
        <td width="80%"></td>
       </tr>
      </tbody>
     </table>
    </div>
    <h2>
     <span class="mw-headline" id="Settings_instance">
      Settings
      <span class="variantname">
       instance
      </span>
     </span>
    </h2>
    <div class="cd:command1">
     <table cellpadding="3" cellspacing="4" class="cmd">
      <tbody>
       <tr>
        <td class="cmd" colspan="2">\start<i>MATHALIGNMENT</i><span class="arg1"><i>[...=...,...]</i></span> ... \stop<i>MATHALIGNMENT</i></td>
       </tr>
       <tr class="arg1" valign="top">
        <td class="cmd">...=...,...</td>
        <td><i>inherits from</i> <a class="cmdref" href="setupmathalignment.html" title="Command/setupmathalignment">\setupmathalignment</a></td>
       </tr>
      </tbody>
     </table>
     <br>
     <table cellpadding="3" cellspacing="4" width="100%">
     </table>
    </div>
    <h2>
     <span class="mw-headline" id="Description">
      Description
     </span>
    </h2>
    <div class="cd:description">
     Using
     <tt>
      <a class="mw-redirect" href="." title="Command/startmathalignment">
       \startmathalignment
      </a>
     </tt>
     one can align mathematical equations similar to what is known from LaTeX's
     <code>amsmath</code>
     package.  It is used inside formulas.  The usage is straightforward:
     <pre class="tex"><span class="cs"><span class="documentcs">\startformula</span></span>
  <span class="cs"><span class="documentcs">\startmathalignment</span></span><span class="brx">[</span>...<span class="brx">=</span>...<span class="brx">]</span>
    <span class="cs">\NC</span> ... <span class="cs">\NC</span> ... <span class="cs">\NR</span>
  <span class="cs"><span class="documentcs">\stopmathalignment</span></span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
     <p>As in tabular materials <tt><a class="new" href="../index.php?title=Command/NC&action=edit&redlink=1.html" title="Command/NC (page does not exist)">\NC</a></tt> is used as column separator and <tt><a class="new" href="../index.php?title=Command/NR&action=edit&redlink=1.html" title="Command/NR (page does not exist)">\NR</a></tt> as row separator.  Whether the formula is numbered can be controlled by prefixing <tt><a href="placeformula.html" title="Command/placeformula">\placeformula</a></tt> to <tt><a href="startformula.html" title="Command/startformula">\startformula</a></tt>.  This will place a single number vertically centred with respect to the equation.  When all the subformulas should be numbered individually, one specifies <code>number=auto</code>.
</p>
     <p>There is a predefined shorthand for <tt><a class="mw-redirect" href="." title="Command/startmathalignment">\startmathalignment</a></tt> which is <tt><a class="mw-redirect" href="." title="Command/startalign">\startalign</a></tt> to match the <code>amsmath</code> name.  However, <tt><a class="mw-redirect" href="." title="Command/startmathalignment">\startmathalignment</a></tt> should be preferred, as <tt><a class="mw-redirect" href="." title="Command/startalign">\startalign</a></tt> already has a different meaning outside math mode.
</p>
    </div>
    <h2>
     <span class="mw-headline" id="Examples">
      Examples
     </span>
    </h2>
    <div class="cd:examples">
     <h3>
      <span class="mw-headline" id="Example_1">
       Example 1
      </span>
     </h3>
     <div class="mw-collapsible">
      <p>To imitate certain LaTeX contructs (some might not yet work on the Wiki).  More examples can be found in <a class="external text" href="https://www.ntg.nl/maps/34/06.pdf" rel="nofollow">A. Mahajan, <i>Display Math in ConTeXt</i>, MAPS <b>34</b>, 22&ndash;34 (2006).</a>
</p>
      <ul>
       <li>
        <code>align</code>
       </li>
      </ul>
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="documentcs">\placeformula</span></span>
<span class="cs"><span class="documentcs">\startformula</span></span>
  <span class="cs"><span class="documentcs">\startmathalignment</span></span><span class="brx">[</span>number<span class="brx">=</span>auto<span class="brx">]</span>
    <span class="cs">\NC</span> v <span class="cs">\NC</span><span class="brx">=</span> u + at, <span class="cs">\NR</span>
    <span class="cs">\NC</span> d <span class="cs">\NC</span><span class="brx">=</span> ut + <span class="cs"><span class="documentcs">\frac</span></span><span class="br">{</span>1<span class="br">}</span><span class="br">{</span>2<span class="br">}</span> at^2. <span class="cs">\NR</span>
  <span class="cs"><span class="documentcs">\stopmathalignment</span></span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="83" src="../wikiteximage/d300fe75c60adf6760ba1b2dd7620126.webp" width="624">
       </li>
      </ul>
      <ul>
       <li>
        <code>gather</code>
       </li>
      </ul>
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="documentcs">\placeformula</span></span>
<span class="cs"><span class="documentcs">\startformula</span></span>
  <span class="cs"><span class="documentcs">\startmathalignment</span></span><span class="brx">[</span>n<span class="brx">=</span>1,number<span class="brx">=</span>auto<span class="brx">]</span>
    <span class="cs">\NC</span> v <span class="brx">=</span> u + at, <span class="cs">\NR</span>
    <span class="cs">\NC</span> d <span class="brx">=</span> ut + <span class="cs"><span class="documentcs">\frac</span></span><span class="br">{</span>1<span class="br">}</span><span class="br">{</span>2<span class="br">}</span> at^2. <span class="cs">\NR</span>
  <span class="cs"><span class="documentcs">\stopmathalignment</span></span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="83" src="../wikiteximage/1d5ea4f664b559a84cabb0e072749063.webp" width="624">
       </li>
      </ul>
      <ul>
       <li>
        <code>alignat</code>
       </li>
      </ul>
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="documentcs">\placeformula</span></span>
<span class="cs"><span class="documentcs">\startformula</span></span>
  <span class="cs"><span class="documentcs">\startmathalignment</span></span>
    <span class="brx">[</span>n<span class="brx">=</span>7,align<span class="brx">=</span><span class="br">{</span>right,left,right,left,right,left,right<span class="br">}</span><span class="brx">]</span>
    <span class="cs">\NC</span> x_1 <span class="cs">\NC</span> + <span class="cs">\NC</span> x_2 <span class="cs">\NC</span> + <span class="cs">\NC</span> 6x_3 <span class="cs">\NC</span> <span class="brx">=</span> <span class="cs">\NC</span> 170, <span class="cs">\NR</span>
    <span class="cs">\NC</span> 3x_1 <span class="cs">\NC</span> - <span class="cs">\NC</span> 110x_2 <span class="cs">\NC</span> - <span class="cs">\NC</span> x_3 <span class="cs">\NC</span> <span class="brx">=</span> <span class="cs">\NC</span> 4, <span class="cs">\NR</span>
    <span class="cs">\NC</span> 14x_1 <span class="cs">\NC</span> + <span class="cs">\NC</span> 13x_2 <span class="cs">\NC</span> + <span class="cs">\NC</span> 10x_3 <span class="cs">\NC</span> <span class="brx">=</span> <span class="cs">\NC</span> 25. <span class="cs">\NR</span>
  <span class="cs"><span class="documentcs">\stopmathalignment</span></span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="113" src="../wikiteximage/03f21d8ebd6d2aed9f4c62f93dd34261.webp" width="624">
       </li>
      </ul>
      <p><b>Note:</b> In ConTeXt LMTX 2024.10.31, the above example should be modified as follows to reproduce the same behaviour:
</p>
      <ul class="demo">
       <li class="code">
        <pre class="tex"><span class="cs"><span class="documentcs">\placeformula</span></span>
<span class="cs"><span class="documentcs">\startformula</span></span>
  <span class="cs"><span class="documentcs">\startmathalignment</span></span>
    <span class="brx">[</span>n<span class="brx">=</span>7,align<span class="brx">=</span><span class="br">{</span>1:right,2:left,3:right,4:left,5:right,6:left,7:right<span class="br">}</span><span class="brx">]</span>
    <span class="cs">\NC</span> x_1 <span class="cs">\NC</span> + <span class="cs">\NC</span> x_2 <span class="cs">\NC</span> + <span class="cs">\NC</span> 6x_3 <span class="cs">\NC</span> <span class="brx">=</span> <span class="cs">\NC</span> 170, <span class="cs">\NR</span>
    <span class="cs">\NC</span> 3x_1 <span class="cs">\NC</span> - <span class="cs">\NC</span> 110x_2 <span class="cs">\NC</span> - <span class="cs">\NC</span> x_3 <span class="cs">\NC</span> <span class="brx">=</span> <span class="cs">\NC</span> 4, <span class="cs">\NR</span>
    <span class="cs">\NC</span> 14x_1 <span class="cs">\NC</span> + <span class="cs">\NC</span> 13x_2 <span class="cs">\NC</span> + <span class="cs">\NC</span> 10x_3 <span class="cs">\NC</span> <span class="brx">=</span> <span class="cs">\NC</span> 25. <span class="cs">\NR</span>
  <span class="cs"><span class="documentcs">\stopmathalignment</span></span>
<span class="cs"><span class="documentcs">\stopformula</span></span>
</pre>
       </li>
       <li class="rendering">
        <img height="113" src="../wikiteximage/fd8e9ed2ec3f72cb97a239cbb52ac1da.webp" width="624">
       </li>
      </ul>
     </div>
    </div>
    <h2>
     <span class="mw-headline" id="Notes">
      Notes
     </span>
    </h2>
    <div class="cd:notes">
    </div>
    <h2>
     <span class="mw-headline" id="See_also">
      See also
     </span>
    </h2>
    <div class="cd:seealso">
     <ul>
      <li>
       <a href="definemathalignment.html" title="Command/definemathalignment">
        <tt>
         \definemathalignment
        </tt>
       </a>
      </li>
      <li>
       <a href="setupmathalignment.html" title="Command/setupmathalignment">
        <tt>
         \setupmathalignment
        </tt>
       </a>
      </li>
      <li>
       <a class="extiw" href="http://source.contextgarden.net/math-ali.mkiv" title="source:math-ali.mkiv">
        math-ali.mkiv
       </a>
      </li>
      <li>
       <a href="placeformula.html" title="Command/placeformula">
        <tt>
         \placeformula
        </tt>
       </a>
      </li>
      <li>
       <a href="startformula.html" title="Command/startformula">
        <tt>
         \startformula
        </tt>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Help_from_ConTeXt-Mailinglist/Forum">
     </span>
     <span class="mw-headline" id="Help_from_ConTeXt-Mailinglist.2FForum">
      Help from ConTeXt-Mailinglist/Forum
     </span>
    </h2>
    <div>
     <p>All issues with:
</p>
     <ul>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=\startalign+sort:newest" rel="nofollow">
        \startalign on the mailing list (all results)
       </a>
      </li>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=subject:\startalign+sort:newest" rel="nofollow">
        \startalign on the mailing list (subject only)
       </a>
      </li>
      <li>
       <a class="external text" href="https://tex.stackexchange.com/search?q=%5Bcontext%5D+\startalign" rel="nofollow">
        \startalign on stack exchange
       </a>
      </li>
      <li>
       <a class="external text" href="http://source.contextgarden.net/?search=\startalign" rel="nofollow">
        \startalign in ConTeXt's source
       </a>
      </li>
     </ul>
     <ul>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=\startmathalignment+sort:newest" rel="nofollow">
        \startmathalignment on the mailing list (all results)
       </a>
      </li>
      <li>
       <a class="external text" href="http://www.mail-archive.com/search?l=ntg-context%40ntg.nl&q=subject:\startmathalignment+sort:newest" rel="nofollow">
        \startmathalignment on the mailing list (subject only)
       </a>
      </li>
      <li>
       <a class="external text" href="https://tex.stackexchange.com/search?q=%5Bcontext%5D+\startmathalignment" rel="nofollow">
        \startmathalignment on stack exchange
       </a>
      </li>
      <li>
       <a class="external text" href="http://source.contextgarden.net/?search=\startmathalignment" rel="nofollow">
        \startmathalignment in ConTeXt's source
       </a>
      </li>
     </ul>
    </div>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-11
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Command/_startmathalignment">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
