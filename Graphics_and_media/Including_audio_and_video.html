<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Graphics and media/Including audio and video&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Graphics_and_media/Including_audio_and_video" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Graphics and media/Including audio and video
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=6678&diff=41667">2025-01-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h3>
       Contents
      </h3>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#How_PDF_Handles_Multimedia">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         How PDF Handles Multimedia
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-2">
         <a href="#Renditions">
          <span class="tocnumber">
           1.1
          </span>
          <span class="toctext">
           Renditions
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-3">
         <a href="#Rich_Media">
          <span class="tocnumber">
           1.2
          </span>
          <span class="toctext">
           Rich Media
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-4">
         <a href="#ConTeXt_Support">
          <span class="tocnumber">
           1.3
          </span>
          <span class="toctext">
           ConTeXt Support
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-5">
       <a href="#Including_Video">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Including Video
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-6">
         <a href="#Explanation">
          <span class="tocnumber">
           2.1
          </span>
          <span class="toctext">
           Explanation
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-7">
       <a href="#Audio_Inclusion">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Audio Inclusion
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-8">
       <a href="#Extra_Features">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Extra Features
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-9">
       <a href="#PDF_Viewers">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         PDF Viewers
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-10">
       <a href="#Footnotes">
        <span class="tocnumber">
         6
        </span>
        <span class="toctext">
         Footnotes
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="How_PDF_Handles_Multimedia">
      How PDF Handles Multimedia
     </span>
    </h2>
    <p>ConTeXt LMTX can include multimedia files in PDF documents. But this inclusion depends on how PDF handles multimedia.
</p>
    <p>There are mainly two ways of including multimedia in PDF: renditions and rich media.
</p>
    <p>Renditions were the standard way of handling multimedia in PDF&ndash;1.7.
</p>
    <p>Rich media were added as an addition to PDF&ndash;1.7 and were fully incorporated in PDF&ndash;2.0.
</p>
    <h3>
     <span class="mw-headline" id="Renditions">
      Renditions
     </span>
    </h3>
    <p>The public PDF specification (version 1.7) includes a way of including multimedia, called renditions or mediaclips.<sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>
</p>
    <p>Although <i>Adobe</i> seems to handle them as legacy code, these are part of the newer PDF&ndash;2.0 specification.<sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup>
</p>
    <p>The main feature with renditions is that the PDF viewer relies on the OS to reproduce the media.
</p>
    <p>The main gain and drawback of this feature is that format and capabilities are only limited by the OS standard player.
</p>
    <h3>
     <span class="mw-headline" id="Rich_Media">
      Rich Media
     </span>
    </h3>
    <p>Rich media were added as an extension in a supplement to the first ISO PDF standard<sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup>.
</p>
    <p>Originally, rich media for multimedia involved the use of <i>Flash</i> (which <i>Adobe</i> itself deprecated after 2020). To the best of my knowledge, rich media for PDF&ndash;2.0 (without <i>Flash</i>) seems to be something that its technical working group may be specifying.<sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup>
</p>
    <h3>
     <span class="mw-headline" id="ConTeXt_Support">
      ConTeXt Support
     </span>
    </h3>
    <p>ConTeXt LMTX supports renditions only, since from PDF&ndash;2.0 getting any specification relateds to the format is complicated and not free at all.<sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup>
</p>
    <h2>
     <span class="mw-headline" id="Including_Video">
      Including Video
     </span>
    </h2>
    <p>A minimal sample code to include video would read:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs">\null</span><span class="cs"><span class="documentcs">\page</span></span>
<span class="cs"><span class="stylecs">\definerenderingwindow</span></span><span class="brx">[</span>myrenderingwindow<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span><span class="cs">\textwidth</span>, height<span class="brx">=</span><span class="cs">\textwidth</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\startTEXpage</span></span><span class="brx">[</span>offset<span class="brx">=</span>1ex, pagestate<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs">\userendering</span><span class="brx">[</span>key-name<span class="brx">]</span><span class="brx">[</span>video/mp4<span class="brx">]</span><span class="brx">[</span>video.mp4<span class="brx">]</span>
  <span class="brx">[</span>embed<span class="brx">=</span>yes, auto<span class="brx">]</span>
<span class="cs"><span class="stylecs">\placerenderingwindow</span></span><span class="brx">[</span>myrenderingwindow<span class="brx">]</span><span class="brx">[</span>key-name<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stopTEXpage</span></span>
<span class="cs">\null</span><span class="cs"><span class="documentcs">\page</span></span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <p>A <code>video.mp4</code> file is required to be on the same directory as your ConTeXt source file, so the resulting PDF file can have it embedded. If the file isn&rsquo;t embedded, it needs to be on the same directory as the PDF document (so it can be invoked as external file).
</p>
    <p>The output PDF contains three pages and the second pages contains your <code>video.mp4</code>.
</p>
    <p>Once the second page is reached, video will be automatically played. It will be automatically closed, when the page containing it is left.
</p>
    <h3>
     <span class="mw-headline" id="Explanation">
      Explanation
     </span>
    </h3>
    <p>Three commands are required to include multimedia: <tt><a class="new" href="../index.php?title=Command/definerenderingwindow&action=edit&redlink=1.html" title="Command/definerenderingwindow (page does not exist)">\definerenderingwindow</a></tt>, <tt><a class="new" href="../index.php?title=Command/userendering&action=edit&redlink=1.html" title="Command/userendering (page does not exist)">\userendering</a></tt> and <tt><a class="new" href="../index.php?title=Command/placerenderingwindow&action=edit&redlink=1.html" title="Command/placerenderingwindow (page does not exist)">\placerenderingwindow</a></tt>.
</p>
    <ol>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/definerenderingwindow&action=edit&redlink=1.html" title="Command/definerenderingwindow (page does not exist)">
        \definerenderingwindow
       </a>
      </tt>
      creates the window to display the media (inherits options from
      <tt>
       <a href="../Command/setupframed.html" title="Command/setupframed">
        \setupframed
       </a>
      </tt>
      .
     </li>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/userendering&action=edit&redlink=1.html" title="Command/userendering (page does not exist)">
        \userendering
       </a>
      </tt>
      selects the media to be displayed and specifies its MIME type. Its options are
      <code>embed</code>
      (which equals to
      <code>yes</code>
      or
      <code>no</code>
      ) and
      <code>auto</code>
      (media is played/stopped when page containing the media is reached/left).
     </li>
     <li>
      <tt>
       <a class="new" href="../index.php?title=Command/placerenderingwindow&action=edit&redlink=1.html" title="Command/placerenderingwindow (page does not exist)">
        \placerenderingwindow
       </a>
      </tt>
      : places the multimedia content by linking the window and the media to be rendered.
     </li>
    </ol>
    <p>Nothing prevents you from creating a command for video inclusion such as:
</p>
    <pre class="tex"><span class="cs">\unexpanded</span><span class="cs">\def</span><span class="cs">\IncludeMPFour</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span>
  <span class="br">{</span><span class="cs"><span class="stylecs">\definerenderingwindow</span></span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span>
    <span class="brx">[</span>width<span class="brx">=</span><span class="cs">\textwidth</span>, height<span class="brx">=</span><span class="cs">\textwidth</span><span class="brx">]</span>
   <span class="cs">\userendering</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span>video/mp4<span class="brx">]</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span>
    <span class="brx">[</span>embed<span class="brx">=</span>yes, auto<span class="brx">]</span>
   <span class="cs"><span class="stylecs">\placerenderingwindow</span></span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="br">}</span>
</pre>
    <p>It could be invoked as <tt><a class="new" href="../index.php?title=Command/IncludeMPFour&action=edit&redlink=1.html" title="Command/IncludeMPFour (page does not exist)">\IncludeMPFour</a>[video.mp4]</tt>. Of course, rendering window dimensions, embedding and auto playback will be the same for all videos using this command.
</p>
    <h2>
     <span class="mw-headline" id="Audio_Inclusion">
      Audio Inclusion
     </span>
    </h2>
    <p>Audio may not really need a visible rendering window (when playing controls aren&rsquo;t displayed).
</p>
    <p>In that case, you have to define a frame with width and height of <tt><a class="new" href="../index.php?title=Command/zeropoint&action=edit&redlink=1.html" title="Command/zeropoint (page does not exist)">\zeropoint</a></tt>.
</p>
    <p>Also the MIME type should be different, since the file type is different.
</p>
    <p>Another way to define a general command to include audio would be:
</p>
    <pre class="tex"><span class="cs">\unexpanded</span><span class="cs">\def</span><span class="cs">\IncludeMPThree</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span>
  <span class="br">{</span><span class="cs"><span class="stylecs">\definerenderingwindow</span></span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span>
    <span class="brx">[</span>width<span class="brx">=</span><span class="cs">\zeropoint</span>, height<span class="brx">=</span><span class="cs">\zeropoint</span><span class="brx">]</span>
   <span class="cs">\userendering</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span>audio/mp3<span class="brx">]</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span>
    <span class="brx">[</span>embed<span class="brx">=</span>yes, auto<span class="brx">]</span>
   <span class="cs"><span class="stylecs">\placerenderingwindow</span></span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="br">}</span>
</pre>
    <h2>
     <span class="mw-headline" id="Extra_Features">
      Extra Features
     </span>
    </h2>
    <p>There is an improvement (pending to be added) which will configure:
</p>
    <ol>
     <li>
      <code>controls</code>
      :
      <code>yes</code>
      or
      <code>no</code>
      , default to
      <code>no</code>
      .
     </li>
     <li>
      <code>volume</code>
      : from
      <code>0</code>
      to
      <code>100</code>
      , default to
      <code>100</code>
      .
     </li>
     <li>
      <code>repeat</code>
      : any positive number,
      <code>0</code>
      repeats forever, default no repeat (
      <code>1</code>
      ).
     </li>
     <li>
      <code>opacity</code>
      : from
      <code>0.0</code>
      (fully transparent) to
      <code>1.0</code>
      (fully opaque).
     </li>
    </ol>
    <p>All defaults are not set by ConTeXt, but by the PDF specification.
</p>
    <h2>
     <span class="mw-headline" id="PDF_Viewers">
      PDF Viewers
     </span>
    </h2>
    <p>The latest released <i>Acrobat Reader DC</i> is able to display the multimedia (that your OS default player also handles).<sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup>
</p>
    <p>The latest version of <i>Foxit Reader</i> seems to be able to handle renditions.
</p>
    <p><i>Poppler</i> automatically plays the included media, although it still doesn&rsquo;t handle the automatic actions included with the screen annotation (there is a patch pending to be merged).
</p>
    <h2>
     <span class="mw-headline" id="Footnotes">
      Footnotes
     </span>
    </h2>
    <div class="mw-references-wrap">
     <ol class="references">
      <li id="cite_note-1">
       <span class="mw-cite-backlink">
        <a href="#cite_ref-1">
         &uarr;
        </a>
       </span>
       <span class="reference-text">
        As explained in
        <i>
         13.2 Multimedia
        </i>
        from the PDF specification,
        <a class="external free" href="https://opensource.adobe.com/dc-acrobat-sdk-docs/standards/pdfstandards/pdf/PDF32000_2008.pdf#G12.2317045" rel="nofollow">
         https://opensource.adobe.com/dc-acrobat-sdk-docs/standards/pdfstandards/pdf/PDF32000_2008.pdf#G12.2317045
        </a>
        .
       </span>
      </li>
      <li id="cite_note-2">
       <span class="mw-cite-backlink">
        <a href="#cite_ref-2">
         &uarr;
        </a>
       </span>
       <span class="reference-text">
        From PDF&ndash;2.0, the specification constitutes a copyrighted ISO standard. Thanks to the Arlington PDF Model (
        <a class="external free" href="https://github.com/pdf-association/arlington-pdf-model" rel="nofollow">
         https://github.com/pdf-association/arlington-pdf-model
        </a>
        ), the elements of the PDF model may be still checked there.
       </span>
      </li>
      <li id="cite_note-3">
       <span class="mw-cite-backlink">
        <a href="#cite_ref-3">
         &uarr;
        </a>
       </span>
       <span class="reference-text">
        Section
        <i>
         9.6 Rich Media
        </i>
        from
        <i>
         Adobe&reg; Supplement to ISO 32000: BaseVersion 1.7, ExtensionLevel 3
        </i>
        (original location
        <a class="external free" href="https://www.adobe.com/content/dam/acom/en/devnet/acrobat/pdfs/adobe_supplement_iso32000.pdf#G10.1527015" rel="nofollow">
         https://www.adobe.com/content/dam/acom/en/devnet/acrobat/pdfs/adobe_supplement_iso32000.pdf#G10.1527015
        </a>
        , available thanks to the
        <i>
         Internet Archive
        </i>
        :
        <a class="external free" href="https://web.archive.org/web/20210308070824if_/https://www.adobe.com/content/dam/acom/en/devnet/acrobat/pdfs/adobe_supplement_iso32000.pdf#G10.1527015" rel="nofollow">
         https://web.archive.org/web/20210308070824if_/https://www.adobe.com/content/dam/acom/en/devnet/acrobat/pdfs/adobe_supplement_iso32000.pdf#G10.1527015
        </a>
        ).
       </span>
      </li>
      <li id="cite_note-4">
       <span class="mw-cite-backlink">
        <a href="#cite_ref-4">
         &uarr;
        </a>
       </span>
       <span class="reference-text">
        <a class="external free" href="https://www.pdfa.org/community/rich-media-twg/" rel="nofollow">
         https://www.pdfa.org/community/rich-media-twg/
        </a>
        . A recent description from that TWG chair may be found at
        <a class="external free" href="https://www.pdfa.org/presentation/leveling-up-richmedia/" rel="nofollow">
         https://www.pdfa.org/presentation/leveling-up-richmedia/
        </a>
        .
       </span>
      </li>
      <li id="cite_note-5">
       <span class="mw-cite-backlink">
        <a href="#cite_ref-5">
         &uarr;
        </a>
       </span>
       <span class="reference-text">
        Just an example,
        <i>
         ECMAScript for PDF
        </i>
        (short title for
        <i>
         Document management &mdash; ECMAScript for PDF &mdash; Part 1: Use of ISO 32000-2 (PDF 2.0)
        </i>
        ) only means CHFâ€¯208 in payment (
        <a class="external free" href="https://www.iso.org/standard/71559.html" rel="nofollow">
         https://www.iso.org/standard/71559.html
        </a>
        ). According to
        <a class="external free" href="https://www.pdfa.org/wp-content/uploads/2022/08/1615-Zellmann.pdf#page=16" rel="nofollow">
         https://www.pdfa.org/wp-content/uploads/2022/08/1615-Zellmann.pdf#page=16
        </a>
        , just joining working groups&mdash;such as the one that deals with rich media&mdash;requires membership (which may be achieved a liaison, through a non&ndash;profit organization).
       </span>
      </li>
      <li id="cite_note-6">
       <span class="mw-cite-backlink">
        <a href="#cite_ref-6">
         &uarr;
        </a>
       </span>
       <span class="reference-text">
        You may need enable &ldquo;legacy&rdquo; content in
        <i>
         Acrobat
        </i>
        first.
       </span>
      </li>
     </ol>
    </div>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-18
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Graphics_and_media/Including_audio_and_video">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
