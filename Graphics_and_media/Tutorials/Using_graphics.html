<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Graphics and media/Tutorials/Using graphics&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Graphics_and_media/Tutorials/Using_graphics" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Graphics and media/Tutorials/Using graphics
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=735&diff=42116">2025-02-03</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h3>
       Contents
      </h3>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Usage">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Usage
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#File_formats_and_file_conversion">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         File formats and file conversion
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-3">
         <a href="#Native_support_without_conversion">
          <span class="tocnumber">
           2.1
          </span>
          <span class="toctext">
           Native support without conversion
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-4">
         <a href="#Native_support_with_conversion">
          <span class="tocnumber">
           2.2
          </span>
          <span class="toctext">
           Native support with conversion
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-5">
       <a href="#Image_files_locations">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Image files locations
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-6">
         <a href="#Local_image_files">
          <span class="tocnumber">
           3.1
          </span>
          <span class="toctext">
           Local image files
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-7">
         <a href="#Remote_image_files_and_cache">
          <span class="tocnumber">
           3.2
          </span>
          <span class="toctext">
           Remote image files and cache
          </span>
         </a>
         <ul>
          <li class="toclevel-3 tocsection-8">
           <a href="#HTTP_Proxy">
            <span class="tocnumber">
             3.2.1
            </span>
            <span class="toctext">
             HTTP Proxy
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-9">
           <a href="#HTTPS">
            <span class="tocnumber">
             3.2.2
            </span>
            <span class="toctext">
             HTTPS
            </span>
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-10">
       <a href="#Transformations">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Transformations
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-11">
         <a href="#Image_Scaling">
          <span class="tocnumber">
           4.1
          </span>
          <span class="toctext">
           Image Scaling
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-12">
         <a href="#Image_Dimension_Restriction">
          <span class="tocnumber">
           4.2
          </span>
          <span class="toctext">
           Image Dimension Restriction
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-13">
         <a href="#Image_Rotation">
          <span class="tocnumber">
           4.3
          </span>
          <span class="toctext">
           Image Rotation
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-14">
         <a href="#Image_Mirroring">
          <span class="tocnumber">
           4.4
          </span>
          <span class="toctext">
           Image Mirroring
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-15">
         <a href="#Image_Clipping">
          <span class="tocnumber">
           4.5
          </span>
          <span class="toctext">
           Image Clipping
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-16">
       <a href="#Troubleshooting">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         Troubleshooting
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-17">
         <a href="#Visualize_Bounding_Box">
          <span class="tocnumber">
           5.1
          </span>
          <span class="toctext">
           Visualize Bounding Box
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-18">
         <a href="#Diagnostic_Tracking">
          <span class="tocnumber">
           5.2
          </span>
          <span class="toctext">
           Diagnostic Tracking
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-19">
         <a href="#.5Cexternalfigure_at_the_beginning_of_a_paragraph">
          <span class="tocnumber">
           5.3
          </span>
          <span class="toctext">
           \externalfigure at the beginning of a paragraph
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-20">
       <a href="#Multiple_Image_Settings">
        <span class="tocnumber">
         6
        </span>
        <span class="toctext">
         Multiple Image Settings
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-21">
         <a href="#Image_Settings">
          <span class="tocnumber">
           6.1
          </span>
          <span class="toctext">
           Image Settings
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-22">
         <a href="#Image_Labels">
          <span class="tocnumber">
           6.2
          </span>
          <span class="toctext">
           Image Labels
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-23">
       <a href="#Movies">
        <span class="tocnumber">
         7
        </span>
        <span class="toctext">
         Movies
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Usage">
      Usage
     </span>
    </h2>
    <p>The simplest way to insert an image is to use <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt> like:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>cow.pdf<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/c56105ca8aa8837994635ea26df16795.webp" width="307">
     </li>
    </ul>
    <p>This command places the PDF image <tt>cow.pdf</tt> in a <tt><a class="new" href="../../index.php?title=Command/vbox&action=edit&redlink=1.html" title="Command/vbox (page does not exist)">\vbox</a></tt>; the width and height of the image are equal to the natural dimensions of the image.
</p>
    <p>To set the width of the image to a specific size, say <tt>1cm</tt>, or to set the height of the image to a specific size, say <tt>2cm</tt>, use:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>cow.pdf<span class="brx">]</span><span class="brx">[</span>width<span class="brx">=</span>1cm<span class="brx">]</span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>cow.pdf<span class="brx">]</span><span class="brx">[</span>height<span class="brx">=</span>2cm<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/5c7adfa630139c1bcb6e0b2b75705d08.webp" width="307">
     </li>
    </ul>
    <p>If only the <tt>width</tt> or <tt>height</tt> of the image is specified, the other dimension is scaled appropriately to keep the aspect ratio.
</p>
    <p>To include a specific page, say page 66, of a multi-page PDF file, use the <code>page=</code> option:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
Cover:
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>http://www.pragma-ade.nl/general/manuals/luametafun.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>1.5cm<span class="brx">]</span>

Page 66:
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>http://www.pragma-ade.nl/general/manuals/luametafun.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>1.5cm,
   page<span class="brx">=</span>66<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/baca835a814525e9a00414b75ce2efbf.webp" width="307">
     </li>
    </ul>
    <p>These three variations cover the most common use cases.
</p>
    <p>One remark with PDF files, by default, the interactive elements of the included PDF file are discarded. To enable the interactive elements of the included PDF file, use
</p>
    <pre class="tex"><span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>filename.pdf<span class="brx">]</span><span class="brx">[</span>interaction<span class="brx">=</span>yes<span class="brx">]</span></pre>
    <p><br>
For further reading, don't forget <a href="../Including_pages_from_PDF_documents.html" title="Graphics and media/Including pages from PDF documents">Including pages from PDF documents</a>, and have a look to all the potential options of <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt> defined in <tt><a href="../../Command/setupexternalfigure.html" title="Command/setupexternalfigure">\setupexternalfigure</a></tt>.
</p>
    <h2>
     <span class="mw-headline" id="File_formats_and_file_conversion">
      File formats and file conversion
     </span>
    </h2>
    <h3>
     <span class="mw-headline" id="Native_support_without_conversion">
      Native support without conversion
     </span>
    </h3>
    <p>ConTeXt natively supports the image formats enumerated below. The image format is determined from the file extension (case insensitive).
</p>
    <ul>
     <li>
      <b>
       PDF
      </b>
      : File extension
      <tt>
       .pdf
      </tt>
     </li>
     <li>
      <b>
       MPS
      </b>
      (MetaPost output): File extension
      <tt>
       .mps
      </tt>
      or
      <tt>
       .&lt;digits&gt;
      </tt>
     </li>
     <li>
      <b>
       JPEG
      </b>
      : File extension
      <tt>
       .jpg
      </tt>
      or
      <tt>
       .jpeg
      </tt>
     </li>
     <li>
      <b>
       PNG
      </b>
      : File extension
      <tt>
       .png
      </tt>
     </li>
     <li>
      <b>
       JPEG 2000
      </b>
      : File extension
      <tt>
       .jp2
      </tt>
     </li>
     <li>
      <b>
       JBIG
      </b>
      or
      <b>
       JBIG2
      </b>
      : File extension
      <tt>
       .jbig
      </tt>
      ,
      <tt>
       .jbig2
      </tt>
      , or
      <tt>
       .jb2
      </tt>
     </li>
    </ul>
    <p>An old page (2010), gives details on supported <a href="../File_formats.html" title="Graphics and media/File formats">File formats</a>
</p>
    <h3>
     <span class="mw-headline" id="Native_support_with_conversion">
      Native support with conversion
     </span>
    </h3>
    <p>The image file formats listed in the previous section are the ones that may be embedded directly in a PDF. ConTeXt also supports a few other formats that are first converted to PDF using an external program. Of course, for such a conversion to work, the corresponding converter must be in the <tt>PATH</tt>.
</p>
    <table>
     <tbody>
      <tr class="odd">
       <td align="left">Format</td>
       <td align="left">Extension</td>
       <td align="left">Converter</td>
      </tr>
      <tr class="even">
       <td align="left"><strong>SVG</strong></td>
       <td align="left"><code>.svg</code>, <code>.svgz</code></td>
       <td align="left"><code>inkscape</code></td>
      </tr>
      <tr class="odd">
       <td align="left"><strong>EPS</strong></td>
       <td align="left"><code>.eps</code>, <code>.ai</code></td>
       <td align="left"><code>gs</code> (or <code>gswin32c</code> on Windows) from Ghostscript</td>
      </tr>
      <tr class="even">
       <td align="left"><strong>GIF</strong></td>
       <td align="left"><code>.gif</code></td>
       <td align="left"><code>gm convert</code> from GraphicsMagick</td>
      </tr>
      <tr class="odd">
       <td align="left"><strong>TIFF</strong></td>
       <td align="left"><code>.tiff</code></td>
       <td align="left"><code>gm convert</code> from GraphicsMagick</td>
      </tr>
      <tr class="even">
       <td align="left"><strong>BMP</strong></td>
       <td align="left"><code>.bmp</code></td>
       <td align="left"><code>gm convert</code> from GraphicsMagick</td>
      </tr>
     </tbody>
    </table>
    <p>The conversion generates a PDF file with prefix <tt>m_k_i_v_</tt> and a suffix <tt>.pdf</tt> added to the name of the original file. The result is cached, and the conversion is re-run if the timestamp of the original file is newer than that of the converted file.
</p>
    <p>In LMTX, the file name contains a MD5 hash of the relevant source image parameters (resolution, dimensions, ...), e.g.:
</p>
    <pre>hacker_jpg_c60ccda70ef92e32d7a6334f31c23259.gray.pdf 
</pre>
    <p>It is possible to change the converter used with the following code:
</p>
    <pre>\startluacode
local function downsampler(oldname, newname, resolution)
    if not resolution or resolution == "" then
        resolution = 50
    end
    os.execute(string.format(
        'gm convert -density %ix%i "%s" "%s"',
        resolution, resolution, oldname, newname)
    )
end

-- Set the PDF and default TIFF converters to the above function.
figures.converters.tif.pdf = downsampler
figures.converters.tif.default = downsampler
-- Hint: This works also for jpg or png!
\stopluacode

\starttext
  % Substitute any TIFF here.
  \externalfigure[cow.tiff]
\stoptext
</pre>
    <p>See also <a class="external text" href="https://source.contextgarden.net/tex/context/base/mkiv/grph-inc.lua" rel="nofollow">grph-inc.lua</a>
</p>
    <h2>
     <span class="mw-headline" id="Image_files_locations">
      Image files locations
     </span>
    </h2>
    <h3>
     <span class="mw-headline" id="Local_image_files">
      Local image files
     </span>
    </h3>
    <p>By default, ConTeXt searches an image in the current directory, the parent directory, and the grand-parent directory.
</p>
    <p>To search for images in other directories, for example a <tt>./images</tt> subdirectory and <tt>/home/user/images</tt>, use <tt><a href="../../Command/setupexternalfigures.html" title="Command/setupexternalfigures">\setupexternalfigures</a></tt>:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupexternalfigures</span></span><span class="brx">[</span>directory<span class="brx">=</span><span class="br">{</span>images, /home/user/images<span class="br">}</span><span class="brx">]</span></pre>
    <p>Note: always use forward slashes (<code>/</code>) in path names, regardless of operating system.
</p>
    <p>The default search order is: the current directory, the parent directory, the grand-parent directory, and then the paths specified by the <tt>directory</tt> key. To restrict image search only to the paths specified by the <tt>directory</tt> key, use:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupexternalfigures</span></span><span class="brx">[</span>location<span class="brx">=</span>global<span class="brx">]</span></pre>
    <p>To restore the default search behavior, use:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupexternalfigures</span></span><span class="brx">[</span>location<span class="brx">=</span><span class="br">{</span>local,global<span class="br">}</span><span class="brx">]</span></pre>
    <p>The ConTeXt distribution includes three sample images: <tt>cow.pdf</tt>, <tt>mill.png</tt>, and <tt>hacker.jpg</tt>, that are useful when creating minimum working examples to illustrate a bug on the mailing list. These images are located in the <tt>TEXMF</tt> directory. To add the <tt>TEXMF</tt> directory to the image search path, use:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupexternalfigures</span></span><span class="brx">[</span>location<span class="brx">=</span><span class="br">{</span>local,global,default<span class="br">}</span><span class="brx">]</span></pre>
    <p>The above alternative adds the <i>entire</i> <tt>TEXMF</tt> directory to the search path, <i>including the</i> <tt>doc/</tt> <i>directory!</i> Therefore, one needs to be extremely careful when using this option. In fact, I would advise not using <tt>location=default</tt> except for illustrative minimal working examples.
</p>
    <h3>
     <span class="mw-headline" id="Remote_image_files_and_cache">
      Remote image files and cache
     </span>
    </h3>
    <p>The <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt> command supports reading files from web servers, for example:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>http://www.pragma-ade.nl/general/manuals/style.pdf<span class="brx">]</span>
  <span class="brx">[</span>factor<span class="brx">=</span>fit<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/d713e27d0e419f5f6fe09acb0948f7a2.webp" width="307">
     </li>
    </ul>
    <p>When a document containing a remote file is compiled for the first time, the remote file is downloaded from the server and stored in the LuaTeX cache directory. This cached file is used during subsequent runs.
</p>
    <p>Normally, the remote image is downloaded again if the image in the cache is older than 1 day. To change this threshold to, for example, 2 minutes (120 seconds), either add
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>schemes.threshold<span class="brx">=</span>120<span class="brx">]</span></pre>
    <p>in the ConTeXt file, or compile the ConTeXt file using the command
</p>
    <pre>context --directives=schemes.threshold=120 &lt;em&gt;filename&lt;/em&gt;</pre>
    <p>The variable <tt>schemes.threshold</tt> is global, so changing its value affects all other macros like <tt>\input</tt>, <tt>\usemodule</tt>, <tt>\component</tt>, etc. that load remote files.
</p>
    <h4>
     <span class="mw-headline" id="HTTP_Proxy">
      HTTP Proxy
     </span>
    </h4>
    <p>To use an http proxy for fetching images, the http variable (<a class="external text" href="http://w3.impa.br/~diego/software/luasocket/http.html" rel="nofollow">LuaSocket</a>) has to be set up as follows:
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\ctxlua</span></span><span class="br">{</span>http <span class="brx">=</span> require<span class="brx">(</span>"socket.http"<span class="brx">)</span>; http.PROXY <span class="brx">=</span> "http://proxy.example.com:3128"<span class="br">}</span>
</pre>
    <p>Replace <code><a class="external free" href="http://proxy.example.com:3128" rel="nofollow">http://proxy.example.com:3128</a></code> with the proxy URL.
</p>
    <p>To disable the proxy again:
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\ctxlua</span></span><span class="br">{</span>http <span class="brx">=</span> require<span class="brx">(</span>"socket.http"<span class="brx">)</span>; http.PROXY <span class="brx">=</span> nil<span class="br">}</span>
</pre>
    <h4>
     <span class="mw-headline" id="HTTPS">
      HTTPS
     </span>
    </h4>
    <p>For self-signed certificates retrieved over HTTPS, the <code>curl</code> command requires a flag to retrieve insecure files, which is not enabled by default. Open <code>tex/texmf-context/tex/context/base/mkiv/data-sch.lua</code> to find:
</p>
    <pre>local function runcurl(name,cachename) -- we use sockets instead or the curl library when possible
    local command = "curl --silent --create-dirs --output " .. cachename .. " " .. name
    os.spawn(command)
end
</pre>
    <p>Insert the <code>-k</code> or <code>--insecure</code> option:
</p>
    <pre>    local command = "curl --insecure --silent --create-dirs --output " .. cachename .. " " .. name
</pre>
    <h2>
     <span class="mw-headline" id="Transformations">
      Transformations
     </span>
    </h2>
    <h3>
     <span class="mw-headline" id="Image_Scaling">
      Image Scaling
     </span>
    </h3>
    <table style="background-color:#eeeeee;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:0.5em 0.5em;"><ul class="demo"><li class="rendering"><img height="54" src="../../wikiteximage/930de1a7eb6b29b2cd06e657affefa30.webp" width="29"></li></ul><br>
</td>
       <td style="padding:0.5em 0.5em;"><b>NOTE:</b>  If either <tt>width</tt> or <tt>height</tt> is specified, then the <tt>scale</tt> key has no effect.
</td>
      </tr>
     </tbody>
    </table>
    <p><br>
To scale an image use the <tt>scale</tt> key: <tt>scale=1000</tt> corresponds to the original dimensions of the image, <tt>scale=500</tt> scales the image to 50% of the original size, <tt>scale=1500</tt> scales the images to 150% of the original size, and so on. For example:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>cow.pdf<span class="brx">]</span><span class="brx">[</span>scale<span class="brx">=</span>500<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/b942f8710af9b7d7cec2e80eef011ddc.webp" width="307">
     </li>
    </ul>
    <p>scales the image to 50% of its size.
</p>
    <p>Use <tt>\setupexternalfigures</tt> to set the scale of all images. For example, to scale all images to be twice their original size, use:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>cow.pdf<span class="brx">]</span><span class="brx">[</span>scale<span class="brx">=</span>2000<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/9083da257e225383ef8eff9597174d64.webp" width="307">
     </li>
    </ul>
    <p>In addition, the <tt>xscale</tt> and <tt>yscale</tt> keys scale the image in only one dimension. For example:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>cow.pdf<span class="brx">]</span><span class="brx">[</span>yscale<span class="brx">=</span>500<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/dd1b8724485a75eeccd008f041473e20.webp" width="307">
     </li>
    </ul>
    <p>Scaling changes the visible size of a picture, but not the data or file size. If you want to reduce your file size by decreasing image resolution, see <a href="../Downsampling.html" title="Graphics and media/Downsampling">Downsampling</a>.
</p>
    <h3>
     <span class="mw-headline" id="Image_Dimension_Restriction">
      Image Dimension Restriction
     </span>
    </h3>
    <p>ConTeXt can limit included images to particular dimensions. For example, to ensure that an included image is not more than <tt>0.2\textwidth</tt>:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>maxwidth<span class="brx">=</span>0.2<span class="cs">\textwidth</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/53faeb7410b3553d924104d7920584d3.webp" width="307">
     </li>
    </ul>
    <p>If <tt>maxwidth</tt> is specified and the width of the image is less than <tt>maxwidth</tt>, then the image is not scaled; if the width of the image is greater than <tt>maxwidth</tt>, then the width is restricted to <tt>maxwidth</tt> and the height is scaled appropriately to maintain the original aspect ratio.
</p>
    <p>The option <tt>maxheight</tt> is analogous to <tt>maxwidth</tt>, for checking the height of the image.
</p>
    <p>For example, to ensure that figures do not overflow the text~area, one may set:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>maxwidth<span class="brx">=</span><span class="cs">\textwidth</span>,
   maxheight<span class="brx">=</span>0.8<span class="cs">\textheight</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/e9a4e9613bc0b17b2c40f958cb41068f.webp" width="307">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Image_Rotation">
      Image Rotation
     </span>
    </h3>
    <p>Rotate included images with the <tt>orientation</tt> key of <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt>. For example:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>2cm,
   orientation<span class="brx">=</span>90<span class="brx">]</span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>2cm,
   orientation<span class="brx">=</span>40<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/723f7b8831a6bcb891077decf1716c8b.webp" width="307">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Image_Mirroring">
      Image Mirroring
     </span>
    </h3>
    <p><tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt> has no mirroring key.
To mirror (flip) an image, use the generic <tt><a href="../../Command/mirror.html" title="Command/mirror">\mirror</a></tt> command. For example, to mirror horizontally:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm<span class="brx">]</span>
<span class="cs"><span class="documentcs">\mirror</span></span><span class="br">{</span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm<span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/e117df8ae05cdf1dd4a132c8fa580fb7.webp" width="307">
     </li>
    </ul>
    <p>To mirror vertically, first rotate the image by 180&deg; and then mirror it:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm<span class="brx">]</span>
<span class="cs"><span class="documentcs">\mirror</span></span><span class="br">{</span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm,
   orientation<span class="brx">=</span>180<span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/6dd38b1e381ef5ca7bfa5f009f3a6a10.webp" width="307">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Image_Clipping">
      Image Clipping
     </span>
    </h3>
    <p>Clip an image using the generic <tt><a href="../../Command/clip.html" title="Command/clip">\clip</a></tt> command. For example, to clip the original image to a <tt>1cm x 2cm</tt> rectangle at an offset of <tt>(3mm,5mm)</tt> from the top left corner:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\clip</span></span>
  <span class="brx">[</span>width<span class="brx">=</span>1cm, 
   height<span class="brx">=</span>2cm, 
   hoffset<span class="brx">=</span>3mm, 
   voffset<span class="brx">=</span>5mm<span class="brx">]</span>
<span class="br">{</span><span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm<span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/8ac16879e3ca184bf5dcb4bb8ad945e6.webp" width="307">
     </li>
    </ul>
    <p><br>
As another example, this cuts the image into a <tt>3x3</tt> pieces and then outputs the <tt>(2,2)</tt> piece:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\clip</span></span>
  <span class="brx">[</span>nx<span class="brx">=</span>3,
   ny<span class="brx">=</span>3,
   x<span class="brx">=</span>2,
   y<span class="brx">=</span>2<span class="brx">]</span>
<span class="br">{</span><span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm<span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/d97010b06361a52b75b784a8c2cba535.webp" width="307">
     </li>
    </ul>
    <p>In PDF files, it is possible to specify different size information in PDF headers MediaBox, TrimBox, CropBox, and ArtBox (see <a href="../../Input_and_compilation/PDF/PDF_boxes.html" title="Input and compilation/PDF/PDF boxes">PDF boxes</a>). To clip to one of these sizes, use
</p>
    <pre class="tex"><span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>logo.pdf<span class="brx">]</span><span class="brx">[</span>size<span class="brx">=</span>art<span class="brx">]</span></pre>
    <p>Other options are: 
</p>
    <ul>
     <li>
      <code>none</code>
      (detault)
     </li>
     <li>
      <code>media</code>
      for MediaBox
     </li>
     <li>
      <code>crop</code>
      for CropBox,
     </li>
     <li>
      <code>trim</code>
      for TrimBox,
     </li>
     <li>
      <code>art</code>
      for ArtBox.
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Troubleshooting">
      Troubleshooting
     </span>
    </h2>
    <p>This section describes various tips for discovering problems with embedded images.
</p>
    <h3>
     <span class="mw-headline" id="Visualize_Bounding_Box">
      Visualize Bounding Box
     </span>
    </h3>
    <p>If, for instance, the image is taking more space than expected, it can be useful to visualize the bounding box of the image. To do this:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm,
   frame<span class="brx">=</span>on<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/6447c5c1e21a0604636b4477b2cdf648.webp" width="307">
     </li>
    </ul>
    <p>ConTeXt includes a script <tt>pdftrimwhite</tt> that removes extra white space at the borders of a PDF file. To run this script:
</p>
    <pre>mtxrun --script pdftrimwhite [flags] input output</pre>
    <p>The most important flag is <tt>--offset=dimen</tt>, which keeps some extra space around the trimmed image.
</p>
    <p>Similar functionality is provided by another Perl script, <tt>pdfcrop</tt>, that is included in most TeX distributions.
</p>
    <h3>
     <span class="mw-headline" id="Diagnostic_Tracking">
      Diagnostic Tracking
     </span>
    </h3>
    <p>To get diagnostic information about image inclusion, enable the tracker <tt>graphics.locating</tt> by editing the ConTeXt file and adding:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\enabletrackers</span></span><span class="brx">[</span>graphics.locating<span class="brx">]</span></pre>
    <p>Alternatively, compile the ConTeXt file using:
</p>
    <pre class="tex">context --trackers<span class="brx">=</span>graphics.locating filename</pre>
    <p>The tracker writes diagnostics to the console. Suppose we use <tt>\externalfigure[somefile.pdf]</tt> and ConTeXt finds the file in the current search path; then the following information is printed on the console:
</p>
    <pre>graphics &gt; inclusion &gt; locations: local,global
graphics &gt; inclusion &gt; path list: . .. ../..
graphics &gt; inclusion &gt; strategy: forced format pdf
graphics &gt; inclusion &gt; found: somefile.pdf -&gt; somefile.pdf
graphics &gt; inclusion &gt; format natively supported by backend: pdf</pre>
    <p>If the file <tt>somefile.pdf</tt> is not found in the current search path, then the following information is printed on the console (even if the <tt>graphics.locating</tt> tracker is not set):
</p>
    <pre>graphics &gt; inclusion &gt; strategy: forced format pdf
graphics &gt; inclusion &gt; not found: somefile.pdf
graphics &gt; inclusion &gt; not found: ./somefile.pdf
graphics &gt; inclusion &gt; not found: ../somefile.pdf
graphics &gt; inclusion &gt; not found: ../../somefile.pdf
graphics &gt; inclusion &gt; not found: images/somefile.pdf
graphics &gt; inclusion &gt; not found: /home/user/images/somefile.pdf
graphics &gt; inclusion &gt; format not supported: </pre>
    <p>and a placeholder gray box is put in the output:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8,landscape<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>nonexistentimage<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="307" src="../../wikiteximage/f49928bf32e30facbf27659b4ecc2279.webp" width="438">
     </li>
    </ul>
    <p>Sometimes, one would rather use a placeholder image for an image that is yet to be made. In such cases, load the MP library <tt>dum</tt> via:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\useMPlibrary</span></span><span class="brx">[</span>dum<span class="brx">]</span></pre>
    <p>Then, whenever an image file is not found in the current search path, a random MetaPost image is shown in the output.
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8,landscape<span class="brx">]</span>
<span class="cs"><span class="stylecs">\useMPlibrary</span></span><span class="brx">[</span>dum<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>nonexistentimage<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="307" src="../../wikiteximage/c6eb1ccfeef161a62e9d8f2f217cf43c.webp" width="438">
     </li>
    </ul>
    <h3>
     <span id="\externalfigure_at_the_beginning_of_a_paragraph">
     </span>
     <span class="mw-headline" id=".5Cexternalfigure_at_the_beginning_of_a_paragraph">
      <tt>
       <a href="../../Command/externalfigure.html" title="Command/externalfigure">
        \externalfigure
       </a>
      </tt>
      at the beginning of a paragraph
     </span>
    </h3>
    <p>Using <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt><tt>[...]</tt> at the beginning of a paragraph results in a line break after the image. This is because <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt> is a <tt><a class="new" href="../../index.php?title=Command/vbox&action=edit&redlink=1.html" title="Command/vbox (page does not exist)">\vbox</a></tt> and when a <tt><a class="new" href="../../index.php?title=Command/vbox&action=edit&redlink=1.html" title="Command/vbox (page does not exist)">\vbox</a></tt> is encountered at (what appears to be) the beginning of a paragraph, it remains in vertical mode. To prevent this, add <tt><a class="new" href="../../index.php?title=Command/dontleavehmode&action=edit&redlink=1.html" title="Command/dontleavehmode (page does not exist)">\dontleavehmode</a></tt> before <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt>, like this:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\dontleavehmode</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>...<span class="brx">]</span> ... first line ...</pre>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span> <span class="brx">[</span>cow.pdf<span class="brx">]</span> <span class="brx">[</span>width<span class="brx">=</span>2cm<span class="brx">]</span>
<span class="cs"><span class="documentcs">\mirror</span></span><span class="br">{</span><span class="cs"><span class="documentcs">\externalfigure</span></span> <span class="brx">[</span>cow.pdf<span class="brx">]</span> <span class="brx">[</span>width<span class="brx">=</span>2cm<span class="brx">]</span><span class="br">}</span>

but  

<span class="cs"><span class="stylecs">\dontleavehmode</span></span>               <span class="comment">% HERE </span>
<span class="cs"><span class="documentcs">\externalfigure</span></span> <span class="brx">[</span>cow.pdf<span class="brx">]</span> <span class="brx">[</span>width<span class="brx">=</span>2cm<span class="brx">]</span>
<span class="cs"><span class="documentcs">\mirror</span></span><span class="br">{</span><span class="cs"><span class="documentcs">\externalfigure</span></span> <span class="brx">[</span>cow.pdf<span class="brx">]</span> <span class="brx">[</span>width<span class="brx">=</span>2cm<span class="brx">]</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/270aa22949199c84e5bac71ae5d40edf.webp" width="307">
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Multiple_Image_Settings">
      Multiple Image Settings
     </span>
    </h2>
    <h3>
     <span class="mw-headline" id="Image_Settings">
      Image Settings
     </span>
    </h3>
    <p>Suppose your document contains many side-by-side images, and you want all of these images to be of the same size. In addition, you want to control the size of all images by changing only one setup. To do this, you can use the <tt><a href="../../Command/defineexternalfigure.html" title="Command/defineexternalfigure">\defineexternalfigure</a></tt> macro, which defines a named collection of image settings. For example, to define a collection where the image width is <tt>3cm</tt> and to use  these settings for an image:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="stylecs">\defineexternalfigure</span></span>
  <span class="brx">[</span>logo-settings<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm,
   background<span class="brx">=</span>color,
   backgroundcolor<span class="brx">=</span>middlecyan<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>logo-settings<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/a9846b9ff32bac07944ec09ac9203906.webp" width="307">
     </li>
    </ul>
    <p><br>
If you want to add or override settings locally, use:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>
<span class="cs"><span class="stylecs">\defineexternalfigure</span></span>
  <span class="brx">[</span>logo-settings<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>3cm,
   background<span class="brx">=</span>color,
   backgroundcolor<span class="brx">=</span>middlecyan<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>logo-settings<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span><span class="cs">\textwidth</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/6b1b9255a389d6681b07c54ddff0fdb8.webp" width="307">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Image_Labels">
      Image Labels
     </span>
    </h3>
    <p>Suppose your document contains an image at multiple locations; all of these images are to be of the same size, which is not necessarily the same as the natural size of the image. Furthermore, as before, you want to set the size of all the images by changing only one setup. Here, the macro to use is <tt><a href="../../Command/useexternalfigure.html" title="Command/useexternalfigure">\useexternalfigure</a></tt>, which defines a symbolic label for inserting an image plus settings. For example:
</p>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A8<span class="brx">]</span>

<span class="cs"><span class="stylecs">\useexternalfigure</span></span>
  <span class="brx">[</span>mycow<span class="brx">]</span>
  <span class="brx">[</span>cow.pdf<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span>2cm,
   background<span class="brx">=</span>color,
   backgroundcolor<span class="brx">=</span>middleyellow<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>mycow<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="438" src="../../wikiteximage/c5af9035530952f2b70ced1fa26b0600.webp" width="307">
     </li>
    </ul>
    <p><br>
Here it defines an image label <tt>mycow</tt> that maps to the image file <tt>cow.pdf</tt> and sets its width to <tt>2cm</tt> etc&hellip; And then this image label may be used as a normal image filename with <tt><a href="../../Command/externalfigure.html" title="Command/externalfigure">\externalfigure</a></tt>.
</p>
    <h2>
     <span class="mw-headline" id="Movies">
      Movies
     </span>
    </h2>
    <ul>
     <li>
      <tt>
       <a class="new" href="../../index.php?title=Command/definerenderingwindow&action=edit&redlink=1.html" title="Command/definerenderingwindow (page does not exist)">
        \definerenderingwindow
       </a>
      </tt>
      to define the place where the video will be located.
     </li>
     <li>
      <tt>
       <a class="new" href="../../index.php?title=Command/userendering&action=edit&redlink=1.html" title="Command/userendering (page does not exist)">
        \userendering
       </a>
      </tt>
      to define the video content.
     </li>
     <li>
      <tt>
       <a class="new" href="../../index.php?title=Command/placerenderingwindow&action=edit&redlink=1.html" title="Command/placerenderingwindow (page does not exist)">
        \placerenderingwindow
       </a>
      </tt>
      to associate and place the window + the content.
     </li>
    </ul>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A7<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteraction</span></span>
  <span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>

<span class="cs"><span class="stylecs">\definerenderingwindow</span></span>
  <span class="brx">[</span>myrenderingwindow<span class="brx">]</span>
  <span class="brx">[</span>width<span class="brx">=</span><span class="cs">\textwidth</span>,
   height<span class="brx">=</span><span class="cs">\textwidth</span>,
   frame<span class="brx">=</span>off,
   background<span class="brx">=</span>color,
   backgroundcolor<span class="brx">=</span>middlegray,
   backgroundoffset<span class="brx">=</span>5pt<span class="brx">]</span>

<span class="cs">\userendering</span>
  <span class="brx">[</span>myvideocontentB<span class="brx">]</span>
  <span class="brx">[</span>video/mp4<span class="brx">]</span>
  <span class="brx">[</span>https://wiki.contextgarden.net/images/b/ba/Project3-C.mp4<span class="brx">]</span>
  <span class="brx">[</span>embed<span class="brx">=</span>yes, auto<span class="brx">]</span>

<span class="cs"><span class="stylecs">\placerenderingwindow</span></span>
  <span class="brx">[</span>myrenderingwindow<span class="brx">]</span>
  <span class="brx">[</span>myvideocontentB<span class="brx">]</span>

<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="620" src="../../wikiteximage/038edbaef62f07de70da550bd6e1e6c3.webp" width="438">
     </li>
    </ul>
    <p>Wiki rendering produce static png. Please use <a class="external text" href="https://context-on-web.eu" rel="nofollow">context-on-web.eu</a> and download the PDFfile to test with your viewer.
</p>
    <p>Please see also <a href="../Including_audio_and_video.html" title="Graphics and media/Including audio and video">Including audio and video</a>.
</p>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-14
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Graphics_and_media/Tutorials/Using_graphics">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
