<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Graphics and media/Collections of tips and tricks/Image database&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Graphics_and_media/Collections_of_tips_and_tricks/Image_database" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Graphics and media/Collections of tips and tricks/Image database
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=738&diff=41306">2025-01-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p>ConTeXt's direct XML processing allows a rather mighty management of pictures with an XML database.
You can not only store images in this way, officially this technique is now named "Resource Libraries".
</p>
    <p><a class="external text" href="http://www.ntg.nl:8061/makeres.pdf" rel="nofollow">Here</a> you can make such files online. (PDF interface!)
</p>
    <p><b>XML database file: MKII</b>
</p>
    <pre class="xml"><span class="br">&lt;</span><span class="name">figurelibrary language="en"</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">description</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">organization</span><span class="br">&gt;</span>Pragma ADE<span class="br">&lt;</span><span class="name">/organization</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">project</span><span class="br">&gt;</span>ConTeXt Wiki<span class="br">&lt;</span><span class="name">/project</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">product</span><span class="br">&gt;</span>prd_pictures<span class="br">&lt;</span><span class="name">/product</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">comment</span><span class="br">&gt;</span>pictures for ConTeXt Wiki<span class="br">&lt;</span><span class="name">/comment</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">/description</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">figure</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">file</span><span class="br">&gt;</span>filename<span class="br">&lt;</span><span class="name">/file</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">label</span><span class="br">&gt;</span>reference<span class="br">&lt;</span><span class="name">/label</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">copyright</span><span class="br">&gt;</span>owner<span class="br">&lt;</span><span class="name">/copyright</span><span class="br">&gt;</span>
	<span class="br">&lt;</span><span class="name">comment</span><span class="br">&gt;</span>comment<span class="br">&lt;</span><span class="name">/comment</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">/figure</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">figure</span><span class="br">&gt;</span>
...
<span class="br">&lt;</span><span class="name">/figure</span><span class="br">&gt;</span>
...
<span class="br">&lt;</span><span class="name">/figurelibrary</span><span class="br">&gt;</span>
</pre>
    <p><b>XML database file: MKIV</b>
</p>
    <pre class="xml"><span class="br">&lt;</span><span class="name">rl:library language="en"</span><span class="br">&gt;</span>

   <span class="br">&lt;</span><span class="name">rl:description</span><span class="br">&gt;</span>
       <span class="br">&lt;</span><span class="name">rl:organization</span><span class="br">&gt;</span>Organisation<span class="br">&lt;</span><span class="name">/rl:organization</span><span class="br">&gt;</span>
       <span class="br">&lt;</span><span class="name">rl:project</span><span class="br">&gt;</span>ConTeXt Wiki<span class="br">&lt;</span><span class="name">/rl:project</span><span class="br">&gt;</span>
       <span class="br">&lt;</span><span class="name">rl:product</span><span class="br">&gt;</span>product pictures<span class="br">&lt;</span><span class="name">/rl:product</span><span class="br">&gt;</span>
       <span class="br">&lt;</span><span class="name">rl:comment</span><span class="br">&gt;</span>pictures for ConTeXt Wiki<span class="br">&lt;</span><span class="name">/rl:comment</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/rl:description</span><span class="br">&gt;</span>

   <span class="br">&lt;</span><span class="name">rl:resource</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">rl:file</span><span class="br">&gt;</span>filename<span class="br">&lt;</span><span class="name">/rl:file</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">rl:label</span><span class="br">&gt;</span>reference<span class="br">&lt;</span><span class="name">/rl:label</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">rl:copyright</span><span class="br">&gt;</span>owner<span class="br">&lt;</span><span class="name">/rl:copyright</span><span class="br">&gt;</span>
      <span class="br">&lt;</span><span class="name">rl:comment</span><span class="br">&gt;</span>comment<span class="br">&lt;</span><span class="name">/rl:comment</span><span class="br">&gt;</span>
   <span class="br">&lt;</span><span class="name">/rl:resource</span><span class="br">&gt;</span>
<span class="br">&lt;</span><span class="name">/rl:library
</span></pre>
    <p><b>Making a PDF list MKII</b>
</p>
    <pre>texexec --pdf --use=fig-make --mode=compact myfile
</pre>
    <p><b>Making a PDF list MKIV</b>
</p>
    <pre>context --input=figure-lib.xml auto:x-res-01.mkiv --result=figure-lib
</pre>
    <p><b>Use pictures from database</b>
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span>	<span class="brx">[</span>fig-base<span class="brx">]</span>
<span class="cs"><span class="stylecs">\usefigurebase</span></span>	<span class="brx">[</span>myfile<span class="brx">]</span>

<span class="cs"><span class="documentcs">\externalfigure</span></span>	<span class="brx">[</span>reference<span class="brx">]</span> <span class="comment">% like in &lt;label&gt;</span>
</pre>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-10
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Graphics_and_media/Collections_of_tips_and_tricks/Image_database">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
