<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Graphics and media/Collections of tips and tricks/Fill-unfill or even-odd rule in Metafun&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Graphics_and_media/Collections_of_tips_and_tricks/Fill-unfill_or_even-odd_rule_in_Metafun" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Graphics and media/Collections of tips and tricks/Fill-unfill or even-odd rule in Metafun
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=6378&diff=41366">2025-01-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p>Metapost doesn't support <a class="external text" href="https://en.wikipedia.org/wiki/Even%E2%80%93odd_rule" rel="nofollow">even-odd rule</a> filling so it uses a fake unfilling via a background color. This is problematic in cases when one deals with e.g. transparency. To overcome this difficulty, Metafun implements some extensions, such as <code>eofill</code>. To fill a shape using the even-odd rule we need a sequence of <code>nofill</code> ending with a <code>eofill</code> statement, as it can be seen in the following examples.
</p>
    <h2>
     <span class="mw-headline" id="Some_examples">
      Some examples
     </span>
    </h2>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="comment">%Adapted from Metafun's manual</span>
<span class="cs"><span class="documentcs">\startMPpage</span></span>
nofill fullsquare scaled 2cm&nbsp;;
nofill fullsquare scaled 2cm 
       shifted <span class="brx">(</span>1cm,0<span class="brx">)</span>&nbsp;;
eofill fullsquare scaled 2cm 
       shifted <span class="brx">(</span>0,1cm<span class="brx">)</span> withcolor darkred;
<span class="cs"><span class="documentcs">\stopMPpage</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="180" src="../../wikiteximage/16a418e482475204e1137450bc71442e.webp" width="180">
     </li>
    </ul>
    <ul class="demosbs">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="documentcs">\startMPpage</span></span>
    path A; A&nbsp;:<span class="brx">=</span> <span class="brx">(</span>unitcircle 
                  shifted <span class="brx">(</span>-center unitcircle<span class="brx">)</span><span class="brx">)</span> 
                  scaled 4cm;
    path B; B&nbsp;:<span class="brx">=</span> <span class="brx">(</span>unitcircle 
                  shifted <span class="brx">(</span>-center unitcircle<span class="brx">)</span><span class="brx">)</span> 
                  scaled 1cm;
    path C; C&nbsp;:<span class="brx">=</span> B shifted <span class="brx">(</span>left*1.4cm<span class="brx">)</span>;
    nofill A; nofill B; 
    eofill C withcolor darkblue;
<span class="cs"><span class="documentcs">\stopMPpage</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="239" src="../../wikiteximage/d2d7bc032e89625853acbe4a3fa736b8.webp" width="239">
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-12
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Graphics_and_media/Collections_of_tips_and_tricks/Fill-unfill_or_even-odd_rule_in_Metafun">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
