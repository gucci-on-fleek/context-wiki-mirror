<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Graphics and media/Drawing graphs and diagrams/Gnuplot&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Graphics_and_media/Drawing_graphs_and_diagrams/Gnuplot" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Graphics and media/Drawing graphs and diagrams/Gnuplot
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=1798&diff=41351">2025-01-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p>&lt; <a href="../../Input_and_compilation/Modules.html" title="Input and compilation/Modules">Modules</a> | <a href="../../Graphics_and_media.html" title="Graphics and media">Graphics and media</a> | <a href="../../Mathematics.html" title="Mathematics">Mathematics</a> &gt;
</p>
    <p><a class="external free" href="http://www.gnuplot.info/figs/title2.png" rel="nofollow">http://www.gnuplot.info/figs/title2.png</a>
</p>
    <p><a class="external text" href="http://www.gnuplot.info" rel="nofollow">Gnuplot</a> is a portable command-line driven utility for function plotting for many platforms.
</p>
    <p>To make the examples on this page work, you need Gnuplot 4.6.0 or later (or self-compiled binary).
</p>
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Minimal_Example">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Minimal Example
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Requirements">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Requirements
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-3">
         <a href="#To_use_the_ConTeXt_terminal_.28recommended.29">
          <span class="tocnumber">
           2.1
          </span>
          <span class="toctext">
           To use the ConTeXt terminal (recommended)
          </span>
         </a>
         <ul>
          <li class="toclevel-3 tocsection-4">
           <a href="#Windows">
            <span class="tocnumber">
             2.1.1
            </span>
            <span class="toctext">
             Windows
            </span>
           </a>
          </li>
          <li class="toclevel-3 tocsection-5">
           <a href="#Unix_or_Mac">
            <span class="tocnumber">
             2.1.2
            </span>
            <span class="toctext">
             Unix or Mac
            </span>
           </a>
          </li>
         </ul>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-6">
       <a href="#Creating_stand-alone.2C_whole-page_plots">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Creating stand-alone, whole-page plots
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-7">
       <a href="#More_complex_example">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         More complex example
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-8">
       <a href="#Example_with_externalfigure">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         Example with externalfigure
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-9">
       <a href="#Using_other_terminals">
        <span class="tocnumber">
         6
        </span>
        <span class="toctext">
         Using other terminals
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-10">
       <a href="#History">
        <span class="tocnumber">
         7
        </span>
        <span class="toctext">
         History
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-11">
       <a href="#Old_wiki_pages">
        <span class="tocnumber">
         8
        </span>
        <span class="toctext">
         Old wiki pages
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-12">
       <a href="#Alternatives_for_Function_Plotting">
        <span class="tocnumber">
         9
        </span>
        <span class="toctext">
         Alternatives for Function Plotting
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-13">
         <a href="#Other_links">
          <span class="tocnumber">
           9.1
          </span>
          <span class="toctext">
           Other links
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Minimal_Example">
      Minimal Example
     </span>
    </h2>
    <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>gnuplot<span class="brx">]</span>

<span class="comment">% write a script for gnuplot</span>
<span class="cs">\startGNUPLOTscript</span><span class="brx">[</span>sin<span class="brx">]</span>
   plot sin<span class="brx">(</span>x<span class="brx">)</span>
<span class="cs">\stopGNUPLOTscript</span>

<span class="comment">% include the resulting graphic into the document</span>
<span class="cs">\useGNUPLOTgraphic</span><span class="brx">[</span>sin<span class="brx">]</span>
</pre>
    <p>Calling gnuplot to create the graphic and postprocessing should happen automatically.
</p>
    <h2>
     <span class="mw-headline" id="Requirements">
      Requirements
     </span>
    </h2>
    <ul>
     <li>
      <b>
       <a class="external text" href="http://modules.contextgarden.net/gnuplot" rel="nofollow">
        Gnuplot module
       </a>
      </b>
      <ul>
       <li>
        in TeX Live you need to have
        <code>context-gnuplot</code>
        installed, in
        <a href="../../ConTeXt_Standalone.html" title="ConTeXt Standalone">
         ConTeXt Standalone
        </a>
        you can install it with
        <code>--modules=t-gnuplot</code>
        switch
       </li>
      </ul>
     </li>
     <li>
      <b>
       Gnuplot has to be installed
      </b>
      (and in your PATH)
     </li>
    </ul>
    <dl>
     <dd>
      On most Linux installations this is probably already the case. On Windows gnuplot.exe is usually also shipped and you need to make sure that it is in PATH. In case that the binary has a different name, you could create a file
      <code>gnuplot.bat</code>
      with something like:
     </dd>
    </dl>
    <pre>"C:\Program Files\gnuplot\bin\wgnupl32.exe"&nbsp;%*
</pre>
    <dl>
     <dd>
      (if that was the binary name) and put that file to a
      <i>
       "visible place"
      </i>
      (has to be found in PATH). Please note: if calling
      <code>gnuplot</code>
      from cmd works for you, there is no need to do anything extra.
     </dd>
    </dl>
    <ul>
     <li>
      <b>
       <a href="../../ConTeXt_and_Lua_programming/executesystemcommand/Write18.html" title="ConTeXt and Lua programming/executesystemcommand/Write18">
        Write18
       </a>
      </b>
      has to be enabled
     </li>
    </ul>
    <h3>
     <span id="To_use_the_ConTeXt_terminal_(recommended)">
     </span>
     <span class="mw-headline" id="To_use_the_ConTeXt_terminal_.28recommended.29">
      To use the ConTeXt terminal (recommended)
     </span>
    </h3>
    <h4>
     <span class="mw-headline" id="Windows">
      Windows
     </span>
    </h4>
    <p>You can fetch binaries from <a class="external text" href="http://sourceforge.net/projects/gnuplot/files/gnuplot/" rel="nofollow">sourceforge (released versions)</a> or from <a class="external text" href="http://www.tatsuromatsuoka.com/gnuplot/Eng/winbin/" rel="nofollow">Tatsuro Matsuoka (latest cvs version)</a>.
</p>
    <h4>
     <span class="mw-headline" id="Unix_or_Mac">
      Unix or Mac
     </span>
    </h4>
    <p>The easiest way is to use version 4.6.0 or later shipped by your distribution. If that version is too old, you need to compile your own.
</p>
    <p>If you want to use the version from trunk:
</p>
    <pre># unofficial; you can also use official cvs
git clone <a class="external free" href="git://github.com/gnuplot/gnuplot.git" rel="nofollow">git://github.com/gnuplot/gnuplot.git</a>
./prepare
./configure
make
make install
</pre>
    <p>I use <code>./configure --prefix=$PWD/inst</code> to avoid cluttering the system and install gnuplot to my personal directory. You can use other flags to configure for a different choice of GUI terminals.
</p>
    <p>If you want to use the released version, get it from <a class="external text" href="http://sourceforge.net/projects/gnuplot/files/gnuplot/" rel="nofollow">sourceforge</a> and do the same, just skip the <code>./prepare</code>.
</p>
    <p>The latest version of context terminal is available at <a class="external free" href="http://github.com/mojca/gnuplot/raw/master/term/context.trm" rel="nofollow">http://github.com/mojca/gnuplot/raw/master/term/context.trm</a>.
</p>
    <p>Feel free to contact <a href="../../User:Mojca_Miklavec.html" title="User:Mojca Miklavec">Mojca</a> in case of problems.
</p>
    <h2>
     <span id="Creating_stand-alone,_whole-page_plots">
     </span>
     <span class="mw-headline" id="Creating_stand-alone.2C_whole-page_plots">
      Creating stand-alone, whole-page plots
     </span>
    </h2>
    <p>Here's an example of how to make a stand-alone ConTeXt document with one plot per page:
</p>
    <pre>set term context standalone size 15cm,10cm header '\usetypescript[iwona]' font 'iwona,ss' 10dd
set output 'example.tex'
plot ...
</pre>
    <h2>
     <span class="mw-headline" id="More_complex_example">
      More complex example
     </span>
    </h2>
    <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>gnuplot<span class="brx">]</span>

<span class="cs">\setupGNUPLOT</span><span class="brx">[</span>terminal<span class="brx">=</span>tikz,option<span class="brx">=</span>color<span class="brx">]</span> <span class="comment">% terminal=mp if you only have an old gnuplot at hand</span>

<span class="comment">% general settings for the whole document</span>
<span class="cs">\startGNUPLOTinclusions</span>

   <span class="brx">#</span> you may use TeX commands to format the titles and axes
   set title '<span class="cs">\bf</span> Trigonometry'
   set xlabel '$x$'
   set ylabel '$y$'

   <span class="brx">#</span> to prevent uneven numbering: will result in
   <span class="brx">#</span> <span class="brx">(</span>0.0, 0.5, 1.0, 1.5, ...<span class="brx">)</span> instead of
   <span class="brx">#</span> <span class="brx">(</span>0, 0.5, 1, 1.5, ...<span class="brx">)</span>
   set format y '<span class="comment">%.1f'</span>
<span class="cs">\stopGNUPLOTinclusions</span>

<span class="cs">\startGNUPLOTscript</span><span class="brx">[</span>tan<span class="brx">]</span>
   plot tan<span class="brx">(</span>x<span class="brx">)</span> t '$<span class="cs">\tan</span><span class="brx">(</span>x<span class="brx">)</span>$'
<span class="cs">\stopGNUPLOTscript</span>

<span class="cs">\startGNUPLOTscript</span><span class="brx">[</span>sin<span class="brx">]</span>
   plot 4*sin<span class="brx">(</span>x<span class="brx">)</span>+x t '$4<span class="cs">\sin</span><span class="brx">(</span>x<span class="brx">)</span>+x$', x t '$x$' lt 3
<span class="cs">\stopGNUPLOTscript</span>

<span class="cs">\useGNUPLOTgraphic</span><span class="brx">[</span>tan<span class="brx">]</span>
<span class="cs">\useGNUPLOTgraphic</span><span class="brx">[</span>sin<span class="brx">]</span><span class="brx">[</span>width<span class="brx">=</span>10cm<span class="brx">]</span>
</pre>
    <h2>
     <span class="mw-headline" id="Example_with_externalfigure">
      Example with externalfigure
     </span>
    </h2>
    <p>In <a href="../../ConTeXt_and_Lua_programming/ConTeXt_Development/LMTX.html" title="ConTeXt and Lua programming/ConTeXt Development/LMTX">LMTX</a> we can use externalfigure for gnuplot files like this:
</p>
    <p>m-gnuplot-demo.gp
</p>
    <pre class="tex">set format xy "$<span class="comment">%g$"</span>

set title  'This is a plot of $y<span class="brx">=</span><span class="cs">\\</span>sin<span class="brx">(</span>x<span class="brx">)</span>$'
set xlabel 'This is the $x$ axis'
set ylabel 'This is the $y$ axis'

plot <span class="brx">[</span>0:6.28<span class="brx">]</span> <span class="brx">[</span>0:1<span class="brx">]</span> sin<span class="brx">(</span>x<span class="brx">)</span>
</pre>
    <p>Then including it in the .tex file with externalfigure and svg conversion:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>gnuplot<span class="brx">]</span>

<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\externalfigure</span></span><span class="brx">[</span>m-gnuplot-demo.gp<span class="brx">]</span><span class="brx">[</span>conversion<span class="brx">=</span>svg,width<span class="brx">=</span>4cm<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <h2>
     <span class="mw-headline" id="Using_other_terminals">
      Using other terminals
     </span>
    </h2>
    <p><i>(Needs a revision.)</i>
</p>
    <p>Gnuplot support output in different formats with, for example
</p>
    <pre>set terminal mp color solid
</pre>
    <p>will output a metapost document with colors and without dashed lines. After some appropriate preprocessing (with <a class="new" href="../../index.php?title=MPtoPDF&action=edit&redlink=1" title="MPtoPDF (page does not exist)">MPtoPDF</a> for this particular case) this file can be included in PDF documents.
</p>
    <p>You can specify the terminal with
</p>
    <pre class="tex"><span class="cs">\setupGNUPLOT</span><span class="brx">[</span>terminal<span class="brx">=</span>mp,options<span class="brx">=</span>color solid<span class="brx">]</span>
</pre>
    <ul>
     <li>
      <code>terminal=</code>
      is mandatory since that't the only way to tell ConTeXt how to preprocess the file.
     </li>
     <li>
      <code>options=</code>
      is optional and is appended to the end of
      <code>set terminal [terminal name]</code>
      . You can also override it by saying
     </li>
    </ul>
    <pre class="tex"><span class="cs">\startGNUPLOTinclusions</span>
set terminal mp color solid
<span class="cs">\stopGNUPLOTinclusions</span>
</pre>
    <p>But you have to be careful that you don't set any other terminal with <code>output=</code> then.
</p>
    <p><br>
Currently supported terminals are (attention: links not from the latest documentation):
</p>
    <ul>
     <li>
      <a class="external text" href="http://www.gnuplot.info/docs/gnuplot.html#mp" rel="nofollow">
       mp/metapost
      </a>
      : uses
      <a class="new" href="../../index.php?title=MPtoPDF&action=edit&redlink=1" title="MPtoPDF (page does not exist)">
       MPtoPDF
      </a>
      to convert images to pdf, but the context terminal should replace it
     </li>
     <li>
      <a class="external text" href="http://www.gnuplot.info/docs/gnuplot.html#postscript_" rel="nofollow">
       ps/postscript
      </a>
      : most advanced in the number of supported features
     </li>
     <li>
      <a class="external text" href="http://www.gnuplot.info/docs_4.0/gnuplot.html#png_%28NEW%29" rel="nofollow">
       png (1)
      </a>
      ,
      <a class="external text" href="http://www.gnuplot.info/docs_4.2/gnuplot.html#x1-41500051.53" rel="nofollow">
       png (2)
      </a>
      : outputs bitmap images (no preprocessing needed)
     </li>
     <li>
      <a class="external text" href="http://www.gnuplot.info/docs_4.0/gnuplot.html#pdf" rel="nofollow">
       pdf (old)
      </a>
      ,
      <a class="external text" href="http://www.gnuplot.info/docs_4.2/gnuplot.html#x1-41300051.51" rel="nofollow">
       pdf (new)
      </a>
      : outputs PDF directly for (no preprocessing needed), but is usually not available in most binaries of gnuplot
     </li>
     <li>
      <b>
       context
      </b>
      :
     </li>
    </ul>
    <p>The current gnuplot-documentation can be downloaded <a class="external text" href="http://www.gnuplot.info/docs_4.6/gnuplot.pdf" rel="nofollow">here</a>.
</p>
    <h2>
     <span class="mw-headline" id="History">
      History
     </span>
    </h2>
    <p>I (<a href="../../User:Mojca_Miklavec.html" title="User:Mojca Miklavec">Mojca Miklavec</a>) probably mentioned long time ago that I would like to have (or write?) support for Gnuplot inside ConTeXt, but I had no knowledge to do that. Peter M&uuml;nster posted the very first module for gnuplut support on the mailing list <a class="external autonumber" href="http://article.gmane.org/gmane.comp.tex.context/24884" rel="nofollow">[1]</a>, but that version only worked with bash. In the days to follow Hans Hagen has written a new module (based on my numerous "possible and impossible" requests) and Taco additionally provided some bugfixes and minor changes.
</p>
    <p>The module provides an option to select the most appropriate/suitable driver according to the user's choice (metapost, png, pdf, postscript were the firs ones to be supported). Hans was wondering why there was no <b>context terminal</b>. I took over it's development, the code is almost finished by now, but I guess that Hans now regrets that question already.
</p>
    <p>He had to invest quite some time into fixing buggy inclusion of text into graphics using <code>textext</code> (if nothing else, he had to read and reply to all the mails [complaints] that me and Taco sent him), just to lead to the conclusion that <code>textext</code> was useless for graphics produced by Gnuplot: too slow and TeX ran out of memory after 10 minutes while processing approximately the 13<sup>th</sup> plot. After that the new marvellous <code>\sometxt</code> command was born.
</p>
    <p>I'm currently sticking tiny pieces together in the way I want the module to work. Hans could probably finish the same work that costs me a few days in a few minutes, but after dropping me a bone, he decided to leave me the joy of diving into ConTeXt internals and to let me figure out how to program in ConTeXt by myself. So I still keep spamming the mailing list with numerous questions and both Taco and Hans - without whom implementing the module would be impossible - keep answering.
</p>
    <h2>
     <span class="mw-headline" id="Old_wiki_pages">
      Old wiki pages
     </span>
    </h2>
    <ul>
     <li>
      2006 -
      <a href="../../Gnuplot_Development.html" title="Gnuplot Development">
       Gnuplot Development
      </a>
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Alternatives_for_Function_Plotting">
      Alternatives for Function Plotting
     </span>
    </h2>
    <ul>
     <li>
      in
      <a href="../Tutorials/Graphical_programming_with_MetaPost_and_MetaFun.html" title="Graphics and media/Tutorials/Graphical programming with MetaPost and MetaFun">
       MetaPost and MetaFun
      </a>
      <ul>
       <li>
        <a class="extiw" href="http://source.contextgarden.net/m-graph.tex" title="source:m-graph.tex">
         m-graph
        </a>
        Module (see
        <a class="external text" href="http://cm.bell-labs.com/who/hobby/cstr_164.pdf" rel="nofollow">
         Drawing Graphs with MetaPost
        </a>
        by John D. Hobby)
       </li>
       <li>
        functions in
        <a href="../Tutorials/Graphical_programming_with_MetaPost_and_MetaFun.html" title="Graphics and media/Tutorials/Graphical programming with MetaPost and MetaFun">
         MetaFun
        </a>
        , see
        <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/metafun-s.pdf" title="manual:metafun-s.pdf">
         metafun-s.pdf
        </a>
        , section 9.3
       </li>
      </ul>
     </li>
     <li>
      others
      <ul>
       <li>
        <a class="external text" href="http://pyx.sourceforge.net/" rel="nofollow">
         PyX
        </a>
        - graph drawing through python interface with TeX typesetting & PostScript capabilities
       </li>
       <li>
        <a class="external text" href="http://theory.kitp.ucsb.edu/~paxton/tioga.html" rel="nofollow">
         Tioga
        </a>
        - creating figures and plots using Ruby, PDF, and TeX
       </li>
       <li>
        <a class="external text" href="http://comp.uark.edu/~luecking/tex/mfpic.html" rel="nofollow">
         mfpic
        </a>
        - a scheme for producing pictures from LaTeX commands. The LaTeX commands generate a input file to be processed by Metapost.
       </li>
       <li>
        <a class="external text" href="http://matplotlib.sourceforge.net" rel="nofollow">
         matplotlib
        </a>
        - a Matlab-inspired Python based plotting tool which incorporates many features, including the use of TeX in labels, titles etc.
       </li>
       <li>
        <a class="external text" href="http://tug.ctan.org/tex-archive/graphics/pgf/contrib/pgfplots/" rel="nofollow">
         pgfplots
        </a>
        - a TikZ-based LaTeX package for drawing graphs
       </li>
      </ul>
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Other_links">
      Other links
     </span>
    </h3>
    <ul>
     <li>
      <a class="external text" href="http://tug.ctan.org/tex-archive/macros/latex/contrib/exceltex/" rel="nofollow">
       exceltex
      </a>
      - an interesting LaTeX package to get data from Excel into LaTeX
     </li>
    </ul>
    <p><a class="image" href="../../File:Slo_Ministry_of_Higher_Education_Science_and_Technology.jpg"><img alt="Slo Ministry of Higher Education Science and Technology.jpg" decoding="async" height="60" src="../../images/d/d2/Slo_Ministry_of_Higher_Education_Science_and_Technology.webp" width="760"></a>
</p>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-12
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Graphics_and_media/Drawing_graphs_and_diagrams/Gnuplot">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
