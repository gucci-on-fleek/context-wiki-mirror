<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Graphics and media/Drawing graphs and diagrams/Flow charts&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Graphics_and_media/Drawing_graphs_and_diagrams/Flow_charts" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Graphics and media/Drawing graphs and diagrams/Flow charts
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=763&diff=41403">2025-01-18</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p>Context provides a charts module to create flow charts. 
The details are in the <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/mchart.pdf" title="manual:mchart.pdf">Charts uncovered</a> manual by Pragma.
</p>
    <p>For example
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>chart<span class="brx">]</span>
<span class="cs">\setupFLOWcharts</span><span class="brx">[</span>height<span class="brx">=</span>3<span class="cs">\lineheight</span><span class="brx">]</span>

<span class="cs">\startFLOWchart</span><span class="brx">[</span>example<span class="brx">]</span>
<span class="cs">\startFLOWcell</span> 
  <span class="cs">\name</span> <span class="br">{</span>flow<span class="br">}</span>
  <span class="cs">\location</span> <span class="br">{</span>1,1<span class="br">}</span>
  <span class="cs">\text</span> <span class="br">{</span>Flow<span class="br">}</span>
  <span class="cs">\connection</span> <span class="brx">[</span>rl<span class="brx">]</span> <span class="br">{</span>chart<span class="br">}</span>
<span class="cs">\stopFLOWcell</span>
<span class="cs">\startFLOWcell</span>
  <span class="cs">\name</span> <span class="br">{</span>chart<span class="br">}</span>
  <span class="cs">\location</span><span class="br">{</span>2,1<span class="br">}</span>
  <span class="cs">\text</span> <span class="br">{</span>Charts<span class="br">}</span>
<span class="cs">\stopFLOWcell</span>
<span class="cs">\stopFLOWchart</span>
<span class="cs">\FLOWchart</span><span class="brx">[</span>example<span class="brx">]</span>
</pre>
     </li>
     <li class="rendering">
      <img height="134" src="../../wikiteximage/0d82fcc043312e2164054059b0cdb4aa.webp" width="538">
     </li>
    </ul>
    <p>The more sophisticated example:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>chart<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A2<span class="brx">]</span>

<span class="cs">\setupFLOWcharts</span>
<span class="brx">[</span>nx<span class="brx">=</span>5,
ny<span class="brx">=</span>3,
dx<span class="brx">=</span>2<span class="cs"><span class="systemcs">\bodyfontsize</span></span>,
dy<span class="brx">=</span>2<span class="cs"><span class="systemcs">\bodyfontsize</span></span>,
maxwidth<span class="brx">=</span><span class="cs">\textwidth</span>
<span class="brx">]</span>

<span class="cs">\setupFLOWshapes</span>
<span class="brx">[</span>framecolor<span class="brx">=</span>black,
background<span class="brx">=</span>color,
backgroundcolor<span class="brx">=</span>white,
<span class="brx">]</span>

<span class="cs">\startFLOWchart</span><span class="brx">[</span>DSP<span class="brx">]</span>

	<span class="cs">\startFLOWcell</span>
	<span class="cs">\name</span><span class="br">{</span>input<span class="br">}</span>
	<span class="cs">\location</span><span class="br">{</span>1,1<span class="br">}</span>
	<span class="cs">\shape</span><span class="br">{</span>44<span class="br">}</span>
	<span class="cs">\connection</span><span class="brx">[</span>rl<span class="brx">]</span> <span class="br">{</span>lowpass1<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>t<span class="brx">]</span><span class="br">{</span>$x<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>b<span class="brx">]</span><span class="br">{</span>$X<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs">\stopFLOWcell</span>

	<span class="cs">\startFLOWcell</span>
	<span class="cs">\name</span> <span class="br">{</span>lowpass1<span class="br">}</span>
	<span class="cs">\location</span> <span class="br">{</span>2,1<span class="br">}</span>
	<span class="cs">\text</span> <span class="br">{</span>Low Pass<span class="cs"><span class="documentcs">\crlf</span></span> Filter<span class="br">}</span>
	<span class="cs">\connection</span><span class="brx">[</span>bt<span class="brx">]</span> <span class="br">{</span>adconv<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>r<span class="brx">]</span><span class="br">{</span>$x_f<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>l<span class="brx">]</span><span class="br">{</span>$X_f<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs">\stopFLOWcell</span>

	<span class="cs">\startFLOWcell</span>
	<span class="cs">\name</span><span class="br">{</span>adconv<span class="br">}</span>
	<span class="cs">\location</span><span class="br">{</span>2,2<span class="br">}</span>
	<span class="cs">\text</span><span class="br">{</span>Analog/Digital<span class="cs"><span class="documentcs">\crlf</span></span> conversion<span class="br">}</span>
	<span class="cs">\connection</span><span class="brx">[</span>rl<span class="brx">]</span><span class="br">{</span>dsp<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>t<span class="brx">]</span><span class="br">{</span>$x<span class="brx">[</span>n<span class="brx">]</span>$<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>b<span class="brx">]</span><span class="br">{</span>$X<span class="brx">(</span><span class="cs">\Omega</span><span class="brx">)</span>$<span class="br">}</span>
	<span class="cs">\stopFLOWcell</span>

	<span class="cs">\startFLOWcell</span>
	<span class="cs">\name</span><span class="br">{</span>dsp<span class="br">}</span>
	<span class="cs">\location</span><span class="br">{</span>3,2<span class="br">}</span>
	<span class="cs">\text</span><span class="br">{</span>Digital Signal<span class="cs"><span class="documentcs">\crlf</span></span> Processing<span class="br">}</span>
	<span class="cs">\connection</span><span class="brx">[</span>rl<span class="brx">]</span><span class="br">{</span>daconv<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>t<span class="brx">]</span><span class="br">{</span>$y<span class="brx">[</span>n<span class="brx">]</span>$<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>b<span class="brx">]</span><span class="br">{</span>$Y<span class="brx">(</span><span class="cs">\Omega</span><span class="brx">)</span>$<span class="br">}</span>
	<span class="cs">\stopFLOWcell</span>

	<span class="cs">\startFLOWcell</span>
	<span class="cs">\name</span><span class="br">{</span>daconv<span class="br">}</span>
	<span class="cs">\location</span><span class="br">{</span>4,2<span class="br">}</span>
	<span class="cs">\text</span><span class="br">{</span>Digital/Analog<span class="cs"><span class="documentcs">\crlf</span></span> Conversion<span class="br">}</span>
	<span class="cs">\connection</span><span class="brx">[</span>bt<span class="brx">]</span><span class="br">{</span>lowpass2<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>r<span class="brx">]</span><span class="br">{</span>$y_d<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>l<span class="brx">]</span><span class="br">{</span>$Y_d<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs">\stopFLOWcell</span>

	<span class="cs">\startFLOWcell</span>
	<span class="cs">\name</span> <span class="br">{</span>lowpass2<span class="br">}</span>
	<span class="cs">\location</span> <span class="br">{</span>4,3<span class="br">}</span>
	<span class="cs">\text</span> <span class="br">{</span>Low Pass<span class="cs"><span class="documentcs">\crlf</span></span> Filter<span class="br">}</span>
	<span class="cs">\connection</span><span class="brx">[</span>rl<span class="brx">]</span><span class="br">{</span>output<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>t<span class="brx">]</span><span class="br">{</span>$y_f<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs"><span class="documentcs">\comment</span></span><span class="brx">[</span>b<span class="brx">]</span><span class="br">{</span>$Y_f<span class="brx">(</span>t<span class="brx">)</span>$<span class="br">}</span>
	<span class="cs">\stopFLOWcell</span>

	<span class="cs">\startFLOWcell</span>
	<span class="cs">\name</span> <span class="br">{</span>output<span class="br">}</span>
	<span class="cs">\location</span> <span class="br">{</span>5,3<span class="br">}</span>
	<span class="cs">\shape</span><span class="br">{</span>44<span class="br">}</span>
	<span class="cs">\stopFLOWcell</span>

<span class="cs">\stopFLOWchart</span>

<span class="cs"><span class="documentcs">\placefigure</span></span><span class="brx">[</span>here<span class="brx">]</span><span class="brx">[</span>fig:chart<span class="brx">]</span><span class="br">{</span>The path of signal in digital processing.<span class="br">}</span>
<span class="br">{</span>
	<span class="cs">\FLOWchart</span><span class="brx">[</span>DSP<span class="brx">]</span>
<span class="br">}</span>
</pre>
     </li>
     <li class="rendering">
      <img height="598" src="../../wikiteximage/59bcbef41691ff7d4c17c172ef8a292b.webp" width="1774">
     </li>
    </ul>
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Changing_the_appearance_of_cells_.28background_color.2C_rule_thickness.29">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Changing the appearance of cells (background color, rule thickness)
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Syntax_for_.5Cconnection">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Syntax for \connection
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-3">
         <a href="#Example">
          <span class="tocnumber">
           2.1
          </span>
          <span class="toctext">
           Example
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-4">
       <a href="#Aligning_text_within_the_cell">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Aligning text within the cell
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-5">
       <a href="#Further_hints">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Further hints
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span id="Changing_the_appearance_of_cells_(background_color,_rule_thickness)">
     </span>
     <span class="mw-headline" id="Changing_the_appearance_of_cells_.28background_color.2C_rule_thickness.29">
      Changing the appearance of cells (background color, rule thickness)
     </span>
    </h2>
    <p>It is possible to have each cell with its own color and its own rule thickness. For example
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>chart<span class="brx">]</span>
<span class="cs">\setupFLOWcharts</span><span class="brx">[</span>height<span class="brx">=</span>3<span class="cs">\lineheight</span><span class="brx">]</span>

<span class="cs">\startFLOWchart</span><span class="brx">[</span>example-Cell<span class="brx">]</span>
<span class="cs">\startFLOWcell</span><span class="brx">[</span>background<span class="brx">=</span>color,backgroundcolor<span class="brx">=</span>yellow,rulethickness<span class="brx">=</span>5pt<span class="brx">]</span>
  <span class="cs">\name</span> <span class="br">{</span>flow<span class="br">}</span>
  <span class="cs">\location</span> <span class="br">{</span>1,1<span class="br">}</span>
  <span class="cs">\text</span> <span class="br">{</span>Flow<span class="br">}</span>
  <span class="cs">\connection</span> <span class="brx">[</span>rl<span class="brx">]</span> <span class="br">{</span>chart<span class="br">}</span>
<span class="cs">\stopFLOWcell</span>
<span class="cs">\startFLOWcell</span><span class="brx">[</span>background<span class="brx">=</span>color,backgroundcolor<span class="brx">=</span>lightblue<span class="brx">]</span>
  <span class="cs">\name</span> <span class="br">{</span>chart<span class="br">}</span>
  <span class="cs">\location</span><span class="br">{</span>2,1<span class="br">}</span>
  <span class="cs">\text</span> <span class="br">{</span>Charts<span class="br">}</span>
<span class="cs">\stopFLOWcell</span>
<span class="cs">\stopFLOWchart</span>
<span class="cs">\FLOWchart</span><span class="brx">[</span>example-Cell<span class="brx">]</span>
</pre>
     </li>
     <li class="rendering">
      <img height="134" src="../../wikiteximage/14d23ffd4af415097410443cc21563db.webp" width="538">
     </li>
    </ul>
    <p>As a matter of fact, there is no need for "background=color" because each cell already has a background color by default.
</p>
    <h2>
     <span id="Syntax_for_\connection">
     </span>
     <span class="mw-headline" id="Syntax_for_.5Cconnection">
      Syntax for
      <tt>
       <a class="new" href="../../index.php?title=Command/connection&action=edit&redlink=1.html" title="Command/connection (page does not exist)">
        \connection
       </a>
      </tt>
     </span>
    </h2>
    <pre class="tex"><span class="cs">\connection</span> <span class="brx">[</span>&lt;from&gt;&lt;to&gt;<span class="brx">]</span> <span class="br">{</span>&lt;FLOWcell&gt;<span class="br">}</span>
</pre>
    <p><code>&lt;from&gt;</code> and <code>&lt;to&gt;</code> are the points from which point to which point the connection should be drawn. The following graphic depicts the names of the points.
</p>
    <pre class="tex">       -t    t    +t
     ---------------- 
 +l |                | +r
    |                |
  l |                |  r
    |                |
 -l |                | -r
    |                |
     ---------------- 
       -b    b    +b

</pre>
    <h3>
     <span class="mw-headline" id="Example">
      Example
     </span>
    </h3>
    <p>The following code draws a line from the left top point of the current cell to the right bottom point of cell <code>foobar</code>.
</p>
    <pre class="tex"><span class="cs">\connection</span> <span class="brx">[</span>-t+b<span class="brx">]</span> <span class="br">{</span>foobar<span class="br">}</span>
</pre>
    <p>The code for connections in the pdf manual, e.g.
</p>
    <pre class="tex"><span class="cs">\connection</span><span class="brx">[</span>nb,pt<span class="brx">]</span><span class="br">{</span>episode_02_title<span class="br">}</span>
</pre>
    <p>No longer works
</p>
    <h2>
     <span class="mw-headline" id="Aligning_text_within_the_cell">
      Aligning text within the cell
     </span>
    </h2>
    <p>To align left or right, use
</p>
    <pre class="tex"><span class="cs">\text</span><span class="brx">[</span>l<span class="brx">]</span><span class="br">{</span>left<span class="br">}</span>
<span class="cs">\text</span><span class="brx">[</span>r<span class="brx">]</span><span class="br">{</span>right<span class="br">}</span>
</pre>
    <p>Forcing a paragraph break with \par in a cell does not work...
</p>
    <pre class="tex"><span class="cs">\text</span><span class="brx">[</span>l<span class="brx">]</span><span class="br">{</span>firstline <span class="cs">\par</span> secondline<span class="br">}</span>
</pre>
    <p>Whereas using \\ does work, so:
</p>
    <pre class="tex"><span class="cs">\text</span><span class="brx">[</span>l<span class="brx">]</span><span class="br">{</span>firstline <span class="cs">\\</span> secondline<span class="br">}</span>
</pre>
    <h2>
     <span class="mw-headline" id="Further_hints">
      Further hints
     </span>
    </h2>
    <ul>
     <li>
      <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/mchart.pdf" title="manual:mchart.pdf">
       Charts uncovered
      </a>
      manual
     </li>
     <li>
      There was a
      <a class="external text" href="http://www.im.ps.pl/context/?en" rel="nofollow">
       Flowchart creater
      </a>
      to create flowchart code using javascript, but it disappeared.
     </li>
     <li>
      The
      <a class="extiw" href="http://www.pragma-ade.nl/general/manuals/nodes.pdf" title="manual:nodes.pdf">
       nodes module
      </a>
      covers even more applications of charts.
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-16
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Graphics_and_media/Drawing_graphs_and_diagrams/Flow_charts">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
