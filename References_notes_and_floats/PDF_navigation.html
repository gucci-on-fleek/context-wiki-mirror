<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   References notes and floats/PDF navigation&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/References_notes_and_floats/PDF_navigation" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    References notes and floats/PDF navigation
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=739&diff=40756">2025-01-15</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h3>
       Contents
      </h3>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Link_coloring">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Link coloring
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Alternative_link_highlighting">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Alternative link highlighting
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-3">
       <a href="#Clickable_table_of_contents">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Clickable table of contents
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-4">
       <a href="#Default_focus_mode">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Default focus mode
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-5">
         <a href="#Named_destinations_.28and_links_to_them.29">
          <span class="tocnumber">
           4.1
          </span>
          <span class="toctext">
           Named destinations (and links to them)
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-6">
       <a href="#PDF_Bookmarks">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         PDF Bookmarks
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-7">
         <a href="#Quick_start">
          <span class="tocnumber">
           5.1
          </span>
          <span class="toctext">
           Quick start
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-8">
         <a href="#Explanation">
          <span class="tocnumber">
           5.2
          </span>
          <span class="toctext">
           Explanation
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-9">
         <a href="#Unwanted_output">
          <span class="tocnumber">
           5.3
          </span>
          <span class="toctext">
           Unwanted output
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-10">
         <a href="#Private_bookmarks">
          <span class="tocnumber">
           5.4
          </span>
          <span class="toctext">
           Private bookmarks
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-11">
         <a href="#XML_source">
          <span class="tocnumber">
           5.5
          </span>
          <span class="toctext">
           XML source
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-12">
       <a href="#PDF_Headers_and_Custom_Properties">
        <span class="tocnumber">
         6
        </span>
        <span class="toctext">
         PDF Headers and Custom Properties
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-13">
         <a href="#Prevent_certain_characters_from_appearing_in_pdf_headers">
          <span class="tocnumber">
           6.1
          </span>
          <span class="toctext">
           Prevent certain characters from appearing in pdf headers
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-14">
         <a href="#Import_PDF_metadata_fields_from_other_PDF_documents">
          <span class="tocnumber">
           6.2
          </span>
          <span class="toctext">
           Import PDF metadata fields from other PDF documents
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-15">
       <a href="#Further_reading">
        <span class="tocnumber">
         7
        </span>
        <span class="toctext">
         Further reading
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-16">
       <a href="#Footnotes">
        <span class="tocnumber">
         8
        </span>
        <span class="toctext">
         Footnotes
        </span>
       </a>
      </li>
     </ul>
    </div>
    <p>The <tt><a href="../Command/setupinteraction.html" title="Command/setupinteraction">\setupinteraction</a></tt> command configures all interaction in the resulting PDF document. Basic interaction (meaning clickable links for references) is enabled using
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
</pre>
    <p>This makes all links generated with the <tt><a href="../Command/goto.html" title="Command/goto">\goto</a></tt> command (and indirectly the <tt><a href="../Command/in.html" title="Command/in">\in</a></tt> and <tt><a href="../Command/at.html" title="Command/at">\at</a></tt> commands) clickable. A page is dedicated to this system of <b><a href="References.html" title="References notes and floats/References">References</a></b>.
</p>
    <h2>
     <span class="mw-headline" id="Link_coloring">
      Link coloring
     </span>
    </h2>
    <p>By default, the link text gets a green or red <a href="../Color.html" title="Color">color</a>, depending on whether the link is to another page or to the same page. You can change the link colors with the <tt>color</tt> (links to other pages) and <tt>contrastcolor</tt> (links to the same page) properties. Link style is by default set to bold.
</p>
    <p>For example, to disable link highlighting altogether:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="documentcs">\startTEXpage</span></span><span class="brx">[</span>offset<span class="brx">=</span>1dk<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>https://contextgarden.net/<span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span>https://contextgarden.net/<span class="brx">)</span><span class="brx">]</span> is a great source of information.

<span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start,color<span class="brx">=</span>,contrastcolor<span class="brx">=</span>, style<span class="brx">=</span>,<span class="brx">]</span>
<span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>https://contextgarden.net/<span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span>https://contextgarden.net/<span class="brx">)</span><span class="brx">]</span> is a great source of information.
<span class="cs"><span class="documentcs">\stopTEXpage</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="67" src="../wikiteximage/3bb7aad9be6e85c0c7f90c5043fe9862.webp" width="495">
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Alternative_link_highlighting">
      Alternative link highlighting
     </span>
    </h2>
    <p>There is an alternative way of highlighting interactive links, by adding a colored border to the link text, such as in:  
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="documentcs">\startTEXpage</span></span><span class="brx">[</span>offset<span class="brx">=</span>1dk<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start,color<span class="brx">=</span>,contrastcolor<span class="brx">=</span>, style<span class="brx">=</span>,<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>darkgreen<span class="brx">]</span>
<span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>https://contextgarden.net/<span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span>https://contextgarden.net/<span class="brx">)</span><span class="brx">]</span> is a great source of information.
<span class="cs"><span class="documentcs">\stopTEXpage</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="48" src="../wikiteximage/80ac5d444120588c19b4478760c1b465.webp" width="466">
     </li>
    </ul>
    <p>This is a special PDF feature (a link annotation border), not just a frame added to the link text.
</p>
    <p>Depending on your PDF viewer, these link annotation borders may be displayed and/or printed.
</p>
    <p>According to the specification, the links generated by ConTeXt are only to be displayed, not to be printed.
</p>
    <p>Just in case you wonder, this feature comes handy in order to have exactly the same PDF document in print and on screen.<sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>
</p>
    <h2>
     <span class="mw-headline" id="Clickable_table_of_contents">
      Clickable table of contents
     </span>
    </h2>
    <p>To make table of contents items clickable, use the <tt><a href="../Command/setupcombinedlist.html" title="Command/setupcombinedlist">\setupcombinedlist</a></tt> command.
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupcombinedlist</span></span><span class="brx">[</span>content<span class="brx">]</span><span class="brx">[</span>interaction<span class="brx">=</span>all<span class="brx">]</span>
</pre>
    <p>This makes the entire table of contents line clickable. It is possible to select just one part (<tt>sectionnumber</tt>, <tt>pagenumber</tt>, <tt>text</tt>).
</p>
    <p>If links have a color, this will also make the table of contents get a different text color. You can use the <tt>color</tt> property to change it back, <i>e.g.</i>:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupcombinedlist</span></span><span class="brx">[</span>content<span class="brx">]</span><span class="brx">[</span>interaction<span class="brx">=</span>all,color<span class="brx">=</span>black<span class="brx">]</span>
</pre>
    <p>Alternatively, you can use the <tt>textcolor</tt> property to change just the text colour, and leave the section and page numbers colored.
</p>
    <h2>
     <span class="mw-headline" id="Default_focus_mode">
      Default focus mode
     </span>
    </h2>
    <p>By default, clicking an inter-document hyperlink will switch to "fit page" mode, to override this:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start,focus<span class="brx">=</span>standard<span class="brx">]</span>
</pre>
    <h3>
     <span id="Named_destinations_(and_links_to_them)">
     </span>
     <span class="mw-headline" id="Named_destinations_.28and_links_to_them.29">
      Named destinations (and links to them)
     </span>
    </h3>
    <p>Having other <code>focus</code> value than <code>tight</code> or the default (<code>fit</code>), gives PDF named destinations (which allow direct links to those destinations).
</p>
    <p>With the following code, the links to named destinations would read:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start, focus<span class="brx">=</span>standard, prefix<span class="brx">=</span>_<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\completecontent</span></span>
<span class="cs"><span class="systemcs">\dorecurse</span></span><span class="br">{</span>25<span class="br">}</span>
  <span class="br">{</span><span class="cs"><span class="documentcs">\section</span></span><span class="br">{</span>Section<span class="br">}</span>
    a<span class="cs"><span class="documentcs">\footnote</span></span><span class="br">{</span><span class="br">}</span><span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <ol>
     <li>
      Link to a section:
      <a class="external free" href="../images/1/14/nameddest.pdf#nameddest=_62" rel="nofollow">
       https://wiki.contextgarden.net/images/1/14/nameddest.pdf#nameddest=_62
      </a>
      .
     </li>
     <li>
      Link to the last footnote in the document:
      <a class="external free" href="../images/1/14/nameddest.pdf#nameddest=_75" rel="nofollow">
       https://wiki.contextgarden.net/images/1/14/nameddest.pdf#nameddest=_75
      </a>
      .
     </li>
    </ol>
    <h2>
     <span class="mw-headline" id="PDF_Bookmarks">
      PDF Bookmarks
     </span>
    </h2>
    <h3>
     <span class="mw-headline" id="Quick_start">
      Quick start
     </span>
    </h3>
    <p>For the impatient (like me), here is a complete example showing typical and useful commands, which are explained below:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span> <span class="comment">% don't forget this line!</span>
<span class="comment">% make chapter, section bookmarks visible when opening document</span>
<span class="cs"><span class="stylecs">\placebookmarks</span></span><span class="brx">[</span>chapter,section,subsection<span class="brx">]</span><span class="brx">[</span>chapter,section<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteractionscreen</span></span><span class="brx">[</span>option<span class="brx">=</span>bookmark<span class="brx">]</span>
<span class="comment">% expand macros in bookmarks</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.bookmarks.preroll<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span>The beginning<span class="brx">]</span>
Hi!
<span class="cs"><span class="documentcs">\stopchapter</span></span>
<span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span><span class="br">{</span>A very, very<span class="cs">\\</span>long title<span class="br">}</span><span class="brx">]</span>
Greetings!
<span class="cs"><span class="documentcs">\startsection</span></span><span class="brx">[</span>title<span class="brx">=</span>Why so long<span class="brx">]</span>
I don't know
<span class="cs"><span class="documentcs">\startsubsection</span></span><span class="brx">[</span>title<span class="brx">=</span>Why not?<span class="brx">]</span>
Good point.
<span class="cs"><span class="documentcs">\stopsubsection</span></span>
<span class="cs"><span class="documentcs">\stopsection</span></span>
<span class="cs"><span class="documentcs">\stopchapter</span></span>
<span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span>The never-ending story<span class="brx">]</span>
Oh no.
<span class="cs"><span class="documentcs">\stopchapter</span></span>
<span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span>The never-ending story,
                    bookmark<span class="brx">=</span>Forever!<span class="brx">]</span>
Oh no.
<span class="cs"><span class="documentcs">\stopchapter</span></span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <p>It&rsquo;s important to note that ConTeXt LMTX expands macros in bookmarks and document metadata fields.
</p>
    <h3>
     <span class="mw-headline" id="Explanation">
      Explanation
     </span>
    </h3>
    <p>You need to activate the interaction handling in order to see the bookmarks using <tt><a href="../Command/setupinteraction.html" title="Command/setupinteraction">\setupinteraction</a></tt>.
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span>
  <span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
</pre>
    <p>The bookmarks window is usually not visible by default. To have the bookmark window open automatically when the document is opened:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteractionscreen</span></span>
   <span class="brx">[</span>option<span class="brx">=</span>bookmark<span class="brx">]</span> 
</pre>
    <p><i>Disclaimer:</i> <tt><a href="../Command/setupinteraction.html" title="Command/setupinteraction">\setupinteraction</a></tt> works with Adobe Reader/Acrobat, but other PDF viewers behave differently. E.g. xpdf v3.01 always opens the bookmark window.
</p>
    <p>To get bookmarks for chapters, sections, and subsections, use:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\placebookmarks</span></span><span class="brx">[</span>chapter,section,subsection<span class="brx">]</span>
</pre>
    <p>In the bookmark window, only chapter bookmarks are visible by default.
If chapter and section bookmarks should be visible:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\placebookmarks</span></span>
   <span class="brx">[</span>chapter,section,subsection<span class="brx">]</span>
   <span class="brx">[</span>chapter<span class="brx">]</span>
</pre>
    <p>This will open the document with the bookmarks for chapters and sections visible (read as: and open up the chapter bookmarks)
</p>
    <p>If your titles contain TeX commands or braces, you can choose to expand macros in bookmarks (not required in LMTX):
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.bookmarks.preroll<span class="brx">]</span>
</pre>
    <p>If you want the same document metadata (again, not required in LMTX), you can expand macros here, too:
</p>
    <pre class="tex"><span class="cs">\def</span><span class="cs"><span class="documentcs">\title</span></span><span class="br">{</span>Some <span class="cs">\emph</span><span class="br">{</span>title<span class="br">}</span>!<span class="br">}</span>
<span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>title<span class="brx">=</span><span class="cs"><span class="documentcs">\title</span></span>, subtitle<span class="brx">=</span>..., author<span class="brx">=</span>...<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>interaction.identity.preroll<span class="brx">]</span>
</pre>
    <p>The <a href="../Document_structure_and_headlines.html" title="Document structure and headlines">unnumbered headings</a> (<tt><a class="mw-redirect" href="../Command/_section.html" title="Command/title">\title</a></tt>, <tt><a class="mw-redirect" href="../Command/_section.html" title="Command/subject">\subject</a></tt> etc.) do <b>not</b> create bookmarks, even when listed in <tt><a href="../Command/placebookmarks.html" title="Command/placebookmarks">\placebookmarks</a></tt>.
</p>
    <p>In order to create the bookmarks, you need to add <code>force=yes</code>, for example like this:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\placebookmarks</span></span>
  <span class="brx">[</span>title, subject<span class="brx">]</span>
  <span class="brx">[</span>force<span class="brx">=</span>yes<span class="brx">]</span>
</pre>
    <p>If you do not like seeing the structure numbering in the bookmarks, you can add <code>number=no</code>, like this:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\placebookmarks</span></span>
  <span class="brx">[</span>chapter,section<span class="brx">]</span>
  <span class="brx">[</span>chapter<span class="brx">]</span>
  <span class="brx">[</span>number<span class="brx">=</span>no<span class="brx">]</span>
</pre>
    <h3>
     <span class="mw-headline" id="Unwanted_output">
      Unwanted output
     </span>
    </h3>
    <p>With a long heading in a huge font, you might want to add linebreaks by hand.  No problem, just use <tt>\\</tt>.  The bookmark code ignores <tt>\\</tt>, so the bookmark itself won't have a linebreak.
For example:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\placebookmarks</span></span><span class="brx">[</span>chapter<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteractionscreen</span></span><span class="brx">[</span>option<span class="brx">=</span>bookmark<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span>Long<span class="cs">\\</span> title<span class="brx">]</span>
hello
<span class="cs"><span class="documentcs">\stopchapter</span></span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <p>ConTeXt attempts to replace commands inside bookmarks with an acceptable string. However, the result is not always optimal. To tweak ConTeXts behaviour, add specific commands to <tt><a class="new" href="../index.php?title=Command/simplifiedcommands&action=edit&redlink=1.html" title="Command/simplifiedcommands (page does not exist)">\simplifiedcommands</a></tt>. 
</p>
    <p>For example, to replace the <code>\CONTEXT</code> logo (which would normally become <i>CONTEXT</i>) with a camel-cased version, use the following:
</p>
    <pre class="tex"> <span class="cs"><span class="systemcs">\appendtoks</span></span>
     <span class="cs">\def</span><span class="cs"><span class="documentcs">\CONTEXT</span></span><span class="br">{</span>ConTeXt<span class="br">}</span>
 <span class="cs">\to</span> <span class="cs">\simplifiedcommands</span>
</pre>
    <p>A more general method, also usable for the above problem, is to use the <code>bookmark</code> option to specify the bookmark text explicitly.  For example:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\placebookmarks</span></span><span class="brx">[</span>chapter<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteractionscreen</span></span><span class="brx">[</span>option<span class="brx">=</span>bookmark<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span>A very long chapter<span class="cs">\\</span> about splines,
                     bookmark<span class="brx">=</span>Splines<span class="brx">]</span>
hello
<span class="cs"><span class="documentcs">\stopchapter</span></span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <table style="background-color:#ffffcc;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:1em 1em;vertical-align:top;"><ul class="demo"><li class="rendering"><img height="1240" src="../wikiteximage/032725093f2bd3a6a906697aa1938dc7.webp" width="874"></li></ul>
</td>
       <td style="padding:1em 1em;"><b>ConTeXt Mkii (deprecated) notes (See: <a class="new" href="../index.php?title=Category:Mkii&action=edit&redlink=1" title="Category:Mkii (page does not exist)">Mkii</a>):</b><br>In mkii, such manual bookmarks used the <tt><a href="../Command/bookmark.html" title="Command/bookmark">\bookmark</a></tt> command on a separate line following a <tt><a class="mw-redirect" href="../Command/_section.html" title="Command/chapter">\chapter</a></tt> command. With the new <tt><a class="mw-redirect" href="../Command/_startsection.html" title="Command/startchapter">\startchapter</a></tt> command, this is no longer needed, nor recommended.
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span class="mw-headline" id="Private_bookmarks">
      Private bookmarks
     </span>
    </h3>
    <p>We can also place our own list of bookmarks:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span>
  <span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteractionscreen</span></span>
  <span class="brx">[</span>option<span class="brx">=</span>bookmark<span class="brx">]</span>
<span class="cs"><span class="stylecs">\definelist</span></span>
  <span class="brx">[</span>mylist<span class="brx">]</span>
<span class="cs"><span class="stylecs">\placebookmarks</span></span>
  <span class="brx">[</span>chapter,mylist<span class="brx">]</span>
  <span class="brx">[</span>chapter,mylist<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
    <span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span><span class="br">{</span>My title<span class="br">}</span><span class="brx">]</span>
        <span class="cs"><span class="documentcs">\input</span></span> knuth<span class="cs"><span class="documentcs">\page</span></span>   
        <span class="cs"><span class="documentcs">\bookmark</span></span><span class="brx">[</span>mylist<span class="brx">]</span><span class="br">{</span>Before input zapf<span class="br">}</span><span class="cs"><span class="documentcs">\input</span></span> zapf
    <span class="cs"><span class="documentcs">\stopchapter</span></span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <h3>
     <span class="mw-headline" id="XML_source">
      XML source
     </span>
    </h3>
    <p>When processing XML input file information in TUC file is stored as the XML command with the reference to XML node
</p>
    <pre class="tex"><span class="brx">[</span>"titledata"<span class="brx">]</span><span class="brx">=</span><span class="br">{</span>
   <span class="brx">[</span>"label"<span class="brx">]</span><span class="brx">=</span>"section",
   <span class="brx">[</span>"title"<span class="brx">]</span><span class="brx">=</span>"<span class="cs">\\</span>xmlatt<span class="br">{</span>xml:name::4<span class="br">}</span><span class="br">{</span>title<span class="br">}</span>",
  <span class="brx">[</span>"userdata"<span class="brx">]</span><span class="brx">=</span><span class="br">{</span>
   <span class="brx">[</span>"usertitle"<span class="brx">]</span><span class="brx">=</span><span class="cs">\\</span>xmlatt<span class="br">{</span>xml:name::4<span class="br">}</span><span class="br">{</span>title<span class="br">}</span>,
  <span class="br">}</span>
</pre>
    <p>You have to expand the information to get the text in TUC file and subsequently in bookmarks by modifying sections:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setuphead</span></span>
    <span class="brx">[</span>section<span class="brx">]</span>
    <span class="brx">[</span>expansion<span class="brx">=</span>yes<span class="brx">]</span>
</pre>
    <p>To expand userdata also, you can use <tt>\normalexpanded{\startsection[..,..=..,..][..,..=..,..]}</tt> instead of <tt>expansion=yes</tt>. They are not in conflict.
</p>
    <pre class="tex"><span class="cs">\normalexpanded</span><span class="br">{</span><span class="cs"><span class="documentcs">\startsection</span></span><span class="brx">[</span>title<span class="brx">=</span><span class="cs">\\</span>xmlatt<span class="br">{</span>xml:name::4<span class="br">}</span><span class="br">{</span>title<span class="br">}</span>,
                              bookmark<span class="brx">=</span><span class="cs">\\</span>xmlatt<span class="br">{</span>xml:name::4<span class="br">}</span><span class="br">{</span>title<span class="br">}</span><span class="brx">]</span>
                             <span class="brx">[</span>usertitle<span class="brx">=</span><span class="cs">\\</span>xmlatt<span class="br">{</span>xml:name::4<span class="br">}</span><span class="br">{</span>title<span class="br">}</span><span class="brx">]</span><span class="br">}</span>
...
<span class="cs"><span class="documentcs">\stopsection</span></span>
</pre>
    <h2>
     <span class="mw-headline" id="PDF_Headers_and_Custom_Properties">
      PDF Headers and Custom Properties
     </span>
    </h2>
    <p>In order to add <b>Author</b>, <b>Title</b>, <b>Keywords</b>, ... to PDF headers, use:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span>
   <span class="brx">[</span>state<span class="brx">=</span>start,
    title<span class="brx">=</span><span class="br">{</span>...<span class="br">}</span>,
    author<span class="brx">=</span><span class="br">{</span>...<span class="br">}</span>,
    subtitle<span class="brx">=</span><span class="br">{</span>...<span class="br">}</span>,
    keyword<span class="brx">=</span><span class="br">{</span>...<span class="br">}</span><span class="brx">]</span>
</pre>
    <p>In order to add custom key-value properties in the PDF Document, use:
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\pdfbackendsetinfo</span></span><span class="br">{</span>foo<span class="br">}</span><span class="br">{</span>bar<span class="br">}</span>
</pre>
    <h3>
     <span class="mw-headline" id="Prevent_certain_characters_from_appearing_in_pdf_headers">
      Prevent certain characters from appearing in pdf headers
     </span>
    </h3>
    <p>To ignore certain TeX commands in <tt><a href="../Command/setupinteraction.html" title="Command/setupinteraction">\setupinteraction</a></tt> add them to <tt><a class="new" href="../index.php?title=Command/simplifiedcommands&action=edit&redlink=1.html" title="Command/simplifiedcommands (page does not exist)">\simplifiedcommands</a></tt>. For example, to ignore <tt><a href="../Command/quad.html" title="Command/quad">\quad</a></tt> in <code>pdfauthor</code>, use the following (again, this is default in LMTX):
</p>
    <pre class="tex"> <span class="cs"><span class="systemcs">\appendtoks</span></span>
     <span class="cs">\let</span><span class="cs"><span class="stylecs">\quad</span></span><span class="cs"><span class="stylecs">\space</span></span>
 <span class="cs">\to</span> <span class="cs">\simplifiedcommands</span>

<span class="cs"><span class="stylecs">\setupinteraction</span></span>
    <span class="brx">[</span>author<span class="brx">=</span><span class="br">{</span>Author1<span class="cs"><span class="stylecs">\quad</span></span> Author2<span class="br">}</span><span class="brx">]</span>
</pre>
    <table style="background-color:#ffffcc;color:#000000;border:1px solid #606060;margin:1em 5% 1em 5%;">
     <tbody>
      <tr>
       <td style="padding:1em 1em;vertical-align:top;"><ul class="demo"><li class="rendering"><img height="1240" src="../wikiteximage/032725093f2bd3a6a906697aa1938dc7.webp" width="874"></li></ul>
</td>
       <td style="padding:1em 1em;"><b>ConTeXt Mkii (deprecated) notes (See: <a class="new" href="../index.php?title=Category:Mkii&action=edit&redlink=1" title="Category:Mkii (page does not exist)">Mkii</a>):</b><br>Accented characters like <i>&auml;</i>, <i>&ccaron;</i>, ... will turn into their unaccented counterparts <i>a</i>, <i>c</i>, ... by default. If you want to prevent that, use
<pre class="tex"><span class="cs"><span class="documentcs">\input</span></span> spec-tst
</pre>
<p>For example
</p>
<pre class="tex"><span class="cs"><span class="stylecs">\enableregime</span></span><span class="brx">[</span>utf<span class="brx">]</span>

<span class="cs"><span class="stylecs">\setupinteraction</span></span>
   <span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupinteractionscreen</span></span>
   <span class="brx">[</span>option<span class="brx">=</span>bookmark<span class="brx">]</span>

<span class="comment">% before \placebookmarks</span>
<span class="cs"><span class="documentcs">\input</span></span> spec-tst.tex 

<span class="cs"><span class="stylecs">\placebookmarks</span></span>
   <span class="brx">[</span>chapter,section,subsection<span class="brx">]</span>
   <span class="brx">[</span>chapter<span class="brx">]</span>

... and here is your document with accented characters in titles & bookmarks ...

</pre> 
</td>
      </tr>
     </tbody>
    </table>
    <h3>
     <span class="mw-headline" id="Import_PDF_metadata_fields_from_other_PDF_documents">
      Import PDF metadata fields from other PDF documents
     </span>
    </h3>
    <p>Inspired by a mailing list reply from Hans, here is a minimal sample:
</p>
    <pre class="tex"><span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="systemcs">\startluacode</span></span>
function document.transfer_metadata<span class="brx">(</span>name<span class="brx">)</span>
  local main_doc <span class="brx">=</span> lpdf.epdf.load<span class="brx">(</span>name<span class="brx">)</span>
  lpdf.addtocatalog<span class="brx">(</span>"Lang", lpdf.unicode<span class="brx">(</span>main_doc.Catalog.Lang<span class="brx">)</span>, lpdf.string<span class="brx">(</span>main_doc.Catalog.Lang<span class="brx">)</span><span class="brx">)</span>
  context.setupinteraction<span class="br">{</span> title <span class="brx">=</span> main_doc.Info.Title <span class="br">}</span>
  context.setupinteraction<span class="br">{</span> subtitle <span class="brx">=</span> main_doc.Info.Subject <span class="br">}</span>
  context.setupinteraction<span class="br">{</span> author <span class="brx">=</span> main_doc.Info.Author <span class="br">}</span>
  lpdf.epdf.unload<span class="brx">(</span>name<span class="brx">)</span>
end
<span class="cs"><span class="systemcs">\stopluacode</span></span>
<span class="cs">\unexpanded</span><span class="cs">\def</span><span class="cs">\TransferMetadata</span><span class="brx">#</span>1<span class="comment">%</span>
  <span class="br">{</span><span class="cs"><span class="systemcs">\ctxlua</span></span><span class="br">{</span>document.transfer_metadata<span class="brx">(</span>"<span class="brx">#</span>1"<span class="brx">)</span><span class="br">}</span><span class="br">}</span>
<span class="cs">\null</span>
<span class="cs">\TransferMetadata</span><span class="br">{</span>name.pdf<span class="br">}</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <p>It also imports language to the PDF document (not to the document language).
</p>
    <h2>
     <span class="mw-headline" id="Further_reading">
      Further reading
     </span>
    </h2>
    <ul>
     <li>
      <a href="URL.html" title="References notes and floats/URL">
       URL
      </a>
      : typesetting of URLs references.
     </li>
     <li>
      <a href="../Document_layout_and_layers/Presentations.html" title="Document layout and layers/Presentations">
       Presentations
      </a>
      ,
      <a href="../Document_layout_and_layers/Presentations/Presentation_styles.html" title="Document layout and layers/Presentations/Presentation styles">
       Presentation styles
      </a>
      ,
      <a href="../Document_layout_and_layers/Presentations/Macros_for_presentation_with_steps.html" title="Document layout and layers/Presentations/Macros for presentation with steps">
       Macros for presentation with steps
      </a>
      ,
      <a href="../Document_layout_and_layers/Presentations/Presentation_effects.html" title="Document layout and layers/Presentations/Presentation effects">
       Presentation effects
      </a>
     </li>
     <li>
      <a href="../Widgets.html" title="Widgets">
       Widgets
      </a>
      (interactive elements, form fields etc.) and
      <a href="../Interaction_and_button.html" title="Interaction and button">
       Interaction and button
      </a>
     </li>
     <li>
      See in
      <a href="../Graphics_and_media/Tutorials/Using_graphics.html" title="Graphics and media/Tutorials/Using graphics">
       Using graphics
      </a>
      how to use movies.
     </li>
     <li>
      <a href="../Graphics_and_media/Including_audio_and_video.html" title="Graphics and media/Including audio and video">
       Including audio and video
      </a>
      describes how to add audio and video files.
     </li>
    </ul>
    <h2>
     <span class="mw-headline" id="Footnotes">
      Footnotes
     </span>
    </h2>
    <div class="mw-references-wrap">
     <ol class="references">
      <li id="cite_note-1">
       <span class="mw-cite-backlink">
        <a href="#cite_ref-1">
         &uarr;
        </a>
       </span>
       <span class="reference-text">
        If you have a ConTeXt version from 2024 (as the wiki doesn&rsquo;t have at the time of writing), there is also a way to distinguish border colors according to link types, such as in:
        <ul class="demo">
         <li class="code">
          <pre class="tex"><span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\definecolor</span></span><span class="brx">[</span>internal<span class="brx">]</span><span class="brx">[</span>x<span class="brx">=</span>00cc00<span class="brx">]</span>
<span class="cs"><span class="stylecs">\definecolor</span></span><span class="brx">[</span>external<span class="brx">]</span><span class="brx">[</span>x<span class="brx">=</span>0000cc<span class="brx">]</span>
<span class="cs"><span class="stylecs">\definecolor</span></span><span class="brx">[</span>urls<span class="brx">]</span><span class="brx">[</span>x<span class="brx">=</span>cc0000<span class="brx">]</span>
<span class="cs"><span class="stylecs">\definecolor</span></span><span class="brx">[</span>programs<span class="brx">]</span><span class="brx">[</span>x<span class="brx">=</span>000000<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>internal<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>inner:internal<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>special operation+internal:internal<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>special operation+page:internal<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>outer:external<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>outer with inner:external<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>special outer with operation+page:external<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>special operation+file:programs<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>special operation+program:programs<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>references.border<span class="brx">=</span>special operation+url:urls<span class="brx">]</span>

<span class="cs"><span class="documentcs">\startTEXpage</span></span><span class="brx">[</span>offset<span class="brx">=</span>1dk<span class="brx">]</span>
<span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>this page<span class="br">}</span><span class="brx">[</span>page<span class="brx">(</span>1<span class="brx">)</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\blank</span></span>
<span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>page 25 from &ldquo;Dealing with XML&rdquo;<span class="br">}</span><span class="brx">[</span>xml-mkiv.pdf::25<span class="brx">]</span>
<span class="cs"><span class="documentcs">\blank</span></span>
<span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>https://contextgarden.net/<span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span>https://contextgarden.net/<span class="brx">)</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\blank</span></span>
<span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>the source of this file<span class="br">}</span><span class="brx">[</span>program<span class="brx">(</span><span class="cs">\jobname</span>.tex<span class="brx">)</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\stopTEXpage</span></span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
         </li>
         <li class="rendering">
          <img height="145" src="../wikiteximage/8a086d78c844db98786ae2fc08460232.webp" width="320">
         </li>
        </ul>
        <p>The previous sample makes three categories: URLs, internal (parts of the same document), external (parts of other PDF documents), and programs or file (better avoid using these ones, since they might be considered security issues).
</p>
        <p>Please, consider the following questions before using this feature:
</p>
        <ol>
         <li>
          Since it is not related to typesetting, it is not an official feature in ConTeXt.
         </li>
         <li>
          It depends completely on which viewer is being used to display PDF documents.
         </li>
         <li>
          In any case, this feature is useless when not used sparingly (too many border colors may confuse users).
         </li>
        </ol>
       </span>
      </li>
     </ol>
    </div>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-14
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/References_notes_and_floats/PDF_navigation">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
