<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../style.css" rel="stylesheet">
  <link href="../favicon.ico" rel="icon" sizes="32x32">
  <title>
   References notes and floats/URL&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/References_notes_and_floats/URL" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    References notes and floats/URL
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=2780&diff=38450">2025-01-08</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Overview">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Overview
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#How_to_Typeset_URLs">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         How to Typeset URLs
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-3">
         <a href="#Example_for_Mailto_.231">
          <span class="tocnumber">
           2.1
          </span>
          <span class="toctext">
           Example for Mailto #1
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-4">
         <a href="#Example_for_Mailto_.232">
          <span class="tocnumber">
           2.2
          </span>
          <span class="toctext">
           Example for Mailto #2
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-5">
         <a href="#Example_for_WWW_.28.5Cgoto.29">
          <span class="tocnumber">
           2.3
          </span>
          <span class="toctext">
           Example for WWW (\goto)
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-6">
         <a href="#Escaping_of_Special_Characters">
          <span class="tocnumber">
           2.4
          </span>
          <span class="toctext">
           Escaping of Special Characters
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-7">
       <a href="#Hyphenated_URLs">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Hyphenated URLs
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-8">
         <a href="#Hyphenation_Rules">
          <span class="tocnumber">
           3.1
          </span>
          <span class="toctext">
           Hyphenation Rules
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-9">
         <a href="#Escaping_Special_Characters">
          <span class="tocnumber">
           3.2
          </span>
          <span class="toctext">
           Escaping Special Characters
          </span>
         </a>
        </li>
       </ul>
      </li>
      <li class="toclevel-1 tocsection-10">
       <a href="#Setting_Color_and_Style">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Setting Color and Style
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-11">
       <a href="#Tips_and_Tricks">
        <span class="tocnumber">
         5
        </span>
        <span class="toctext">
         Tips and Tricks
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-12">
         <a href="#Using_variable_URLs">
          <span class="tocnumber">
           5.1
          </span>
          <span class="toctext">
           Using variable URLs
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-13">
         <a href="#Many_Different_Hyperrefs">
          <span class="tocnumber">
           5.2
          </span>
          <span class="toctext">
           Many Different Hyperrefs
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-14">
         <a href="#Avoid_Escaping_Characters">
          <span class="tocnumber">
           5.3
          </span>
          <span class="toctext">
           Avoid Escaping Characters
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-15">
         <a href="#External_Links">
          <span class="tocnumber">
           5.4
          </span>
          <span class="toctext">
           External Links
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Overview">
      Overview
     </span>
    </h2>
    <p>URLs can be typeset in various ways.  You may specify a URL for later reuse via <tt><a href="../Command/useURL.html" title="Command/useURL">\useURL</a></tt>:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span>aurl<span class="brx">]</span>       <span class="brx">[</span>http://xkcd.com/149/<span class="brx">]</span> <span class="brx">[</span><span class="brx">]</span> <span class="brx">[</span>I prefer hot dogs.<span class="brx">]</span>
</pre>
    <p>where #1 is the identifier, #2 is the URL you want to point to, and #4 the text to be displayed where the URL is used. #3 can be used for the 'file path' portion of the URL, if you want. This dates back to when hyperlink support in 
DVI viewers required that split.
</p>
    <p>Alternatively, you can use only two arguments and the URL will be used as its own text. 
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span>anotherurl<span class="brx">]</span> <span class="brx">[</span>http://xkcd.com/224/<span class="brx">]</span>
</pre>
    <p>(That way any character may appear inside the URL string without breaking things under certain circumstances, which can happen when you specify the URL itself as the fourth argument.)
</p>
    <p>Now that you have defined some URLs you are ready to dereference them by their identifier wherever you please.  Don't forget to enable interaction for clickable WWW-look-and-feel.
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span>aurl<span class="brx">]</span>         <span class="comment">% typesets the URL description in color</span>
<span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span>anotherurl<span class="brx">]</span>   <span class="comment">% typesets the URL in color</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <p><br>
URL shortcuts defined by <tt><a href="../Command/useURL.html" title="Command/useURL">\useURL</a></tt> can be used while <tt><a href="../Command/url.html" title="Command/url">\url</a></tt> as well:
</p>
    <pre class="tex"><span class="cs"><span class="documentcs">\url</span></span><span class="brx">[</span>aurl<span class="brx">]</span>
</pre>
    <h2>
     <span class="mw-headline" id="How_to_Typeset_URLs">
      How to Typeset URLs
     </span>
    </h2>
    <h3>
     <span id="Example_for_Mailto_#1">
     </span>
     <span class="mw-headline" id="Example_for_Mailto_.231">
      Example for Mailto #1
     </span>
    </h3>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\useurl</span></span> <span class="brx">[</span>mymail<span class="brx">]</span> <span class="brx">[</span>mailto:nobody@example.zzz<span class="brx">]</span> <span class="brx">[</span><span class="brx">]</span><span class="brx">[</span>visible@mailaddress.zzz<span class="brx">]</span>

Send your spam to <span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span>mymail<span class="brx">]</span>!
</pre>
     </li>
     <li class="rendering">
      <img height="17" src="../wikiteximage/f08c1f1715fced42eb16814acd35c2f7.webp" width="345">
     </li>
    </ul>
    <h3>
     <span id="Example_for_Mailto_#2">
     </span>
     <span class="mw-headline" id="Example_for_Mailto_.232">
      Example for Mailto #2
     </span>
    </h3>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>

Send your spam to <span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>visible@mailaddress.zzz<span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span>mailto:nobody@example.zzz<span class="brx">)</span><span class="brx">]</span>
</pre>
     </li>
     <li class="rendering">
      <img height="17" src="../wikiteximage/b22fad9a4c5471862242a255e94ce4c3.webp" width="341">
     </li>
    </ul>
    <h3>
     <span id="Example_for_WWW_(\goto)">
     </span>
     <span class="mw-headline" id="Example_for_WWW_.28.5Cgoto.29">
      Example for WWW (
      <tt>
       <a href="../Command/goto.html" title="Command/goto">
        \goto
       </a>
      </tt>
      )
     </span>
    </h3>
    <p>Another way of typesetting URLs is the <tt><a href="../Command/goto.html" title="Command/goto">\goto</a></tt>: \goto{#1}[#2] command.  This expects the description text as first argument and the actual URL as the second one; note that it has to be wrapped in url(#2) to create a clickable link:
</p>
    <pre class="tex"><span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span>In Lua, array indices start from one.<span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span>http://www.xkcd.com/163/<span class="brx">)</span><span class="brx">]</span>
</pre>
    <h3>
     <span class="mw-headline" id="Escaping_of_Special_Characters">
      Escaping of Special Characters
     </span>
    </h3>
    <p>You might be interested in <a href="URL#Avoid_Escaping_Characters.html" title="References notes and floats/URL">not escaping characters</a>.
</p>
    <p>Note that special characters, eg hash sign, percent sign, must be escaped by backslash. 
Escaping means that the special character will be processed one step later and it prevents
annoying error messages during compilation.
</p>
    <p>The <code>#</code> sign will be replaced by <code>\#</code>,
the <code>%</code> sign by <code>\%</code>, etc.
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\useurl</span></span> <span class="brx">[</span>myurl<span class="brx">]</span> <span class="brx">[</span>www.example.zzz/\<span class="brx">#</span>999<span class="brx">]</span> <span class="brx">[</span><span class="brx">]</span> <span class="brx">[</span>www.example.zzz/\<span class="brx">#</span>999<span class="brx">]</span>
</pre>
     </li>
     <li class="rendering">
      <img height="7" src="../wikiteximage/b42d97fdad48e1e37c1553b497513a56.webp" width="7">
     </li>
    </ul>
    <p>Another way of writing special characters is described below, with hyphenated URLs.
</p>
    <h2>
     <span class="mw-headline" id="Hyphenated_URLs">
      Hyphenated URLs
     </span>
    </h2>
    <p>URLs tend to become large monsters under many circumstances but you may have a good reason not to conceal them from the reader. 
This is where hyphenation comes in handy.
ConTeXt provides a dedicated mechanism for chopping them into pieces:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\enabledirectives</span></span><span class="brx">[</span>hyphenators.urls.packslashes<span class="brx">]</span> <span class="comment">% this avoids consecutive slashes each in a different line </span>
<span class="cs"><span class="stylecs">\sethyphenatedurlbefore</span></span><span class="br">{</span>/<span class="br">}</span> <span class="comment">% but then they seem to be fixed to what comes before and after them</span>
<span class="cs"><span class="documentcs">\startTEXpage</span></span><span class="brx">[</span>width<span class="brx">=</span>7em, foregroundstyle<span class="brx">=</span><span class="cs">\ttb</span><span class="brx">]</span> <span class="comment">% just to display the output better</span>
<span class="cs">\hsize</span><span class="cs">\zeropoint</span> <span class="comment">% to see where lines may be broken</span>
<span class="cs"><span class="documentcs">\hyphenatedurl</span></span><span class="br">{</span>http://bits.blogs.nytimes.com/2010/03/05/a-former-book-designer-says-good-riddance-to-print/?hpw<span class="br">}</span>
<span class="cs"><span class="documentcs">\stopTEXpage</span></span>
</pre>
     </li>
     <li class="rendering">
      <img height="543" src="../wikiteximage/1461bdca9a53609517f355a2dfe288af.webp" width="169">
     </li>
    </ul>
    <p>The previous sample shows all possible line breaks, since horizontal size (text width) has been set to zero (<tt><a class="new" href="../index.php?title=Command/hsize&action=edit&redlink=1.html" title="Command/hsize (page does not exist)">\hsize</a></tt><tt><a class="new" href="../index.php?title=Command/zeropoint&action=edit&redlink=1.html" title="Command/zeropoint (page does not exist)">\zeropoint</a></tt>).
</p>
    <h3>
     <span class="mw-headline" id="Hyphenation_Rules">
      Hyphenation Rules
     </span>
    </h3>
    <p>This has some characters predefined where Hans &ldquo;likes&rdquo; URLs to break (see the list at the beginning of <a class="extiw" href="http://source.contextgarden.net/lang-url.lua" title="source:lang-url.lua">lang-url.lua</a>, cf. <a class="external text" href="http://www.ntg.nl/pipermail/ntg-context/2008/032959.html" rel="nofollow">a message on ntg-context</a>).
If you prefer other characters you can add them via:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\sethyphenatedurlnormal</span></span><span class="br">{</span>:<span class="brx">=</span>?&<span class="br">}</span>
<span class="cs"><span class="stylecs">\sethyphenatedurlbefore</span></span><span class="br">{</span>?&<span class="br">}</span>
<span class="cs"><span class="stylecs">\sethyphenatedurlafter</span></span> <span class="br">{</span>:<span class="brx">=</span><span class="br">}</span>
</pre>
    <p>URL hyphenation can, of course, be used wherever you need them.
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span>yaurl<span class="brx">]</span>      <span class="brx">[</span>http://xkcd.com/638/<span class="brx">]</span> <span class="brx">[</span><span class="brx">]</span> <span class="brx">[</span><span class="cs"><span class="documentcs">\hyphenatedurl</span></span><span class="br">{</span>http://xkcd.com/638/<span class="br">}</span><span class="brx">]</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
<span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span>yaurl<span class="brx">]</span>
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <h3>
     <span class="mw-headline" id="Escaping_Special_Characters">
      Escaping Special Characters
     </span>
    </h3>
    <p>The method for escaping of special characters described above does not work with command
<tt><a class="new" href="../index.php?title=Command/hyphenatedurl&action=edit&redlink=1.html" title="Command/hyphenatedurl (page does not exist)">\hyphenatedurl</a></tt> completely, unfortunately. Escaping backslash will undesirably appear on the output when percent sign is printed out. Similar problems bring hash sign and backslash.
</p>
    <p>Therefore, these three characters must be rewritten to commands, see the following list:
</p>
    <table>
     <tbody>
      <tr>
       <td><code>%</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterpercent.html" title="Command/letterpercent">\letterpercent</a></tt></code></td>
      </tr>
      <tr>
       <td><code>#</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterhash.html" title="Command/letterhash">\letterhash</a></tt></code></td>
      </tr>
      <tr>
       <td><code>\</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterescape.html" title="Command/letterescape">\letterescape</a></tt> or <tt><a href="../Command/letterbackslash.html" title="Command/letterbackslash">\letterbackslash</a></tt></code></td>
      </tr>
     </tbody>
    </table>
    <p>For other characters, similar commands have been predefined but it is not necessary to use them.
</p>
    <table>
     <tbody>
      <tr>
       <td><code>&</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterampersand.html" title="Command/letterampersand">\letterampersand</a></tt></code></td>
      </tr>
      <tr>
       <td><code>&lt;</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterless.html" title="Command/letterless">\letterless</a></tt></code></td>
      </tr>
      <tr>
       <td><code>&gt;</code></td>
       <td> --&gt; <code><tt><a href="../Command/lettermore.html" title="Command/lettermore">\lettermore</a></tt></code></td>
      </tr>
      <tr>
       <td><code>"</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterdoublequote.html" title="Command/letterdoublequote">\letterdoublequote</a></tt></code></td>
      </tr>
      <tr>
       <td><code>'</code></td>
       <td> --&gt; <code><tt><a href="../Command/lettersinglequote.html" title="Command/lettersinglequote">\lettersinglequote</a></tt></code></td>
      </tr>
      <tr>
       <td><code>$</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterdollar.html" title="Command/letterdollar">\letterdollar</a></tt></code></td>
      </tr>
      <tr>
       <td><code>^</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterhat.html" title="Command/letterhat">\letterhat</a></tt></code></td>
      </tr>
      <tr>
       <td><code>_</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterunderscore.html" title="Command/letterunderscore">\letterunderscore</a></tt></code></td>
      </tr>
      <tr>
       <td><code>|</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterbar.html" title="Command/letterbar">\letterbar</a></tt></code></td>
      </tr>
      <tr>
       <td><code>~</code></td>
       <td> --&gt; <code><tt><a href="../Command/lettertilde.html" title="Command/lettertilde">\lettertilde</a></tt></code></td>
      </tr>
      <tr>
       <td><code>/</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterslash.html" title="Command/letterslash">\letterslash</a></tt></code></td>
      </tr>
      <tr>
       <td><code>?</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterquestionmark.html" title="Command/letterquestionmark">\letterquestionmark</a></tt></code></td>
      </tr>
      <tr>
       <td><code>!</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterexclamationmark.html" title="Command/letterexclamationmark">\letterexclamationmark</a></tt></code></td>
      </tr>
      <tr>
       <td><code>@</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterat.html" title="Command/letterat">\letterat</a></tt></code></td>
      </tr>
      <tr>
       <td><code>:</code></td>
       <td> --&gt; <code><tt><a href="../Command/lettercolon.html" title="Command/lettercolon">\lettercolon</a></tt></code></td>
      </tr>
      <tr>
       <td><code>{</code></td>
       <td> --&gt; <code><tt><a href="../Command/letterbgroup.html" title="Command/letterbgroup">\letterbgroup</a></tt></code> or <code><tt><a href="../Command/letteropenbrace.html" title="Command/letteropenbrace">\letteropenbrace</a></tt></code> or <code><tt><a href="../Command/letterleftbrace.html" title="Command/letterleftbrace">\letterleftbrace</a></tt></code></td>
      </tr>
      <tr>
       <td><code>}</code></td>
       <td> --&gt; <code><tt><a href="../Command/letteregroup.html" title="Command/letteregroup">\letteregroup</a></tt></code> or <code><tt><a href="../Command/letterclosebrace.html" title="Command/letterclosebrace">\letterclosebrace</a></tt></code> or <code><tt><a href="../Command/letterrightbrace.html" title="Command/letterrightbrace">\letterrightbrace</a></tt></code></td>
      </tr>
     </tbody>
    </table>
    <p>A custom symbol can be inserted as well, eg in case of a linebreak:
</p>
    <pre class="tex"><span class="cs">\def</span><span class="cs">\hyphenatedurlseparator</span><span class="br">{</span>&larrhk;<span class="br">}</span>
</pre>
    <p>These special commands can be used in other cases, like <tt><a href="../Command/useURL.html" title="Command/useURL">\useURL</a></tt>, too.
</p>
    <h2>
     <span class="mw-headline" id="Setting_Color_and_Style">
      Setting Color and Style
     </span>
    </h2>
    <p>For <tt><a href="../Command/url.html" title="Command/url">\url</a></tt>:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupurl</span></span>
   <span class="brx">[</span>color<span class="brx">=</span>blue,
    style<span class="brx">=</span><span class="cs">\tf</span><span class="brx">]</span>
</pre>
    <p>For  <tt><a href="../Command/goto.html" title="Command/goto">\goto</a></tt> and <tt><a href="../Command/from.html" title="Command/from">\from</a></tt>:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span>
   <span class="brx">[</span>state<span class="brx">=</span>start,
    color<span class="brx">=</span>blue,
    style<span class="brx">=</span><span class="cs">\tf</span><span class="brx">]</span>
</pre>
    <h2>
     <span class="mw-headline" id="Tips_and_Tricks">
      Tips and Tricks
     </span>
    </h2>
    <h3>
     <span class="mw-headline" id="Using_variable_URLs">
      Using variable URLs
     </span>
    </h3>
    <p>When using variables, or macros in general, it's necessary to consider that <code>\useURL</code> <b>doesn't expand</b>, which means that any commands within will be treated like text and printed plainly, i.e. instead of the hyperlink the command name will be pasted to the browser or mail client. To circumvent this use <code>\expanded{}</code> around <code>\useURL</code>:
</p>
    <pre class="tex"><span class="cs"><span class="systemcs">\expanded</span></span><span class="br">{</span><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="br">}</span>
</pre>
    <p>The following MWE demonstrates the issue.
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="comment">%</span>
<span class="cs"><span class="stylecs">\setvariables</span></span><span class="brx">[</span>Sender<span class="brx">]</span><span class="brx">[</span>Mail<span class="brx">=</span><span class="br">{</span>ntg-context@ntg.nl<span class="br">}</span><span class="brx">]</span>
<span class="comment">%</span>
<span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span>Direct<span class="brx">]</span><span class="brx">[</span>mailto:ntg-context@ntg.nl<span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span>ntg-context@ntg.nl<span class="brx">]</span>
<span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span>Unexpanded<span class="brx">]</span><span class="brx">[</span>mailto:<span class="cs"><span class="stylecs">\getvariable</span></span><span class="br">{</span>Sender<span class="br">}</span><span class="br">{</span>Mail<span class="br">}</span><span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="cs"><span class="stylecs">\getvariable</span></span><span class="br">{</span>Sender<span class="br">}</span><span class="br">{</span>Mail<span class="br">}</span><span class="brx">]</span>
<span class="comment">% same as above but within \expanded{}:</span>
<span class="cs"><span class="systemcs">\expanded</span></span><span class="br">{</span><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span>Expanded<span class="brx">]</span><span class="brx">[</span>mailto:<span class="cs"><span class="stylecs">\getvariable</span></span><span class="br">{</span>Sender<span class="br">}</span><span class="br">{</span>Mail<span class="br">}</span><span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="cs"><span class="stylecs">\getvariable</span></span><span class="br">{</span>Sender<span class="br">}</span><span class="br">{</span>Mail<span class="br">}</span><span class="brx">]</span><span class="br">}</span>
<span class="comment">%</span>
<span class="cs"><span class="documentcs">\starttext</span></span>
  <span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span>Direct<span class="brx">]</span> Direct input works<span class="cs"><span class="documentcs">\blank</span></span>
  <span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span>Unexpanded<span class="brx">]</span> Unexpanded fails<span class="cs"><span class="documentcs">\blank</span></span>
  <span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span>Expanded<span class="brx">]</span> Expanded works<span class="cs"><span class="documentcs">\blank</span></span>
  <span class="comment">%</span>
  In the PDF mind the tooltips and how the wrong line transfers to the mail client.
<span class="cs"><span class="documentcs">\stoptext</span></span>
</pre>
    <h3>
     <span class="mw-headline" id="Many_Different_Hyperrefs">
      Many Different Hyperrefs
     </span>
    </h3>
    <p>If you need many hyperrefs in your document these definitions may be handy for you
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs">\def</span><span class="cs">\href</span><span class="brx">#</span>1<span class="brx">#</span>2<span class="br">{</span><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span><span class="brx">#</span>2<span class="brx">]</span><span class="brx">[</span><span class="br">{</span><span class="brx">#</span>2<span class="br">}</span><span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="brx">]</span><span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span><span class="cs"><span class="documentcs">\url</span></span><span class="brx">[</span><span class="brx">#</span>2<span class="brx">]</span><span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span><span class="brx">#</span>1<span class="brx">)</span><span class="brx">]</span><span class="br">}</span>
<span class="cs">\def</span><span class="cs">\ahref</span><span class="brx">#</span>1<span class="br">{</span><span class="cs"><span class="documentcs">\color</span></span><span class="brx">[</span>linkcolor<span class="brx">]</span><span class="br">{</span><span class="cs">\ttx</span> <span class="cs">\href</span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="br">{</span>&lt;<span class="brx">#</span>1&gt;<span class="br">}</span><span class="br">}</span><span class="br">}</span>
<span class="cs">\def</span><span class="cs">\fullahref</span><span class="brx">#</span>1<span class="br">{</span><span class="cs"><span class="documentcs">\color</span></span><span class="brx">[</span>linkcolor<span class="brx">]</span><span class="br">{</span><span class="cs">\ttx</span> <span class="cs">\href</span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="br">{</span>http://<span class="brx">#</span>1<span class="br">}</span><span class="br">}</span><span class="br">}</span>
<span class="cs">\def</span><span class="cs">\mailto</span><span class="brx">#</span>1<span class="br">{</span><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span>mailto:<span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="brx">]</span><span class="br">}</span>
<span class="cs">\def</span><span class="cs">\MailTo</span><span class="brx">#</span>1<span class="brx">#</span>2<span class="br">{</span><span class="cs"><span class="stylecs">\useURL</span></span><span class="brx">[</span><span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span>mailto:<span class="brx">#</span>1<span class="brx">]</span><span class="brx">[</span><span class="brx">]</span><span class="brx">[</span><span class="brx">#</span>2<span class="brx">]</span><span class="cs"><span class="documentcs">\from</span></span><span class="brx">[</span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="brx">]</span><span class="br">}</span>

Send mail to <span class="cs">\MailTo</span><span class="br">{</span>foo@bar.zzz<span class="br">}</span><span class="br">{</span>Mr. Foo<span class="br">}</span>
</pre>
     </li>
     <li class="rendering">
      <img height="15" src="../wikiteximage/b8eca7925568efac9084ea887a15baf6.webp" width="160">
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="Avoid_Escaping_Characters">
      Avoid Escaping Characters
     </span>
    </h3>
    <p>In case you don&rsquo;t want to escape characters from your URLs, you might want to use the following command:
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupnote</span></span><span class="brx">[</span>footnote<span class="brx">]</span><span class="brx">[</span>location<span class="brx">=</span>text<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupnotation</span></span><span class="brx">[</span>footnote<span class="brx">]</span><span class="brx">[</span>alternative<span class="brx">=</span>serried, numbercommand<span class="brx">=</span><span class="cs">\tfx</span><span class="brx">]</span>
<span class="cs">\unexpanded</span><span class="cs">\def</span><span class="cs">\mypersonalurl</span><span class="brx">#</span>1<span class="br">{</span><span class="comment">%</span>
        <span class="cs">\bgroup</span><span class="cs">\tt</span><span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span><span class="cs"><span class="documentcs">\hyphenatedurl</span></span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span><span class="brx">#</span>1<span class="brx">)</span><span class="brx">]</span><span class="cs">\egroup</span><span class="br">}</span>

<span class="cs"><span class="documentcs">\startasciimode</span></span>
    <span class="cs">\mypersonalurl</span><span class="br">{</span>http://a.b?hpw<span class="comment">%20h#pw}</span>
<span class="cs"><span class="documentcs">\stopasciimode</span></span>
<span class="cs"><span class="documentcs">\startasciimode</span></span>
    <span class="cs"><span class="documentcs">\footnote</span></span><span class="br">{</span><span class="cs">\mypersonalurl</span><span class="br">{</span>http://a.b?hpw<span class="comment">%20h#pw}}</span>
<span class="cs"><span class="documentcs">\stopasciimode</span></span>
<span class="cs"><span class="documentcs">\placenotes</span></span><span class="brx">[</span>footnote<span class="brx">]</span>
</pre>
     </li>
     <li class="rendering">
      <img height="54" src="../wikiteximage/642b316a3d10bffe1479a2e3f1c6f78b.webp" width="190">
     </li>
    </ul>
    <p>But you have to consider one option to make it work:
</p>
    <ul>
     <li>
      Setting
      <tt>
       <a href="../Command/asciimode.html" title="Command/asciimode">
        \asciimode
       </a>
      </tt>
      for the whole document.
      <p>Comments won&rsquo;t work, because <code>%</code> will be considered a standard character.</p>
     </li>
    </ul>
    <ul>
     <li>
      Wrapping all URLs inside
      <tt>
       <a href="../Command/startasciimode.html" title="Command/startasciimode">
        \startasciimode
       </a>
      </tt>
      ...
      <tt>
       <a class="new" href="../index.php?title=Command/stopasciimode&action=edit&redlink=1.html" title="Command/stopasciimode (page does not exist)">
        \stopasciimode
       </a>
      </tt>
      .
      <p>If you use URLs inside footnotes, it is the whole footnote which has to be inside the pair of commands.</p>
      <p>Comments inside the mode won&rsquo;t work.</p>
     </li>
    </ul>
    <h3>
     <span class="mw-headline" id="External_Links">
      External Links
     </span>
    </h3>
    <p>Create a macro for external links in a colour that is distinct from other document links.
</p>
    <ul class="demo">
     <li class="code">
      <pre class="tex"><span class="comment">% Enable document colours</span>
<span class="cs"><span class="stylecs">\setupcolors</span></span><span class="brx">[</span>state<span class="brx">=</span>start,<span class="brx">]</span>

<span class="comment">% Internal link colours</span>
<span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>state<span class="brx">=</span>start,color<span class="brx">=</span>blue,<span class="brx">]</span>

<span class="comment">% External link colours</span>
<span class="cs"><span class="stylecs">\definecolor</span></span><span class="brx">[</span>steelblue<span class="brx">]</span><span class="brx">[</span>h<span class="brx">=</span>4682B4<span class="brx">]</span>
<span class="cs"><span class="systemcs">\define</span></span><span class="brx">[</span>2<span class="brx">]</span><span class="cs">\href</span><span class="br">{</span><span class="comment">%</span>
  <span class="cs">\begingroup</span>
    <span class="cs"><span class="stylecs">\setupinteraction</span></span><span class="brx">[</span>
      style<span class="brx">=</span>normal,
      color<span class="brx">=</span>steelblue,
    <span class="brx">]</span><span class="comment">%</span>
    <span class="cs"><span class="documentcs">\goto</span></span><span class="br">{</span><span class="brx">#</span>1<span class="br">}</span><span class="brx">[</span>url<span class="brx">(</span><span class="brx">#</span>2<span class="brx">)</span><span class="brx">]</span><span class="comment">%</span>
  <span class="cs">\endgroup</span><span class="comment">%</span>
<span class="br">}</span>

<span class="comment">% Set index colours</span>
<span class="cs"><span class="stylecs">\setupcombinedlist</span></span><span class="brx">[</span>content<span class="brx">]</span><span class="brx">[</span>
  interaction<span class="brx">=</span>all,
  color<span class="brx">=</span>red,
<span class="brx">]</span>

<span class="comment">% Set the table of contents colours</span>
<span class="cs"><span class="stylecs">\setuplist</span></span><span class="brx">[</span>chapter<span class="brx">]</span><span class="brx">[</span>
  <span class="comment">% Text colour</span>
  color<span class="brx">=</span>darkcyan,
  <span class="comment">% Page number colour</span>
  pagecolor<span class="brx">=</span>darkgreen,
<span class="brx">]</span>

<span class="comment">% Set up the index heading colour</span>
<span class="cs"><span class="stylecs">\setupregister</span></span><span class="brx">[</span>index<span class="brx">]</span><span class="brx">[</span>
  color<span class="brx">=</span>darkgray,
  balance<span class="brx">=</span>no,
<span class="brx">]</span>

<span class="cs">\def</span><span class="cs">\Google</span><span class="br">{</span>G<span class="cs"><span class="documentcs">\color</span></span><span class="brx">[</span>red<span class="brx">]</span><span class="br">{</span>o<span class="br">}</span><span class="cs"><span class="documentcs">\color</span></span><span class="brx">[</span>orange<span class="brx">]</span><span class="br">{</span>o<span class="br">}</span>g<span class="cs"><span class="documentcs">\color</span></span><span class="brx">[</span>green<span class="brx">]</span><span class="br">{</span>l<span class="br">}</span><span class="cs"><span class="documentcs">\color</span></span><span class="brx">[</span>red<span class="brx">]</span><span class="br">{</span>e<span class="br">}</span><span class="br">}</span>

<span class="comment">%\starttext  % makes no sense in the wiki</span>
<span class="cs"><span class="documentcs">\startTEXpage</span></span><span class="brx">[</span>offset<span class="brx">=</span>1dk, foregroundstyle<span class="brx">=</span><span class="cs">\tfb</span><span class="brx">]</span>
  <span class="cs"><span class="documentcs">\completecontent</span></span>

<span class="comment">%  \startchapter[title=chapter]</span>
Search <span class="cs"><span class="documentcs">\index</span></span><span class="br">{</span>source code<span class="br">}</span><span class="br">{</span>source code<span class="br">}</span> using <span class="cs">\href</span><span class="br">{</span><span class="cs">\Google</span><span class="br">{</span><span class="br">}</span> Website<span class="br">}</span><span class="br">{</span>http://google.com<span class="br">}</span>! Read about
<span class="cs"><span class="documentcs">\index</span></span><span class="br">{</span>syntax<span class="br">}</span><span class="br">{</span>syntax<span class="br">}</span>.
<span class="comment">%  \stopchapter</span>

<span class="cs"><span class="documentcs">\blank</span></span>

<span class="cs"><span class="documentcs">\placeindex</span></span>

<span class="cs"><span class="documentcs">\stopTEXpage</span></span>
<span class="comment">%\stoptext&nbsp;% makes no sense in the wiki</span>

</pre>
     </li>
     <li class="rendering">
      <img height="222" src="../wikiteximage/5bbb1c12b54102545b4ba7903006bbdf.webp" width="653">
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-11
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/References_notes_and_floats/URL">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
