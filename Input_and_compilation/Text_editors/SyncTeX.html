<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Input and compilation/Text editors/SyncTeX&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Input_and_compilation/Text_editors/SyncTeX" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Input and compilation/Text editors/SyncTeX
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=2728&diff=38593">2025-01-09</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p><b>SyncTeX</b> is a program that puts a lot of anchors in the output file that link to the corresponding position in the source file. This allows you to quickly jump from PDF to source. 
</p>
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Usage">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Usage
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Editors_.26_Viewers">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Editors & Viewers
        </span>
       </a>
       <ul>
        <li class="toclevel-2 tocsection-3">
         <a href="#TeXshop">
          <span class="tocnumber">
           2.1
          </span>
          <span class="toctext">
           TeXshop
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-4">
         <a href="#TeXWorks">
          <span class="tocnumber">
           2.2
          </span>
          <span class="toctext">
           TeXWorks
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-5">
         <a href="#Emacs_.2B_auctex">
          <span class="tocnumber">
           2.3
          </span>
          <span class="toctext">
           Emacs + auctex
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-6">
         <a href="#Evince.2C_Okular_.26_Kile">
          <span class="tocnumber">
           2.4
          </span>
          <span class="toctext">
           Evince, Okular & Kile
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-7">
         <a href="#Kate_.26_Okular">
          <span class="tocnumber">
           2.5
          </span>
          <span class="toctext">
           Kate & Okular
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-8">
         <a href="#Skim.app_.26_TextMate_.28MacOS_X.29">
          <span class="tocnumber">
           2.6
          </span>
          <span class="toctext">
           Skim.app & TextMate (MacOS X)
          </span>
         </a>
        </li>
        <li class="toclevel-2 tocsection-9">
         <a href="#Pulsar">
          <span class="tocnumber">
           2.7
          </span>
          <span class="toctext">
           Pulsar
          </span>
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Usage">
      Usage
     </span>
    </h2>
    <p>You can use the <code>--synctex</code> switch to enable SyncTeX.
</p>
    <pre>context --synctex <i>jobname</i>
</pre>
    <p>Alternatively you can add one of the following commands to your MkIV document:
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\setupsynctex</span></span><span class="brx">[</span>state<span class="brx">=</span>start,method<span class="brx">=</span>min<span class="brx">]</span> <span class="comment">% clickable words</span>
<span class="cs"><span class="stylecs">\setupsynctex</span></span><span class="brx">[</span>state<span class="brx">=</span>start,method<span class="brx">=</span>max<span class="brx">]</span> <span class="comment">% more efficient clickable ranges</span>
</pre>
    <p>This will create a file <code><i>jobname</i>.synctex</code>. The command
</p>
    <pre>context --purge
</pre>
    <p>or next run without <code>--synctex</code> will remove the file again.
</p>
    <p>Some editors/viewers need a different format, that you can enable by <code>--synctex=repeat</code> resp. <code>\setupsynctex[state=repeat]</code>.
</p>
    <p>To see what became clickable, use one of
</p>
    <pre class="tex"><span class="cs"><span class="stylecs">\enabletrackers</span></span><span class="brx">[</span>system.synctex.visualize<span class="brx">]</span>
<span class="cs"><span class="stylecs">\enabletrackers</span></span><span class="brx">[</span>system.synctex.visualize<span class="brx">=</span>real<span class="brx">]</span>
</pre>
    <p>This file can be used by your editor and PDF viewer to jump back and forth between the source and the PDF.
</p>
    <h2>
     <span id="Editors_&_Viewers">
     </span>
     <span class="mw-headline" id="Editors_.26_Viewers">
      Editors & Viewers
     </span>
    </h2>
    <h3>
     <span class="mw-headline" id="TeXshop">
      TeXshop
     </span>
    </h3>
    <p>Works quite well, but needs &ldquo;magic lines&rdquo; like:
</p>
    <pre>   % !TEX TS-program = ConTeXt2023
   % !TEX useAlternatePath
   % !TEX useConTeXtSyncParser
</pre>
    <p>Setup see <a href="TeXShop.html" title="Input and compilation/Text editors/TeXShop">extra page on TeXshop</a>.
</p>
    <h3>
     <span class="mw-headline" id="TeXWorks">
      TeXWorks
     </span>
    </h3>
    <p>You may need to modify the command for executing ConTeXt first (you need to add <code>--synctex</code> switch in preferences).
</p>
    <h3>
     <span id="Emacs_+_auctex">
     </span>
     <span class="mw-headline" id="Emacs_.2B_auctex">
      Emacs + auctex
     </span>
    </h3>
    <p>To implement forward search with auctex (i.e., open the viewer at the right page from emacs)
creating a shell script called <b>synctex</b> in some directory which precedes one containing
the "usual" synctex (if any) in your $PATH with the following contents has been demonstrated
to work on at least Slackware64 15.0:
</p>
    <pre>#! /bin/zsh

# synctex replacement to allow forward search from emacs+auctex to (at least) evince

# Emacs + auctex calls synctex up to three times.
# For example, attempting to view the PDF of &lt;FILE&gt;.tex would cause
# emacs to run the following commands ($PWD is the path to the
# current directory):
#    synctex view -i &lt;LINE&gt;:&lt;COL&gt;:$PWD/./&lt;FILE&gt;.tex -o &lt;FILE&gt;.pdf
#    synctex view -i &lt;LINE&gt;:&lt;COL&gt;:&lt;FILE&gt;.tex -o &lt;FILE&gt;.pdf
#    synctex view -i &lt;LINE&gt;:&lt;COL&gt;:$PWD/&lt;FILE&gt;.tex -o &lt;FILE&gt;.pdf

line_number=${3%%:*}
tex_file=${3##*:}
synctex_file=${tex_file%.tex}.synctex

# Transmogrify the output format of mtxrun into something that emacs+auctex
# (and maybe other editors?) recognizes:
mtxrun --script synctex --find \
    --file=$tex_file --line=$line_number $synctex_file \
    | sed 's/.*page=/Page:/'
</pre>
    <p>(Note: this has only been tested with simple document structures.)
</p>
    <h3>
     <span id="Evince,_Okular_&_Kile">
     </span>
     <span class="mw-headline" id="Evince.2C_Okular_.26_Kile">
      Evince, Okular & Kile
     </span>
    </h3>
    <p>Okular (the KDE PDF viewer) and Evince (the GNOME one) support SyncTeX (the latter since version 2.32.0).
</p>
    <p>To forward something from a text editor to Okular, do
</p>
    <pre>okular --unique '${pdffile}#src:${linenumber} ${texfile}'
</pre>
    <p>Kile&rsquo;s (the KDE TeX IDE&rsquo;s) ForwardPDF function should support SyncTeX, but it doesn&rsquo;t seem to work with ConTeXt at the time of writing
</p>
    <h3>
     <span id="Kate_&_Okular">
     </span>
     <span class="mw-headline" id="Kate_.26_Okular">
      Kate & Okular
     </span>
    </h3>
    <ul>
     <li>
      You have to compile with
      <tt>
       --synctex=repeat
      </tt>
      <ul>
       <li>
        <code>context --synctex=repeat myfile.tex</code>
       </li>
      </ul>
     </li>
     <li>
      From Okular to Kate (forward search)
      <ul>
       <li>
        configuration &gt; Configure Okular &gt; Editor &gt; Kate &gt;
        <tt>
         kate --line %l --column %c
        </tt>
       </li>
       <li>
        the current mode should be "browse"
        <tt>
         ctrl+1
        </tt>
        , not "area selection", nor "text selection" etc...
       </li>
       <li>
        <tt>
         maj+clic
        </tt>
        will load the file in kate at the appropriate line
       </li>
      </ul>
     </li>
     <li>
      From Okular to Kate (inverse search)
      <ul>
       <li>
        no solution yet
       </li>
      </ul>
     </li>
    </ul>
    <h3>
     <span id="Skim.app_&_TextMate_(MacOS_X)">
     </span>
     <span class="mw-headline" id="Skim.app_.26_TextMate_.28MacOS_X.29">
      Skim.app & TextMate (MacOS X)
     </span>
    </h3>
    <p>In Skim/Preferences/Sync choose TextMate. The key combination
</p>
    <pre>Shift + Apple + MouseClick
</pre>
    <p>will bring you to the corresponding line in text editor.
</p>
    <p>In <a href="TextMate.html" title="Input and compilation/Text editors/TextMate">TextMate</a> I have created my own command inside the ConTeXt bundle:
</p>
    <ul>
     <li>
      <b>
       Save
      </b>
      : Nothing
     </li>
     <li>
      <b>
       Command(s)
      </b>
     </li>
    </ul>
    <pre>#!/bin/bash
pdf=${TM_FILEPATH%tex}pdf
/Applications/Skim.app/Contents/SharedSupport/displayline -r "$TM_LINE_NUMBER" "${pdf}"
</pre>
    <ul>
     <li>
      <b>
       Input
      </b>
      : None
     </li>
     <li>
      <b>
       Output
      </b>
      : Discard
     </li>
     <li>
      <b>
       Activation
      </b>
      : Key Equivalent (choose one; I used Ctrl+Alt+Apple+O)
     </li>
     <li>
      <b>
       Scope Selector
      </b>
      : text.tex.context
     </li>
    </ul>
    <p>If you use <code>Apple+R</code> for typesetting that needs to be modified as well (to account for --synctex switch).
</p>
    <p>Hopefully this functionality will become part of the official ConTeXt bundle one day. (The recipe given above is too specific. The code needs to be written to handle more different viewers and different locations, not only a single viewer at a specified location.)
</p>
    <h3>
     <span class="mw-headline" id="Pulsar">
      Pulsar
     </span>
    </h3>
    <ul>
     <li>
      Install ConTeXt support from
      <a class="external free" href="https://codeberg.org/fiee/language-context-lmtx" rel="nofollow">
       https://codeberg.org/fiee/language-context-lmtx
      </a>
     </li>
     <li>
      Install the
      <code>pdfjs-viewer</code>
      plugin. There are several plugins for pdf.js, but only this works for me.
     </li>
     <li>
      SyncTeX support is commented in the plugin&rsquo;s source code; according to this
      <a class="external text" href="https://github.com/allefeld/atom-pdfjs-viewer/issues/15" rel="nofollow">
       open ticket
      </a>
      , edit
      <code>~/.pulsar/packages/pdfjs-viewer/lib/pdfjs-viewer-view.js</code>
      :
      <ul>
       <li>
        uncomment line 71+72
       </li>
       <li>
        add "var" at the begin of line 217
       </li>
      </ul>
     </li>
     <li>
      Set the path to the
      <code>synctex</code>
      binary (e.g. from TeX live) in the plugin preferences.
     </li>
     <li>
      Restart the editor.
     </li>
     <li>
      Use
      <code>context --synctex=repeat myfile.tex</code>
      .
     </li>
     <li>
      Open myfile.pdf from the editor&rsquo;s file browser and right-click to find the source location.
     </li>
    </ul>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-10
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Input_and_compilation/Text_editors/SyncTeX">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
