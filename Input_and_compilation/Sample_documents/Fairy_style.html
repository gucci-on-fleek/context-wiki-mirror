<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <link href="../../style.css" rel="stylesheet">
  <link href="../../favicon.ico" rel="icon" sizes="32x32">
  <title>
   Input and compilation/Sample documents/Fairy style&mdash;ConTeXt Wiki Mirror
  </title>
  <link href="https://wiki.contextgarden.net/Input_and_compilation/Sample_documents/Fairy_style" rel="canonical">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="#241504" name="theme-color">
  <meta content="light dark" name="color-scheme">
 </head>
 <body>
  <header>
   <h1 id="page-title">
    Input and compilation/Sample documents/Fairy style
   </h1>
   <p>Unofficial <a href="https://wiki.contextgarden.net/">ConTeXt Wiki</a> mirror</p>
   <p>Last modified: <a href="https://wiki.contextgarden.net/index.php?curid=3499&diff=38851">2025-01-10</a>
        </p>
  </header>
  <article>
   <div class="mw-parser-output">
    <p>This is the setup for a book of fairy tales. It works with MkIV from 2011-12.
</p>
    <p>The actual book is scheduled for printing in spring 2012, so some details aren&rsquo;t fixed yet.
</p>
    <div class="toc" id="toc">
     <input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox">
     <div class="toctitle" dir="ltr" lang="en">
      <h2>
       Contents
      </h2>
      <span class="toctogglespan">
       <label class="toctogglelabel" for="toctogglecheckbox">
       </label>
      </span>
     </div>
     <ul>
      <li class="toclevel-1 tocsection-1">
       <a href="#Environment">
        <span class="tocnumber">
         1
        </span>
        <span class="toctext">
         Environment
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-2">
       <a href="#Project">
        <span class="tocnumber">
         2
        </span>
        <span class="toctext">
         Project
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-3">
       <a href="#Product">
        <span class="tocnumber">
         3
        </span>
        <span class="toctext">
         Product
        </span>
       </a>
      </li>
      <li class="toclevel-1 tocsection-4">
       <a href="#Component">
        <span class="tocnumber">
         4
        </span>
        <span class="toctext">
         Component
        </span>
       </a>
      </li>
     </ul>
    </div>
    <h2>
     <span class="mw-headline" id="Environment">
      Environment
     </span>
    </h2>
    <pre class="tex"><span class="cs"><span class="documentcs">\startenvironment</span></span> env_fairy
<span class="cs"><span class="documentcs">\project</span></span> project_fairy

<span class="comment">% Language</span>
<span class="cs"><span class="stylecs">\mainlanguage</span></span>		<span class="brx">[</span>de<span class="brx">]</span>

<span class="comment">% Fonts & Typography</span>
<span class="cs"><span class="stylecs">\setupbodyfontenvironment</span></span>	<span class="brx">[</span>default<span class="brx">]</span><span class="brx">[</span>em<span class="brx">=</span>italic<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definefontfeature</span></span>	<span class="brx">[</span>default<span class="brx">]</span><span class="brx">[</span>default<span class="brx">]</span><span class="brx">[</span>protrusion<span class="brx">=</span>quality,expansion<span class="brx">=</span>quality<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupalign</span></span><span class="brx">[</span>hz,hanging<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definefontsynonym</span></span> <span class="brx">[</span>WieynkInitialen<span class="brx">]</span>   <span class="brx">[</span>file:WieynkFraktur-Initialen.otf<span class="brx">]</span>   <span class="brx">[</span>features<span class="brx">=</span>default<span class="brx">]</span>
<span class="comment">% free Fraktur initials, e.g. from here: http://fontpark.net/de/schriftart/wieynk-fraktur-initialen/</span>

<span class="cs"><span class="stylecs">\usetypescript</span></span><span class="brx">[</span>antykwa-torunska<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupbodyfont</span></span><span class="brx">[</span>antykwa,rm,10pt<span class="brx">]</span>

<span class="cs"><span class="stylecs">\setupinitial</span></span><span class="brx">[</span>color<span class="brx">=</span>Sonder,font<span class="brx">=</span>WieynkInitialen at 34pt,distance<span class="brx">=</span>3pt<span class="brx">]</span> <span class="comment">% state,location,n,distance,command,font</span>
<span class="comment">% use with \placeinitial</span>

<span class="comment">% Page Layout</span>
<span class="cs"><span class="stylecs">\setuppapersize</span></span><span class="brx">[</span>A5<span class="brx">]</span><span class="brx">[</span>A5<span class="brx">]</span> <span class="comment">% we didn&rsquo;t decice yet on the actual page size</span>
<span class="cs"><span class="stylecs">\setuplayout</span></span><span class="brx">[</span><span class="comment">%</span>
	location<span class="brx">=</span>middle,marking<span class="brx">=</span>on,<span class="comment">%</span>
	grid<span class="brx">=</span>yes
<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setuppagenumbering</span></span><span class="brx">[</span>
	alternative<span class="brx">=</span>doublesided,
	location<span class="brx">=</span><span class="br">{</span>footer,right<span class="br">}</span>,
	sectionnumber<span class="brx">=</span>no,
	strut<span class="brx">=</span>yes, state<span class="brx">=</span>start<span class="brx">]</span>

<span class="comment">% Text</span>
<span class="cs"><span class="stylecs">\setuptolerance</span></span><span class="brx">[</span>vertical,verystrict<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setuptolerance</span></span><span class="brx">[</span>horizontal,verytolerant<span class="brx">]</span>
<span class="cs">\clubpenalty</span><span class="brx">=</span>10000 <span class="comment">% keine Schusterjungen / no clubs</span>
<span class="cs">\widowpenalty</span><span class="brx">=</span>10000 <span class="comment">% keine Hurenkinder / no widows</span>
<span class="cs"><span class="stylecs">\setbreakpoints</span></span><span class="brx">[</span>compound<span class="brx">]</span> <span class="comment">% Bindestrich immer als Trennstelle bevorzugen / prefer hyphen as hyphenation point</span>
<span class="cs"><span class="stylecs">\setupindenting</span></span><span class="brx">[</span>yes, medium<span class="brx">]</span>

<span class="cs"><span class="stylecs">\setuplines</span></span><span class="brx">[</span>before<span class="brx">=</span><span class="br">{</span><span class="br">}</span>, after<span class="brx">=</span><span class="br">{</span><span class="br">}</span>, indenting<span class="brx">=</span>no, space<span class="brx">=</span>no<span class="brx">]</span> <span class="comment">% for poems/spells etc.</span>
<span class="cs"><span class="stylecs">\setupblank</span></span><span class="brx">[</span>big<span class="brx">]</span>

<span class="comment">% Headers and Footers</span>
<span class="cs"><span class="stylecs">\setupheader</span></span><span class="brx">[</span>text<span class="brx">]</span><span class="brx">[</span>state<span class="brx">=</span>stop, location<span class="brx">=</span>high<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupnote</span></span><span class="brx">[</span>footnote<span class="brx">]</span><span class="brx">[</span>way<span class="brx">=</span>bypage<span class="brx">]</span>

<span class="comment">% Titling</span>
<span class="cs"><span class="stylecs">\definefont</span></span><span class="brx">[</span>PartStyle<span class="brx">]</span><span class="brx">[</span>Serif at 48pt<span class="brx">]</span>

<span class="cs"><span class="stylecs">\setupheads</span></span>	<span class="brx">[</span>align<span class="brx">=</span><span class="br">{</span>right,nothyphenated<span class="br">}</span>, tolerance<span class="brx">=</span>verytolerant,
		before<span class="brx">=</span><span class="cs"><span class="documentcs">\startlinecorrection</span></span>,
		after<span class="brx">=</span><span class="cs"><span class="documentcs">\stoplinecorrection</span></span>, number<span class="brx">=</span>no<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setuphead</span></span><span class="brx">[</span>part<span class="brx">]</span><span class="brx">[</span>page<span class="brx">=</span>right, placehead<span class="brx">=</span>yes, style<span class="brx">=</span>PartStyle<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setuphead</span></span><span class="brx">[</span>chapter<span class="brx">]</span><span class="brx">[</span>page<span class="brx">=</span>yes, style<span class="brx">=</span><span class="br">{</span><span class="cs">\tfc</span><span class="br">}</span><span class="brx">]</span>
<span class="cs"><span class="stylecs">\setuphead</span></span><span class="brx">[</span>section<span class="brx">]</span><span class="brx">[</span>page<span class="brx">=</span>no, style<span class="brx">=</span><span class="br">{</span><span class="cs">\tfa</span><span class="cs">\it</span><span class="br">}</span><span class="brx">]</span>

<span class="comment">% Register</span>
<span class="cs"><span class="stylecs">\setuplist</span></span><span class="brx">[</span>part<span class="brx">]</span><span class="brx">[</span>label<span class="brx">=</span>no<span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupregister</span></span><span class="brx">[</span>content<span class="brx">]</span><span class="brx">[</span>
chapternumber<span class="brx">=</span>no,
alternative<span class="brx">=</span>A,
criterium<span class="brx">=</span>all
<span class="brx">]</span>

<span class="comment">% Pictures and colors</span>
<span class="cs"><span class="stylecs">\setupexternalfigures</span></span><span class="brx">[</span>directory<span class="brx">=</span><span class="br">{</span>img<span class="br">}</span>,width<span class="brx">=</span><span class="cs">\textwidth</span><span class="brx">]</span>
<span class="cs"><span class="stylecs">\setupfloats</span></span><span class="brx">[</span>indentnext<span class="brx">=</span>no<span class="brx">]</span>

<span class="cs"><span class="stylecs">\definecolor</span></span><span class="brx">[</span>Sonder<span class="brx">]</span><span class="brx">[</span>k<span class="brx">=</span>.6,c<span class="brx">=</span>0<span class="brx">]</span> <span class="comment">% doesn&rsquo;t work without "c"; we don&rsquo;t yet know if we will print in color</span>

<span class="comment">% Misc</span>
<span class="cs">\def</span><span class="cs">\Source</span><span class="brx">#</span>1<span class="br">{</span><span class="cs">\vfill</span><span class="cs"><span class="documentcs">\startlinecorrection</span></span><span class="cs">\noindent</span><span class="br">{</span><span class="cs">\tfx</span><span class="cs"><span class="documentcs">\em</span></span> <span class="brx">#</span>1<span class="br">}</span><span class="cs"><span class="documentcs">\stoplinecorrection</span></span><span class="br">}</span>
<span class="cs">\def</span><span class="cs">\Author</span><span class="brx">#</span>1<span class="br">{</span><span class="br">{</span><span class="cs">\hfill</span><span class="cs"><span class="documentcs">\em</span></span> <span class="brx">#</span>1<span class="br">}</span><span class="br">}</span>

<span class="cs"><span class="stylecs">\usemodule</span></span><span class="brx">[</span>fancybreak<span class="brx">]</span> <span class="comment">% by Wolfgang, from https://bitbucket.org/wolfs/fancybreak/</span>
<span class="cs">\setupfancybreak</span><span class="brx">[</span>indentnext<span class="brx">=</span>no<span class="brx">]</span>

<span class="cs">\def</span><span class="cs">\Gap</span><span class="br">{</span><span class="cs">\fancybreak</span><span class="br">{</span><span class="cs"><span class="stylecs">\strut</span></span><span class="br">}</span><span class="br">}</span> <span class="comment">% We didn&rsquo;t yet decide on a divison symbol (e.g. English line)</span>

<span class="cs"><span class="documentcs">\stopenvironment</span></span>
</pre>
    <h2>
     <span class="mw-headline" id="Project">
      Project
     </span>
    </h2>
    <pre class="tex"><span class="cs"><span class="documentcs">\startproject</span></span> project_fairy
<span class="cs"><span class="documentcs">\environment</span></span> env_fairy
	<span class="cs"><span class="documentcs">\product</span></span> prd_fairy
<span class="cs"><span class="documentcs">\stopproject</span></span>
</pre>
    <h2>
     <span class="mw-headline" id="Product">
      Product
     </span>
    </h2>
    <pre class="tex"><span class="cs"><span class="documentcs">\startproduct</span></span> prd_fairy
<span class="cs"><span class="documentcs">\project</span></span> project_fairy

<span class="cs"><span class="documentcs">\startfrontmatter</span></span>

<span class="cs"><span class="documentcs">\title</span></span><span class="br">{</span>Inhalt<span class="br">}</span>

<span class="cs"><span class="documentcs">\placecontent</span></span>

<span class="cs"><span class="documentcs">\stopfrontmatter</span></span>

<span class="comment">%\startbodymatter&nbsp;% doesn&rsquo;t work</span>
	<span class="cs"><span class="documentcs">\component</span></span> c_preface

<span class="cs"><span class="documentcs">\part</span></span><span class="br">{</span>Fairies<span class="br">}</span>

	<span class="cs"><span class="documentcs">\component</span></span> fairies/c_fee
	<span class="comment">% etc.</span>

<span class="cs"><span class="documentcs">\part</span></span><span class="br">{</span>Elvenkind<span class="br">}</span>

	<span class="cs"><span class="documentcs">\component</span></span> elves/c_taco
	<span class="comment">% etc.</span>

<span class="comment">%\stopbodymatter</span>

<span class="cs"><span class="documentcs">\startbackmatter</span></span>

	<span class="cs"><span class="documentcs">\chapter</span></span><span class="br">{</span>Quellen<span class="br">}</span>

	<span class="cs"><span class="documentcs">\chapter</span></span><span class="br">{</span>Zum Weiterlesen<span class="br">}</span>

<span class="cs"><span class="documentcs">\stopbackmatter</span></span>

<span class="cs"><span class="documentcs">\stopproduct</span></span>
</pre>
    <h2>
     <span class="mw-headline" id="Component">
      Component
     </span>
    </h2>
    <pre class="tex"><span class="cs"><span class="documentcs">\startcomponent</span></span> c_fee
<span class="cs"><span class="documentcs">\project</span></span> project_fairy
<span class="cs"><span class="documentcs">\product</span></span> prd_fairy

<span class="cs"><span class="documentcs">\startchapter</span></span><span class="brx">[</span>title<span class="brx">=</span><span class="br">{</span>Die Fee<span class="br">}</span><span class="brx">]</span>

<span class="cs"><span class="documentcs">\placeinitial</span></span> Es war einmal&hellip; <span class="cs"><span class="documentcs">\input</span></span> knuth

<span class="cs">\Gap</span>

<span class="cs"><span class="documentcs">\input</span></span> tufte

<span class="cs">\Source</span><span class="br">{</span>The <span class="cs"><span class="documentcs">\TEX</span></span> book<span class="br">}</span>

<span class="cs"><span class="documentcs">\stopchapter</span></span>

<span class="cs"><span class="documentcs">\stopcomponent</span></span>
</pre>
   </div>
  </article>
  <footer>
   <ul role="list">
    <li>
     <a href="../../index.html">
      Home
     </a>
    </li>
    <li>
     Mirrored on 2026-01-12
    </li>
    <li>
     <a href="http://www.gnu.org/copyleft/fdl.html" rel="license">
      GFDL 1.2
     </a>
    </li>
    <li>
     <a href="https://wiki.contextgarden.net/Input_and_compilation/Sample_documents/Fairy_style">
      Original page
     </a>
    </li>
   </ul>
  </footer>
 </body>
</html>
